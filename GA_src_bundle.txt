Geaux Academy SRC Bundle
Root: /home/evopimp/Geaux-Dev/GA-MVP
Src:  /home/evopimp/Geaux-Dev/GA-MVP/src
Generated: 2025-12-31T02:07:28
Max bytes per file: 750000

====================================================================================================
FILE: src/App.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/App.css
SIZE: 1665 bytes
SHA256: dc615fd85f4d21b90fd91ab3c9f121a807fa24aca898651b6e2da816724598ae
====================================================================================================
/* Reset box-sizing */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

#root {
  width: 100%;
  min-height: 100vh;
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

/* Add vendor prefixes for animations */
@-webkit-keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}

.app {
  min-height: 100vh;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  flex-direction: column;
  padding-top: var(--header-height, 64px); /* Add padding for fixed header */
}

main {
  flex: 1;
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

.main-content {
  flex: 1;
  width: 100%;
  max-width: var(--max-width, 1200px);
  margin: 0 auto;
  padding: 2rem 1rem;
  min-height: calc(100vh - var(--header-height) - var(--footer-height, 0px));
}

@media (max-width: 768px) {
  .main-content {
    padding: 1rem;
    margin-left: 0;
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  #root {
    padding: 1rem;
  }
}

.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

====================================================================================================
FILE: src/App.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/App.tsx
SIZE: 6588 bytes
SHA256: 77cfb6b8af5b22a88b5271ac5dc898839cdf2a9277ac5ad3a29e7c8902978db6
====================================================================================================
import React, { useEffect, Suspense } from 'react';
import { Routes, Route, useLocation } from 'react-router-dom';
import styled from 'styled-components';
import Layout from './components/layout/Layout';
import LoadingSpinner from './components/common/LoadingSpinner';
import PrivateRoute from './components/PrivateRoute';
import AuthRoute from './components/auth/AuthRoute';
import ErrorBoundary from './components/shared/ErrorBoundary';
import RenderDebugOverlay from './components/debug/RenderDebugOverlay';
import { useAuth } from './contexts/AuthContext';
import { auth } from './config/firebase';
import { ThemeModeProvider } from './theme/ThemeModeContext';

// Lazy load components with explicit types
const Home = React.lazy(() => import('./pages/Home'));
const About = React.lazy(() => import('./pages/About'));
const Contact = React.lazy(() => import('./pages/Contact'));
const Features = React.lazy(() => import('./pages/Features'));
const Login = React.lazy(() => import('./pages/Login'));
const SignUp = React.lazy(() => import('./components/auth/SignUp'));
const LearningStyles = React.lazy(() => import('./pages/LearningStyles'));
const Curriculum = React.lazy(() => import('./pages/Curriculum'));
const ParentDashboard = React.lazy(() => import('./pages/profile/ParentProfile/ParentDashboard'));
const StudentDashboard = React.lazy(() => import('./pages/profile/StudentProfile/StudentDashboard'));
const StudentProfile = React.lazy(() => import('./pages/profile/StudentProfile/StudentProfile'));
const LearningPlan = React.lazy(() => import('./pages/LearningPlan'));
const TakeAssessment = React.lazy(() => import('./pages/TakeAssessment'));
const LearningStyleChat = React.lazy(() => import('./components/chat/LearningStyleChat'));
const TestChat = React.lazy(() => import('./components/chat/TestChat'));
const Todos = React.lazy(() => import('./pages/Todos'));
const NotFound = React.lazy(() => import('./pages/NotFound'));

const DebugPanel: React.FC = () => {
  const { currentUser, isAuthReady } = useAuth();
  const location = useLocation();

  if (!import.meta.env.DEV) {
    return null;
  }

  return (
    <DebugPanelContainer>
      <div><strong>Auth Debug</strong></div>
      <div>isAuthReady: {String(isAuthReady)}</div>
      <div>currentUser.uid: {currentUser?.uid ?? 'null'}</div>
      <div>auth.currentUser.uid: {auth.currentUser?.uid ?? 'null'}</div>
      <div>route: {location.pathname}</div>
    </DebugPanelContainer>
  );
};

const App: React.FC = (): JSX.Element => {
  // Register service worker for Firebase messaging
  useEffect(() => {
    const registerServiceWorker = async (): Promise<void> => {
      const enableMessaging = import.meta.env.VITE_ENABLE_MESSAGING === 'true';
      if (!enableMessaging) return;
      if (!('serviceWorker' in navigator)) return;
      if (!window.isSecureContext && import.meta.env.MODE !== 'development') {
        console.debug('[sw] Skipped (insecure context outside dev)');
        return;
      }
      try {
        const qp = new URLSearchParams({
          apiKey: import.meta.env.VITE_FIREBASE_API_KEY || '',
          authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN || '',
            projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID || '',
          storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET || '',
          messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID || '',
          appId: import.meta.env.VITE_FIREBASE_APP_ID || ''
        }).toString();
        const swUrl = `/firebase-messaging-sw.js?${qp}`;
        const registration = await navigator.serviceWorker.register(swUrl, {
          scope: '/',
          type: 'module',
          updateViaCache: import.meta.env.DEV ? 'none' : 'imports'
        });
        console.debug('[sw] Registered:', registration.scope);
      } catch (error) {
        const msg = error instanceof Error ? error.message : 'Unknown error';
        (import.meta.env.PROD ? console.error : console.warn)('[sw] Registration failed:', msg);
      }
    };
    registerServiceWorker();
  }, []);
  
  return (
    <ErrorBoundary>
      <ThemeModeProvider>
        <AppContainer>
          <Suspense fallback={<LoadingSpinner />}>
            <Routes>
              <Route element={<Layout />}>
                {/* Public Routes */}
                <Route path="/" element={<Home />} />
                <Route path="/about" element={<About />} />
                <Route path="/contact" element={<Contact />} />
                <Route path="/features" element={<Features />} />
                <Route path="/login" element={<AuthRoute><Login /></AuthRoute>} />
                <Route path="/signup" element={<AuthRoute><SignUp /></AuthRoute>} />
                <Route path="/learning-styles" element={<LearningStyles />} />
                <Route path="/curriculum" element={<Curriculum />} />
                <Route path="/todos" element={<Todos />} />
                
                {/* Protected Routes */}
                <Route path="/dashboard" element={<PrivateRoute><ParentDashboard /></PrivateRoute>} />
                <Route path="/parent-dashboard" element={<PrivateRoute><ParentDashboard /></PrivateRoute>} />
                <Route path="/student-dashboard/:id" element={<PrivateRoute><StudentDashboard /></PrivateRoute>} />
                <Route path="/student-profile/:id" element={<PrivateRoute><StudentProfile /></PrivateRoute>} />
                <Route path="/learning-plan" element={<PrivateRoute><LearningPlan /></PrivateRoute>} />
                <Route path="/assessment/:studentId" element={<PrivateRoute><TakeAssessment /></PrivateRoute>} />
                <Route path="/learning-style-chat/:studentId" element={<PrivateRoute><LearningStyleChat /></PrivateRoute>} />
                <Route path="/test-chat" element={<PrivateRoute><TestChat /></PrivateRoute>} />
                <Route path="*" element={<NotFound />} />
              </Route>
            </Routes>
          </Suspense>
          <RenderDebugOverlay />
          <DebugPanel />
        </AppContainer>
      </ThemeModeProvider>
    </ErrorBoundary>
  );
};

const AppContainer = styled.div`
  min-height: 100vh;
  background-color: ${({ theme }) => theme.palette.background.default};
`;

const DebugPanelContainer = styled.div`
  position: fixed;
  top: 12px;
  right: 12px;
  z-index: 9999;
  padding: 10px 12px;
  background: rgba(0, 0, 0, 0.75);
  color: #fff;
  font-size: 12px;
  line-height: 1.4;
  border-radius: 8px;
  pointer-events: none;
  max-width: 240px;
  word-break: break-word;
`;

export default App;

====================================================================================================
FILE: src/cleanup-workspace.sh
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/cleanup-workspace.sh
SIZE: 1121 bytes
SHA256: 16c0efc6983bfed66a1782552f47a94e20fa75d9bc80bc1d6053d082fb5b53c1
====================================================================================================
#!/bin/bash

# Remove duplicate/legacy files
echo "Removing duplicate and legacy files..."
rm components/Header.jsx
rm components/ParentDashboardLegacy.tsx
rm components/Sidebar.jsx
rm components/auth/LoginForm.jsx
rm components/layout/Header.jsx
rm components/layout/Layout.jsx
rm components/layout/Navbar.jsx
rm components/layout/Navigation.jsx
rm components/layout/Sidebar.jsx
rm components/layout/styles/Header.jsx
rm components/shared/Button.jsx
rm components/shared/LoadingSpinner.jsx
rm config/firebase.js
rm firebase/config.js
rm pages/*Legacy.jsx

# Move files to their new locations
echo "Moving files to new locations..."
mv components/ParentProfile/ParentProfile.tsx components/profile/
mv components/StudentProfileForm.tsx components/profile/
mv styles/* components/layout/styles/
rmdir styles

# Move component-specific styles to their folders
echo "Moving component styles..."
for cssfile in components/layout/styles/*.css; do
  component_name=$(basename "$cssfile" .css)
  target_dir="components/layout/"
  if [ -d "$target_dir" ]; then
    mv "$cssfile" "$target_dir"
  fi
done

echo "Cleanup complete!"

====================================================================================================
FILE: src/components/agent-ui/AgentTaskCreator.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/agent-ui/AgentTaskCreator.tsx
SIZE: 3519 bytes
SHA256: 0605bfc29cfbd592031c212f68a6fc022b23be1ce30a07d640ad24da0e5f4ea7
====================================================================================================
// frontend/src/components/agent-ui/AgentTaskCreator.tsx
import React, { useState } from 'react';
import { useAgentTask } from '../../hooks/useAgentTask';
import { TaskRequest } from '../../types/task';
import TaskProgressBar from './TaskProgressBar';
import AgentResponseViewer from './AgentResponseViewer';
import Button from '../common/Button';
import LoadingSpinner from '../common/LoadingSpinner';

interface AgentTaskCreatorProps {
  defaultSubject?: string;
  defaultGradeLevel?: string;
  defaultLearningStyle?: string;
}

export const AgentTaskCreator: React.FC<AgentTaskCreatorProps> = ({
  defaultSubject = '',
  defaultGradeLevel = 'elementary',
  defaultLearningStyle = 'visual'
}) => {
  const [subject, setSubject] = useState(defaultSubject);
  const [gradeLevel, setGradeLevel] = useState(defaultGradeLevel);
  const [learningStyle, setLearningStyle] = useState(defaultLearningStyle);
  
  const { taskId, status, result, loading, error, startTask } = useAgentTask();
  
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    
    const taskRequest: TaskRequest = {
      task_type: 'curriculum_generation',
      subject,
      grade_level: gradeLevel,
      learning_style: learningStyle,
      custom_params: {}
    };
    
    await startTask(taskRequest);
  };
  
  return (
    <div className="agent-task-creator">
      <h2>Generate Personalized Curriculum</h2>
      
      <form onSubmit={handleSubmit}>
        <div className="form-group">
          <label htmlFor="subject">Subject</label>
          <input
            id="subject"
            type="text"
            value={subject}
            onChange={(e) => setSubject(e.target.value)}
            placeholder="e.g., Math, Science, History"
            required
          />
        </div>
        
        <div className="form-group">
          <label htmlFor="gradeLevel">Grade Level</label>
          <select
            id="gradeLevel"
            value={gradeLevel}
            onChange={(e) => setGradeLevel(e.target.value)}
            required
          >
            <option value="elementary">Elementary</option>
            <option value="middle">Middle School</option>
            <option value="high">High School</option>
          </select>
        </div>
        
        <div className="form-group">
          <label htmlFor="learningStyle">Learning Style</label>
          <select
            id="learningStyle"
            value={learningStyle}
            onChange={(e) => setLearningStyle(e.target.value)}
            required
          >
            <option value="visual">Visual</option>
            <option value="auditory">Auditory</option>
            <option value="reading">Reading/Writing</option>
            <option value="kinesthetic">Kinesthetic</option>
          </select>
        </div>
        
        <Button 
          type="submit" 
          disabled={loading}
          variant="primary"
        >
          {loading ? 'Generating...' : 'Generate Curriculum'}
        </Button>
      </form>
      
      {loading && (
        <div className="task-loading">
          <TaskProgressBar status={status} />
          <p>Our AI agents are working together to create your personalized curriculum...</p>
        </div>
      )}
      
      {error && (
        <div className="task-error">
          <h3>Error</h3>
          <p>{error.message}</p>
        </div>
      )}
      
      {result && (
        <AgentResponseViewer result={result} />
      )}
    </div>
  );
};

====================================================================================================
FILE: src/components/agent-ui/learning/__tests__/CurriculumGenerator.integration.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/agent-ui/learning/__tests__/CurriculumGenerator.integration.test.tsx
SIZE: 4993 bytes
SHA256: 768a10e596eea3702abb55498298e896a7e6d706e024cad7151f0a7bfef23d52
====================================================================================================
// File: /src/components/agent-ui/learning/__tests__/CurriculumGenerator.integration.test.tsx
import React from 'react';
import { render, screen, fireEvent, act } from '@testing-library/react';
import { CurriculumGenerator } from '../CurriculumGenerator';
import { WebSocketMock } from '../../../../test/mocks/WebSocketMock';
import websocketService from '../../../../services/websocketService';
import { mongoService } from '../../../../services/mongoService';
import { useAuth } from '../../../../contexts/AuthContext';

// Mock dependencies
jest.mock('../../../../contexts/AuthContext');
jest.mock('../../../../services/mongoService');
jest.mock('../../../../services/websocketService');

describe('CurriculumGenerator Integration', () => {
  let mockWebSocket: WebSocketMock;

  beforeEach(() => {
    jest.clearAllMocks();
    
    // Mock auth context
    (useAuth as jest.Mock).mockReturnValue({
      user: { uid: 'test-user' }
    });

    // Mock mongoService
    (mongoService.getLearningStyle as jest.Mock).mockResolvedValue({
      style: 'visual'
    });

    // Setup WebSocket mock
    mockWebSocket = new WebSocketMock('ws://test.com');
    (global as any).WebSocket = jest.fn().mockImplementation(() => mockWebSocket);
  });

  it('handles complete curriculum generation flow', async () => {
    render(<CurriculumGenerator />);

    // Fill in the form
    fireEvent.change(screen.getByLabelText(/Subject/i), {
      target: { value: 'Mathematics' }
    });

    // Submit the form
    fireEvent.click(screen.getByText(/Generate Curriculum/i));

    // Verify loading state
    expect(screen.getByText(/AI agents are collaborating/i)).toBeInTheDocument();

    // Simulate WebSocket connection
    await act(async () => {
      mockWebSocket.mockOpen();
    });

    // Verify connection status
    expect(screen.getByText(/Connected/i)).toBeInTheDocument();

    // Simulate task progress updates
    await act(async () => {
      mockWebSocket.mockMessage({
        type: 'task_update',
        task_id: 'test-task',
        status: {
          status: 'in_progress',
          details: 'researcher'
        }
      });
    });

    expect(screen.getByText(/Researcher is gathering/i)).toBeInTheDocument();

    // Simulate task completion
    await act(async () => {
      mockWebSocket.mockMessage({
        type: 'task_result',
        task_id: 'test-task',
        result: {
          content: {
            title: 'Mathematics for Visual Learners',
            grade_level: 'elementary',
            modules: [
              {
                title: 'Introduction to Numbers',
                content: 'Test content'
              }
            ],
            learning_style_adaptations: {
              style: 'visual',
              recommendations: ['Use diagrams']
            }
          }
        }
      });
    });

    // Verify curriculum is displayed
    expect(screen.getByText('Mathematics for Visual Learners')).toBeInTheDocument();
    expect(screen.getByText('Introduction to Numbers')).toBeInTheDocument();
  });

  it('handles WebSocket disconnection and reconnection', async () => {
    render(<CurriculumGenerator />);

    // Start task
    fireEvent.change(screen.getByLabelText(/Subject/i), {
      target: { value: 'Mathematics' }
    });
    fireEvent.click(screen.getByText(/Generate Curriculum/i));

    // Simulate connection
    await act(async () => {
      mockWebSocket.mockOpen();
    });

    // Verify connected state
    expect(screen.getByText(/Connected/i)).toBeInTheDocument();

    // Simulate disconnection
    await act(async () => {
      mockWebSocket.mockClose();
    });

    // Verify disconnected state
    expect(screen.getByText(/Disconnected/i)).toBeInTheDocument();
    expect(screen.getByText(/Retry Connection/i)).toBeInTheDocument();

    // Attempt reconnection
    fireEvent.click(screen.getByText(/Retry Connection/i));

    // Simulate successful reconnection
    await act(async () => {
      mockWebSocket.mockOpen();
    });

    // Verify reconnected state
    expect(screen.getByText(/Connected/i)).toBeInTheDocument();
  });

  it('handles task errors gracefully', async () => {
    render(<CurriculumGenerator />);

    // Start task
    fireEvent.change(screen.getByLabelText(/Subject/i), {
      target: { value: 'Mathematics' }
    });
    fireEvent.click(screen.getByText(/Generate Curriculum/i));

    // Simulate task failure
    await act(async () => {
      mockWebSocket.mockMessage({
        type: 'task_update',
        task_id: 'test-task',
        status: {
          status: 'failed',
          details: 'Task processing error'
        }
      });
    });

    // Verify error state
    expect(screen.getByText(/Task processing error/i)).toBeInTheDocument();
    expect(screen.getByText(/Try Again/i)).toBeInTheDocument();

    // Verify retry functionality
    fireEvent.click(screen.getByText(/Try Again/i));
    expect(screen.getByLabelText(/Subject/i)).toBeInTheDocument();
  });
});

====================================================================================================
FILE: src/components/agent-ui/learning/__tests__/CurriculumViewer.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/agent-ui/learning/__tests__/CurriculumViewer.test.tsx
SIZE: 3332 bytes
SHA256: f024ed1da99cb13943892201639fe52d5cafd86e884888944ffcdd8f562c835a
====================================================================================================
// File: /src/components/agent-ui/learning/__tests__/CurriculumViewer.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import { CurriculumViewer } from '../CurriculumViewer';
import type { TaskResult } from '../../../../types/task';

const mockCurriculumResult: TaskResult = {
  content: {
    title: "Mathematics for Visual Learners",
    grade_level: "elementary",
    modules: [
      {
        title: "Introduction to Numbers",
        content: "Using visual aids to understand basic number concepts..."
      },
      {
        title: "Basic Addition",
        content: "Learning addition through picture grouping..."
      }
    ],
    learning_style_adaptations: {
      style: "visual",
      recommendations: [
        "Use diagrams and charts",
        "Incorporate color coding"
      ]
    }
  },
  metadata: {
    agent_id: "teacher-001",
    agent_name: "Teacher",
    agent_role: "curriculum_creation"
  }
};

describe('CurriculumViewer', () => {
  it('renders curriculum content correctly', () => {
    render(<CurriculumViewer result={mockCurriculumResult} />);
    
    // Check title and grade level
    expect(screen.getByText("Mathematics for Visual Learners")).toBeInTheDocument();
    expect(screen.getByText("Grade Level: elementary")).toBeInTheDocument();
    
    // Check modules
    expect(screen.getByText("Introduction to Numbers")).toBeInTheDocument();
    expect(screen.getByText("Basic Addition")).toBeInTheDocument();
    expect(screen.getByText(/Using visual aids/)).toBeInTheDocument();
    expect(screen.getByText(/Learning addition/)).toBeInTheDocument();
    
    // Check learning style adaptations
    expect(screen.getByText("Learning Style Adaptations")).toBeInTheDocument();
    expect(screen.getByText("Use diagrams and charts")).toBeInTheDocument();
    expect(screen.getByText("Incorporate color coding")).toBeInTheDocument();
  });

  it('handles empty recommendations gracefully', () => {
    const emptyResult: TaskResult = {
      content: {
        title: "Test Curriculum",
        grade_level: "elementary",
        modules: [],
        learning_style_adaptations: {
          style: "visual",
          recommendations: []
        }
      }
    };
    
    render(<CurriculumViewer result={emptyResult} />);
    
    expect(screen.getByText("Test Curriculum")).toBeInTheDocument();
    expect(screen.getByText("Learning Style Adaptations")).toBeInTheDocument();
    // Should still render section headers even with no content
  });

  it('renders all modules even with large curricula', () => {
    const manyModules = Array.from({ length: 10 }, (_, i) => ({
      title: `Module ${i + 1}`,
      content: `Content for module ${i + 1}`
    }));

    const largeResult: TaskResult = {
      content: {
        title: "Large Curriculum",
        grade_level: "elementary",
        modules: manyModules,
        learning_style_adaptations: {
          style: "visual",
          recommendations: ["Test recommendation"]
        }
      }
    };
    
    render(<CurriculumViewer result={largeResult} />);
    
    // Verify all modules are rendered
    manyModules.forEach(module => {
      expect(screen.getByText(module.title)).toBeInTheDocument();
      expect(screen.getByText(module.content)).toBeInTheDocument();
    });
  });
});

====================================================================================================
FILE: src/components/agent-ui/learning/CurriculumGenerator.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/agent-ui/learning/CurriculumGenerator.tsx
SIZE: 11441 bytes
SHA256: 68a65e36c15f3acbdd1728b3f8a73f967530c641b8bd70fed31ee96b742dacb3
====================================================================================================
// frontend/src/components/agent-ui/learning/CurriculumGenerator.tsx
import React, { useState, useEffect } from 'react';
import styled from 'styled-components';
import { useAuth } from '../../../contexts/AuthContext';
import { mongoService } from '../../../services/mongoService';
import { agentService } from '../../../services/agentService';
import { useTaskWebSocket } from '../../../hooks/useTaskWebSocket';
import Button from '../../common/Button';
import LoadingSpinner from '../../common/LoadingSpinner';
import type { TaskResult, TaskStatus } from '../../../types/task';
import WebSocketErrorBoundary from '../../error-boundaries/WebSocketErrorBoundary';
import websocketService from '../../../services/websocketService';
import ConnectionStatus from '../../common/ConnectionStatus';
import CurriculumViewer from './CurriculumViewer';

export const CurriculumGenerator: React.FC = () => {
  const { currentUser } = useAuth();
  const [subject, setSubject] = useState('');
  const [gradeLevel, setGradeLevel] = useState('elementary');
  const [learningStyle, setLearningStyle] = useState('');
  const [taskId, setTaskId] = useState<string | null>(null);
  const [savedCurriculumId, setSavedCurriculumId] = useState<string | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  
  const { isConnected, status, result, error: wsError } = useTaskWebSocket(taskId);

  // Load user's learning style on mount
  useEffect(() => {
    const loadLearningStyle = async () => {
      if (currentUser?.uid) {
        try {
          const styleData = await mongoService.getLearningStyle(currentUser.uid);
          if (styleData?.style) {
            setLearningStyle(styleData.style);
          }
        } catch (err) {
          console.error('Error loading learning style:', err);
        }
      }
    };
    
    loadLearningStyle();
  }, [currentUser?.uid]);

  // Update error state to include WebSocket errors
  useEffect(() => {
    if (wsError) {
      setError(wsError.message);
    }
  }, [wsError]);

  // Handle task completion from WebSocket updates
  useEffect(() => {
    if (result && !savedCurriculumId) {
      handleTaskComplete(result);
    }
  }, [result]);
  
  const handleStartGeneration = async () => {
    if (!currentUser?.uid) {
      setError('You must be logged in to generate curriculum');
      return;
    }
    
    if (!subject) {
      setError('Please enter a subject');
      return;
    }
    
    if (!learningStyle) {
      setError('Learning style is required. Please take the assessment first.');
      return;
    }
    
    setLoading(true);
    setError(null);
    
    try {
      // Create task request
      const taskId = await agentService.createTask({
        task_type: 'curriculum_generation',
        subject,
        grade_level: gradeLevel,
        learning_style: learningStyle,
        custom_params: {}
      });
      
      setTaskId(taskId);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'An error occurred');
    } finally {
      setLoading(false);
    }
  };
  
  const handleTaskComplete = async (result: TaskResult) => {
    if (!currentUser?.uid || !result?.content) return;
    
    try {
      // Save curriculum to MongoDB
      const savedCurriculum = await mongoService.saveCurriculum(currentUser.uid, result.content);
      setSavedCurriculumId(savedCurriculum.id);
    } catch (err) {
      setError('Error saving curriculum');
      console.error('Error saving curriculum:', err);
    }
  };

  const handleRetryConnection = () => {
  websocketService.connect().catch(error => {
    setError(error instanceof Error ? error.message : 'Failed to reconnect');
  });
  };

  return (
    <WebSocketErrorBoundary onRetry={handleRetryConnection}>
      <Container>
        <h2>Generate Personalized Curriculum</h2>
        
        <ConnectionStatus 
          isConnected={isConnected} 
          onRetry={handleRetryConnection}
          className="mb-4"
        />

        {error && <ErrorMessage>{error}</ErrorMessage>}
        
        {!taskId ? (
          <Form onSubmit={(e) => { e.preventDefault(); handleStartGeneration(); }}>
            <FormGroup>
              <Label htmlFor="subject">Subject</Label>
              <Input
                id="subject"
                type="text"
                value={subject}
                onChange={(e) => setSubject(e.target.value)}
                placeholder="e.g., Mathematics, Science, History"
                required
              />
            </FormGroup>
            
            <FormGroup>
              <Label htmlFor="gradeLevel">Grade Level</Label>
              <Select
                id="gradeLevel"
                value={gradeLevel}
                onChange={(e) => setGradeLevel(e.target.value)}
              >
                <option value="elementary">Elementary School</option>
                <option value="middle">Middle School</option>
                <option value="high">High School</option>
              </Select>
            </FormGroup>
            
            <FormGroup>
              <Label htmlFor="learningStyle">Learning Style</Label>
              <Select
                id="learningStyle"
                value={learningStyle}
                onChange={(e) => setLearningStyle(e.target.value)}
                required
                disabled={!!learningStyle}
              >
                <option value="">Select Learning Style</option>
                <option value="visual">Visual</option>
                <option value="auditory">Auditory</option>
                <option value="reading">Reading/Writing</option>
                <option value="kinesthetic">Kinesthetic</option>
              </Select>
              {!learningStyle && (
                <HelperText>
                  <StyledLink href="/learning-style-assessment">Take the learning style assessment</StyledLink> to determine your learning style
                </HelperText>
              )}
            </FormGroup>
            
            <SubmitButton 
              type="submit" 
              disabled={loading}
              $variant="primary"
            >
              {loading ? (
                <ButtonContent>
                  <LoadingSpinner />
                  <span>Generating...</span>
                </ButtonContent>
              ) : (
                "Generate Curriculum"
              )}
            </SubmitButton>
          </Form>
        ) : (
          <TaskViewerContainer>
            {status?.status === 'in_progress' && (
              <ProgressMessage>
                <LoadingSpinner />
                <p>Our AI agents are collaborating to create your curriculum:</p>
                <AgentList>
                  <AgentItem $active={true}>
                    Researcher is gathering relevant information
                  </AgentItem>
                  <AgentItem $active={Boolean(status.details?.includes('teacher'))}>
                    Teacher is adapting content for your learning style
                  </AgentItem>
                  <AgentItem $active={Boolean(status.details?.includes('supervisor'))}>
                    Supervisor is ensuring quality and coherence
                  </AgentItem>
                </AgentList>
              </ProgressMessage>
            )}
            
            {status?.status === 'failed' && (
              <ErrorContainer>
                <ErrorMessage>
                  {status.details || 'Failed to generate curriculum'}
                </ErrorMessage>
                <RetryButton
                  onClick={() => setTaskId(null)}
                >
                  Try Again
                </RetryButton>
              </ErrorContainer>
            )}
            
            {result && (
              <SuccessContainer>
                <SuccessMessage>Curriculum generated successfully!</SuccessMessage>
                <CurriculumViewer result={result} />
              </SuccessContainer>
            )}
            
            {!result && status?.status !== 'failed' && (
              <CancelButton
                onClick={() => setTaskId(null)}
              >
                Cancel Generation
              </CancelButton>
            )}
          </TaskViewerContainer>
        )}
      </Container>
    </WebSocketErrorBoundary>
  );
};

const Container = styled.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;

  h2 {
    color: var(--primary-color);
    margin-bottom: 2rem;
    font-size: 1.75rem;
    text-align: center;
  }
`;

const Form = styled.form`
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
`;

const FormGroup = styled.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`;

const Label = styled.label`
  font-weight: 500;
  color: var(--text-color);
`;

const Input = styled.input`
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;

  &:focus {
    outline: none;
    border-color: var(--primary-color);
  }
`;

const Select = styled.select`
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
  background-color: white;

  &:focus {
    outline: none;
    border-color: var(--primary-color);
  }

  &:disabled {
    background-color: #f5f5f5;
    cursor: not-allowed;
  }
`;

const HelperText = styled.p`
  font-size: 0.875rem;
  color: var(--text-color);
  margin-top: 0.5rem;
`;

const StyledLink = styled.a`
  color: var(--primary-color);
  text-decoration: none;
  font-weight: 500;

  &:hover {
    text-decoration: underline;
  }
`;

const ButtonContent = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
`;

const TaskViewerContainer = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
`;

const SuccessContainer = styled.div`
  margin-top: 2rem;
`;

const SuccessMessage = styled.div`
  color: #059669;
  font-weight: 500;
  margin-bottom: 1rem;
  text-align: center;
`;

const ErrorContainer = styled.div`
  text-align: center;
  margin: 2rem 0;
`;

const ErrorMessage = styled.div`
  color: #dc2626;
  margin-bottom: 1rem;
`;

const SubmitButton = styled(Button)`
  margin-top: 1rem;
`;

const CancelButton = styled.button`
  background-color: #6b7280;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  border: none;
  cursor: pointer;
  font-weight: 500;
  margin-top: 1rem;

  &:hover {
    background-color: #4b5563;
  }
`;

const AgentList = styled.ul`
  list-style: none;
  padding: 0;
  width: 100%;
  max-width: 400px;
  margin: 1rem auto;
`;

const AgentItem = styled.li<{ $active: boolean }>`
  padding: 0.75rem;
  margin: 0.5rem 0;
  border-radius: 0.375rem;
  background-color: ${props => props.$active ? '#f0fdf4' : '#f3f4f6'};
  color: ${props => props.$active ? '#059669' : '#6b7280'};
  border: 1px solid ${props => props.$active ? '#bbf7d0' : '#e5e7eb'};
  transition: all 0.2s ease-in-out;
`;

const ProgressMessage = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  text-align: center;
`;

const RetryButton = styled.button`
  background-color: #dc2626;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  border: none;
  cursor: pointer;
  font-weight: 500;

  &:hover {
    background-color: #b91c1c;
  }
`;

export default CurriculumGenerator;

====================================================================================================
FILE: src/components/agent-ui/learning/CurriculumViewer.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/agent-ui/learning/CurriculumViewer.tsx
SIZE: 2780 bytes
SHA256: 79eb39e1785fecc95fed4c1e6186d0a2c5dd7a3aeea2b6ab8df9c9b5a9e7866f
====================================================================================================
// File: /src/components/agent-ui/learning/CurriculumViewer.tsx
// Description: Displays generated curriculum content
// Author: GitHub Copilot
// Created: 2024

import React from 'react';
import styled from 'styled-components';
import type { TaskResult } from '../../../types/task';

interface CurriculumViewerProps {
  result: TaskResult;
}

export const CurriculumViewer: React.FC<CurriculumViewerProps> = ({ result }) => {
  const curriculum = result.content;

  return (
    <Container>
      <Header>
        <Title>{curriculum.title}</Title>
        <GradeLevel>Grade Level: {curriculum.grade_level}</GradeLevel>
      </Header>

      <ModulesContainer>
        {curriculum.modules.map((module: any, index: number) => (
          <ModuleCard key={index}>
            <ModuleTitle>{module.title}</ModuleTitle>
            <ModuleContent>{module.content}</ModuleContent>
          </ModuleCard>
        ))}
      </ModulesContainer>

      <AdaptationsSection>
        <AdaptationsTitle>Learning Style Adaptations</AdaptationsTitle>
        <AdaptationsList>
          {curriculum.learning_style_adaptations.recommendations.map((rec: string, index: number) => (
            <AdaptationItem key={index}>{rec}</AdaptationItem>
          ))}
        </AdaptationsList>
      </AdaptationsSection>
    </Container>
  );
};

const Container = styled.div`
  margin-top: 2rem;
  padding: 1.5rem;
  background-color: white;
  border-radius: 0.5rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`;

const Header = styled.div`
  margin-bottom: 2rem;
  text-align: center;
`;

const Title = styled.h2`
  color: #1f2937;
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
`;

const GradeLevel = styled.div`
  color: #6b7280;
  font-size: 0.875rem;
`;

const ModulesContainer = styled.div`
  display: grid;
  gap: 1.5rem;
  margin-bottom: 2rem;
`;

const ModuleCard = styled.div`
  padding: 1.5rem;
  background-color: #f9fafb;
  border-radius: 0.375rem;
  border: 1px solid #e5e7eb;
`;

const ModuleTitle = styled.h3`
  color: #1f2937;
  font-size: 1.25rem;
  font-weight: 500;
  margin-bottom: 1rem;
`;

const ModuleContent = styled.div`
  color: #4b5563;
  font-size: 0.875rem;
  line-height: 1.5;
  white-space: pre-wrap;
`;

const AdaptationsSection = styled.div`
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid #e5e7eb;
`;

const AdaptationsTitle = styled.h3`
  color: #1f2937;
  font-size: 1.25rem;
  font-weight: 500;
  margin-bottom: 1rem;
`;

const AdaptationsList = styled.ul`
  list-style: none;
  padding: 0;
  margin: 0;
`;

const AdaptationItem = styled.li`
  color: #4b5563;
  font-size: 0.875rem;
  padding: 0.5rem 0;
  border-bottom: 1px solid #f3f4f6;

  &:last-child {
    border-bottom: none;
  }
`;

export default CurriculumViewer;

====================================================================================================
FILE: src/components/agent-ui/RealtimeTaskViewer.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/agent-ui/RealtimeTaskViewer.tsx
SIZE: 1829 bytes
SHA256: 7417812c32226411637bec405ae9d7c23727697fa0fbf5ca5bdfe2718096df6c
====================================================================================================
// frontend/src/components/agent-ui/RealtimeTaskViewer.tsx
import React, { useEffect } from 'react';
import { useTaskWebSocket } from '../../hooks/useTaskWebSocket';
import TaskProgressBar from './TaskProgressBar';
import AgentResponseViewer from './AgentResponseViewer';

interface RealtimeTaskViewerProps {
  taskId: string;
  onComplete?: (result: any) => void;
}

export const RealtimeTaskViewer: React.FC<RealtimeTaskViewerProps> = ({
  taskId,
  onComplete
}) => {
  const { isConnected, status, result, error } = useTaskWebSocket(taskId);
  
  useEffect(() => {
    if (result && onComplete) {
      onComplete(result);
    }
  }, [result, onComplete]);
  
  if (error) {
    return (
      <div className="task-error">
        <h3>Error</h3>
        <p>{error.message}</p>
      </div>
    );
  }
  
  return (
    <div className="realtime-task-viewer">
      <div className="connection-status">
        {isConnected ? (
          <span className="status-connected">Connected</span>
        ) : (
          <span className="status-disconnected">Disconnected</span>
        )}
      </div>
      
      {status && (
        <div className="task-status">
          <h3>Task Status: {status.status}</h3>
          <TaskProgressBar status={status} />
          {status.status === 'in_progress' && (
            <div className="agent-messages">
              <p>Our AI agents are collaborating to complete your task:</p>
              <ul>
                <li>Researcher is gathering relevant information</li>
                <li>Teacher is creating personalized curriculum</li>
                <li>Supervisor is ensuring quality and coherence</li>
              </ul>
            </div>
          )}
        </div>
      )}
      
      {result && (
        <AgentResponseViewer result={result} />
      )}
    </div>
  );
};

====================================================================================================
FILE: src/components/auth/auth.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/auth/auth.css
SIZE: 2028 bytes
SHA256: 0757c1e262db526c8aacd55c17135d799af9b1217ab9a56bd80eafcc712b370f
====================================================================================================
.auth-container {
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  background: #fff;
}

.auth-title {
  font-size: 1.5rem;
  font-weight: 600;
  text-align: center;
  margin-bottom: 1.5rem;
  color: #333;
}

.auth-error {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1rem;
  margin-bottom: 1rem;
  border-radius: 4px;
  background-color: #fee2e2;
  color: #dc2626;
  font-size: 0.875rem;
}

.auth-error-dismiss {
  background: none;
  border: none;
  color: #dc2626;
  cursor: pointer;
  padding: 0.25rem;
  margin-left: 0.5rem;
  opacity: 0.7;
  transition: opacity 0.2s;
}

.auth-error-dismiss:hover {
  opacity: 1;
}

.google-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 0.75rem 1rem;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  background-color: #fff;
  color: #374151;
  font-size: 0.875rem;
  font-weight: 500;
  transition: background-color 0.2s, border-color 0.2s;
  gap: 0.5rem;
}

.google-button:hover:not(:disabled) {
  background-color: #f9fafb;
  border-color: #d1d5db;
}

.google-button:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.auth-divider {
  position: relative;
  text-align: center;
  margin: 1.5rem 0;
}

.auth-divider::before,
.auth-divider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: calc(50% - 3rem);
  height: 1px;
  background-color: #e5e7eb;
}

.auth-divider::before {
  left: 0;
}

.auth-divider::after {
  right: 0;
}

.auth-divider span {
  background-color: #fff;
  padding: 0 1rem;
  color: #6b7280;
  font-size: 0.875rem;
}

.btn.btn-secondary {
  display: block;
  width: 100%;
  padding: 0.75rem 1rem;
  border: none;
  border-radius: 4px;
  background-color: #f3f4f6;
  color: #374151;
  font-size: 0.875rem;
  font-weight: 500;
  text-align: center;
  transition: background-color 0.2s;
  cursor: pointer;
}

.btn.btn-secondary:hover {
  background-color: #e5e7eb;
}

====================================================================================================
FILE: src/components/auth/AuthErrorDialog.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/auth/AuthErrorDialog.tsx
SIZE: 2262 bytes
SHA256: 71db45c6161a24c2a8ce98f7efcf0d8124b7030a66ea3299d561034174f775e4
====================================================================================================
import React from 'react';
import Dialog from '@mui/material/Dialog';
import DialogTitle from '@mui/material/DialogTitle';
import DialogContent from '@mui/material/DialogContent';
import DialogContentText from '@mui/material/DialogContentText';
import DialogActions from '@mui/material/DialogActions';
import Button from '@mui/material/Button';
import IconButton from '@mui/material/IconButton';
import CloseIcon from '@mui/icons-material/Close';
import { Theme } from '../../theme';
import styled from 'styled-components';

interface AuthError {
  message: string;
  retry?: boolean;
}

interface AuthErrorDialogProps {
  open: boolean;
  error: AuthError | null;
  onClose: () => void;
  onRetry?: () => Promise<void>;
}

const AuthErrorDialog: React.FC<AuthErrorDialogProps> = ({
  open,
  error,
  onClose,
  onRetry
}): JSX.Element | null => {
  if (!error) return null;

  return (
    <StyledDialog
      open={open}
      onClose={onClose}
      aria-labelledby="auth-error-dialog-title"
    >
      <DialogTitle id="auth-error-dialog-title">
        Authentication Error
        <CloseIconButton
          aria-label="close"
          onClick={onClose}
        >
          <CloseIcon />
        </CloseIconButton>
      </DialogTitle>
      <DialogContent>
        <DialogContentText>{error.message}</DialogContentText>
      </DialogContent>
      <StyledDialogActions>
        <Button onClick={onClose} color="primary">
          Close
        </Button>
        {error.retry && onRetry && (
          <Button 
            onClick={onRetry} 
            color="primary" 
            variant="contained" 
            autoFocus
          >
            Try Again
          </Button>
        )}
      </StyledDialogActions>
    </StyledDialog>
  );
};

interface StyledProps {
  theme: Theme;
}

const StyledDialog = styled(Dialog)`
  .MuiPaper-root {
    padding: ${({ theme }: StyledProps) => theme.spacing.md};
  }
`;

const CloseIconButton = styled(IconButton)`
  position: absolute;
  right: ${({ theme }: StyledProps) => theme.spacing.sm};
  top: ${({ theme }: StyledProps) => theme.spacing.sm};
`;

const StyledDialogActions = styled(DialogActions)`
  padding: ${({ theme }: StyledProps) => theme.spacing.md} 0 0;
`;

export default AuthErrorDialog;

====================================================================================================
FILE: src/components/auth/AuthRoute.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/auth/AuthRoute.tsx
SIZE: 1327 bytes
SHA256: 8ee25cafcd12bfc261a3c80ebf48076c7253378caf78067dbce5756dbc1c14dd
====================================================================================================
import React from 'react';
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../../contexts/AuthContext';
import LoadingSpinner from '../common/LoadingSpinner';
import styled from 'styled-components';

const LoadingContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: rgba(255, 255, 255, 0.8);
`;

interface AuthRouteProps {
  children: React.ReactNode;
}

const AuthRoute: React.FC<AuthRouteProps> = ({ children }) => {
  const { currentUser, isAuthReady } = useAuth();
  const location = useLocation();

  if (!isAuthReady) {
    if (import.meta.env.DEV) {
      console.debug('[AuthRoute] auth ready:', isAuthReady, 'authed:', !!currentUser);
    }
    return (
      <LoadingContainer>
        <LoadingSpinner />
      </LoadingContainer>
    );
  }

  // If user is authenticated and tries to access auth pages, redirect to dashboard
  if (currentUser) {
    const from = (location.state as { from?: string } | null)?.from || '/dashboard';
    return <Navigate to={from} replace />;
  }

  if (import.meta.env.DEV) {
    console.debug('[AuthRoute] auth ready:', isAuthReady, 'authed:', !!currentUser);
  }

  // Allow access to auth pages if not authenticated
  return <>{children}</>;
};

export default AuthRoute;

====================================================================================================
FILE: src/components/auth/Login.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/auth/Login.css
SIZE: 2778 bytes
SHA256: edc7901415534cdcc387d226c7a76990eb30fa94d28b7bdc7e24b800017ee49b
====================================================================================================
.login-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
    background-color: #f5f5f5;
}

.login-form {
    background: white;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 400px;
}

.login-form h2 {
    text-align: center;
    color: #2C3E50;
    margin-bottom: 1.5rem;
    font-size: 1.75rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-color);
    font-weight: 500;
    font-size: 1rem;
}

.form-group input {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
    transition: border-color 0.2s ease;
}

.form-group input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.form-group input::placeholder {
    color: #a0aec0;
}

.login-button {
    width: 100%;
    padding: 0.75rem;
    background-color: #4f46e5;
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.login-button:hover {
    background-color: #4338ca;
}

.login-button:disabled {
    background-color: #9ca3af;
    cursor: not-allowed;
}

.error-message {
    background-color: #fee2e2;
    color: #dc2626;
    padding: 0.75rem;
    border-radius: 4px;
    margin-bottom: 1rem;
    font-size: 0.875rem;
    text-align: center;
}

.login-footer {
    margin-top: 1.5rem;
    text-align: center;
    font-size: 0.875rem;
}

.login-footer p {
    margin-bottom: 0.5rem;
    color: #4a5568;
}

.login-footer a {
    color: #4f46e5;
    text-decoration: none;
    font-weight: 500;
}

.login-footer a:hover {
    text-decoration: underline;
}

.divider {
    display: flex;
    align-items: center;
    text-align: center;
    margin: 20px 0;
}

.divider::before,
.divider::after {
    content: '';
    flex: 1;
    border-bottom: 1px solid #e2e8f0;
}

.divider span {
    padding: 0 10px;
    color: #64748b;
    font-size: 0.875rem;
}

.google-button {
    width: 100%;
    padding: 0.75rem;
    background-color: white;
    color: #333;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: background-color 0.2s ease;
}

.google-button:hover {
    background-color: #f8fafc;
}

.google-button img {
    width: 18px;
    height: 18px;
}

@media (max-width: 480px) {
    .login-form {
        padding: 1.5rem;
    }
}

====================================================================================================
FILE: src/components/auth/LoginForm.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/auth/LoginForm.tsx
SIZE: 4553 bytes
SHA256: 8f9b7d4bae0999a7c1fa3f10d4fa4b48bda8e208225ccb01a41261105f56291f
====================================================================================================
import React, { useState, useEffect } from 'react';
import styled from 'styled-components';
import { useAuth } from '../../contexts/AuthContext';
import { auth } from '../../config/firebase';
import GoogleLoginButton from '../GoogleLoginButton';
import Button from '../common/Button';
import FormGroup from '../molecules/FormGroup';
import './auth.css';

const ErrorMessage = styled.div`
  color: #dc3545;
  background-color: #f8d7da;
  border: 1px solid #f5c6cb;
  border-radius: 4px;
  padding: 10px;
  margin: 10px 0;
  font-size: 0.9rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
`;

const CloseButton = styled.button`
  background: none;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0 5px;
  color: #dc3545;
  &:hover {
    opacity: 0.7;
  }
`;

const Form = styled.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
  max-width: 400px;
`;

const SigningInMessage = styled.div`
  font-size: 0.9rem;
  color: var(--text-color);
  display: flex;
  align-items: center;
  gap: 0.5rem;
`;

const Input = styled.input`
  padding: 0.75rem;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  font-size: 1rem;
  &:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(70, 84, 246, 0.2);
  }
`;

const LoginForm: React.FC = (): JSX.Element => {
  const { login, loginWithGoogle, loading: authLoading, error: authError, clearError } = useAuth();
  const [email, setEmail] = useState<string>('');
  const [password, setPassword] = useState<string>('');
  const [localError, setLocalError] = useState<string>('');
  const [loading, setLoading] = useState(false);
  const isDev = import.meta.env.DEV;

  useEffect(() => {
    if (typeof clearError === 'function') {
      clearError();
    }
  }, [clearError]);

  const handleDismissError = () => {
    setLocalError('');
    if (typeof clearError === 'function') {
      clearError();
    }
  };

  const handleLogin = async (): Promise<void> => {
    try {
      setLocalError('');
      setLoading(true);
      if (isDev) {
        console.debug('[LoginForm] submit start', email);
      }
      await login(email, password);
      if (isDev) {
        console.debug('[LoginForm] login() resolved', auth.currentUser?.uid ?? null);
      }
    } catch (err) {
      setLocalError(err instanceof Error ? err.message : 'Failed to log in');
      console.error('Login error:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleGoogleLogin = async (): Promise<void> => {
    try {
      setLocalError('');
      setLoading(true);
      if (isDev) {
        console.debug('[LoginForm] google submit start', email);
      }
      await loginWithGoogle();
      if (isDev) {
        console.debug('[LoginForm] google login() resolved', auth.currentUser?.uid ?? null);
      }
    } catch (err) {
      setLocalError(err instanceof Error ? err.message : 'Failed to sign in');
      console.error('Login error:', err);
    } finally {
      setLoading(false);
    }
  };

  return (
    <Form onSubmit={(e) => {
      e.preventDefault();
      handleLogin();
    }}>
      {(localError || authError) && (
        <ErrorMessage role="alert">
          <span>{localError || authError}</span>
          <CloseButton
            type="button"
            aria-label="Dismiss error"
            onClick={handleDismissError}
          >
            
          </CloseButton>
        </ErrorMessage>
      )}
      <FormGroup
        label="Email"
        inputs={[{
          placeholder: 'Enter your email',
          value: email,
          onChange: (e) => setEmail(e.target.value),
          error: false
        }]}
      />
      <FormGroup
        label="Password"
        inputs={[{
          placeholder: 'Enter your password',
          value: password,
          onChange: (e) => setPassword(e.target.value),
          error: false
        }]}
      />
      <Button type="submit" $variant="primary" disabled={loading || authLoading}>
        {loading || authLoading ? 'Signing in' : 'Login'}
      </Button>
      {(loading || authLoading) && (
        <SigningInMessage>
          <span aria-hidden="true"></span>
          Signing in
        </SigningInMessage>
      )}
      <GoogleLoginButton
        handleGoogleLogin={handleGoogleLogin}
        loading={loading || authLoading}
        error={localError || authError || undefined}
        onDismissError={handleDismissError}
      />
    </Form>
  );
};

export default LoginForm;

====================================================================================================
FILE: src/components/auth/SignUp.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/auth/SignUp.css
SIZE: 709 bytes
SHA256: 0719a397741036df3af0025591500b969f2959a678fc250da3fc9be7d6040917
====================================================================================================
.signup-container {
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.error-alert {
  background: #ffebee;
  color: #c62828;
  padding: 0.5rem;
  margin-bottom: 1rem;
  border-radius: 4px;
}

form div {
  margin-bottom: 1rem;
}

label {
  display: block;
  margin-bottom: 0.5rem;
  color: var(--text-color);
  font-weight: 500;
  font-size: 1rem;
}

input {
  width: 100%;
  padding: 0.5rem;
  border: 1px solid #ddd;
  border-radius: 4px;
}

button {
  width: 100%;
  padding: 0.75rem;
  background: var(--primary-color);
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

button:disabled {
  opacity: 0.7;
}

====================================================================================================
FILE: src/components/auth/SignUp.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/auth/SignUp.tsx
SIZE: 6177 bytes
SHA256: 8562e1d3447cfa1046c98b4554f301e8818ef4b5db4faf07fa20cb4a3c006e7f
====================================================================================================
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import styled from 'styled-components';
import { FcGoogle } from 'react-icons/fc';
import { useAuth } from '../../contexts/AuthContext';
import { CheshireService } from '../../services/cheshireService';
import Button from '../common/Button';
import FormGroup from '../molecules/FormGroup';

interface FormData {
  email: string;
  password: string;
  confirmPassword: string;
}

const SignUp: React.FC = () => {
  const [formData, setFormData] = useState<FormData>({
    email: '',
    password: '',
    confirmPassword: ''
  });
  const [loading, setLoading] = useState<boolean>(false);
  const [error, setError] = useState<string>('');
  const { signup, loginWithGoogle } = useAuth();
  const navigate = useNavigate();

  const createCheshireAccount = async (uid: string, email: string) => {
    try {
      await CheshireService.createCheshireUser(uid, email);
    } catch (error) {
      console.error('Error creating Cheshire account:', error);
      throw new Error('Failed to create Cheshire account');
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError('');
    
    if (formData.password !== formData.confirmPassword) {
      setError('Passwords do not match');
      return;
    }

    try {
      setLoading(true);
      const userCredential = await signup(formData.email, formData.password);
      
      if (userCredential?.user) {
        await createCheshireAccount(userCredential.user.uid, userCredential.user.email || '');
      }
      
      navigate('/dashboard');
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Failed to create account');
      console.error('Signup error:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleGoogleSignup = async () => {
    try {
      setLoading(true);
      setError('');
      await loginWithGoogle();
      navigate('/dashboard');
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Failed to sign up with Google');
      console.error('Google signup error:', err);
    } finally {
      setLoading(false);
    }
  };

  return (
    <SignUpContainer>
      <SignUpCard className="glass-card">
        <Header>
          <span className="badge">Create account</span>
          <h2>Join the Geaux Academy learning lab.</h2>
          <p>Start with an assessment and build a learning path that fits you.</p>
        </Header>
        {error && (
          <ErrorMessage>
            <span>{error}</span>
            <DismissButton onClick={() => setError('')}></DismissButton>
          </ErrorMessage>
        )}
        
        <Form onSubmit={handleSubmit}>
          <FormGroup
            label="Email"
            inputs={[{
              placeholder: 'Enter your email',
              value: formData.email,
              onChange: (e) => setFormData({ ...formData, email: e.target.value }),
              error: false
            }]}
          />
          <FormGroup
            label="Password"
            inputs={[{
              placeholder: 'Enter your password',
              value: formData.password,
              onChange: (e) => setFormData({ ...formData, password: e.target.value }),
              error: false
            }]}
          />
          <FormGroup
            label="Confirm Password"
            inputs={[{
              placeholder: 'Confirm your password',
              value: formData.confirmPassword,
              onChange: (e) => setFormData({ ...formData, confirmPassword: e.target.value }),
              error: false
            }]}
          />
          <Button type="submit" $variant="primary">
            {loading ? 'Creating Account...' : 'Sign Up'}
          </Button>
        </Form>

        <Divider>
          <span>Or</span>
        </Divider>

        <GoogleButton onClick={handleGoogleSignup} disabled={loading}>
          <FcGoogle />
          <span>Sign up with Google</span>
        </GoogleButton>

        <LoginPrompt>
          Already have an account? <Link to="/login">Log In</Link>
        </LoginPrompt>
      </SignUpCard>
    </SignUpContainer>
  );
};

const SignUpContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: calc(100vh - 80px);
  padding: 1rem;
  background-color: var(--background-color);
`;

const SignUpCard = styled.div`
  background: rgba(255, 255, 255, 0.9);
  padding: 2rem;
  border-radius: 16px;
  border: 1px solid var(--border-color);
  width: 100%;
  max-width: 460px;
`;

const Header = styled.div`
  display: grid;
  gap: 0.75rem;
  margin-bottom: 1.5rem;

  p {
    color: var(--text-secondary);
  }
`;

const Form = styled.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;

const Divider = styled.div`
  display: flex;
  align-items: center;
  text-align: center;
  margin: 1.5rem 0;

  &::before,
  &::after {
    content: '';
    flex: 1;
    border-bottom: 1px solid #ddd;
  }

  span {
    padding: 0 0.5rem;
    color: #666;
    font-size: 0.875rem;
  }
`;

const GoogleButton = styled.button`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  background: white;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f8f8f8;
  }

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
`;

const LoginPrompt = styled.p`
  text-align: center;
  margin-top: 1.5rem;
  font-size: 0.875rem;
  color: var(--text-color);
`;

const Link = styled.a`
  color: var(--primary-color);
  text-decoration: none;
  font-weight: 500;

  &:hover {
    text-decoration: underline;
  }
`;

const ErrorMessage = styled.div`
  color: #dc2626;
  background-color: #fee2e2;
  padding: 0.75rem;
  border-radius: 4px;
  margin-bottom: 1rem;
  font-size: 0.875rem;
`;

const DismissButton = styled.button`
  background: none;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0 5px;
  color: #dc2626;
  &:hover {
    opacity: 0.7;
  }
`;

export default SignUp;

====================================================================================================
FILE: src/components/chat/ChatUI.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/chat/ChatUI.css
SIZE: 1264 bytes
SHA256: ccdbfbdfe96bee4cc5d6c88683ed9f8118d6e8e255e2e112a9b7dbaac0382e03
====================================================================================================
.chat-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  max-width: 800px;
  margin: 0 auto;
  padding: 1rem;
}

.chat-window {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  margin-bottom: 1rem;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  background-color: #fff;
}

.message {
  margin: 0.5rem 0;
  padding: 0.75rem 1rem;
  border-radius: 8px;
  max-width: 80%;
}

.message.user {
  background-color: #e3f2fd;
  margin-left: auto;
  text-align: right;
}

.message.tutor {
  background-color: #f5f5f5;
  margin-right: auto;
}

.message.processing {
  background-color: #fafafa;
  opacity: 0.7;
  font-style: italic;
}

.input-container {
  display: flex;
  gap: 1rem;
  padding: 1rem;
  background-color: #fff;
  border-top: 1px solid #e0e0e0;
}

.input-container input {
  flex: 1;
  padding: 0.75rem;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  font-size: 1rem;
}

.input-container button {
  padding: 0.75rem 1.5rem;
  background-color: #1976d2;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1rem;
}

.input-container button:disabled {
  background-color: #bdbdbd;
  cursor: not-allowed;
}

.input-container input:disabled {
  background-color: #f5f5f5;
  cursor: not-allowed;
}

====================================================================================================
FILE: src/components/chat/ChatUI.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/chat/ChatUI.tsx
SIZE: 2592 bytes
SHA256: dcf6dbfd734c35564e8dcdd1098ea18e54dc3b6f95b5b0302c4b17226155fd4c
====================================================================================================
import React, { useState } from 'react';
import { CheshireService } from '../../services/cheshireService';
import { useAuth } from '../../contexts/AuthContext';
import './ChatUI.css';

interface Message {
  sender: 'user' | 'tutor';
  text: string;
}

const ChatUI: React.FC = () => {
  const [messages, setMessages] = useState<Message[]>([]);
  const [inputText, setInputText] = useState('');
  const [isProcessing, setIsProcessing] = useState(false);
  const { currentUser } = useAuth();

  const handleSend = async () => {
    if (!inputText.trim() || !currentUser?.uid) return;
    
    const userMessage: Message = { sender: 'user', text: inputText };
    setMessages(prev => [...prev, userMessage]);
    setIsProcessing(true);

    try {
      const chatId = 'default';
      const response = await CheshireService.sendChatMessage(
        inputText,
        currentUser.uid,
        chatId
      );

      const tutorMessage: Message = {
        sender: 'tutor',
        text: response.data
      };
      setMessages(prev => [...prev, tutorMessage]);

      const memories = response.memories || [];
      if (memories.length > 0) {
        const learningStyleMemory = memories.find(
          memory => memory.metadata?.learning_style
        );
        if (learningStyleMemory?.metadata?.learning_style) {
          console.log('Learning style detected:', learningStyleMemory.metadata.learning_style);
        }
      }
    } catch (error) {
      const errorMessage = CheshireService.getErrorMessage(error);
      setMessages(prev => [...prev, { sender: 'tutor', text: errorMessage }]);
    } finally {
      setIsProcessing(false);
    }
    setInputText('');
  };

  return (
    <div className="chat-container">
      <div className="chat-window">
        {messages.map((msg, idx) => (
          <div key={idx} className={`message ${msg.sender}`}>
            {msg.text}
          </div>
        ))}
        {isProcessing && (
          <div className="message tutor processing">
            Thinking...
          </div>
        )}
      </div>
      <div className="input-container">
        <input
          type="text"
          value={inputText}
          placeholder="Type your message..."
          onChange={(e) => setInputText(e.target.value)}
          onKeyDown={(e) => e.key === 'Enter' && !isProcessing && handleSend()}
          disabled={isProcessing}
        />
        <button 
          onClick={handleSend}
          disabled={isProcessing || !inputText.trim()}
        >
          Send
        </button>
      </div>
    </div>
  );
};

export default ChatUI;

====================================================================================================
FILE: src/components/chat/LearningStyleChat.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/chat/LearningStyleChat.tsx
SIZE: 6037 bytes
SHA256: 76e201d2c9f2cfd07670eb7c0524dcaaf1a8caed97bbb370395cbb5ebbdc5ad8
====================================================================================================
import React, { useState, useRef, useEffect } from 'react';
import styled from 'styled-components';
import { FaPaperPlane } from 'react-icons/fa';
import { useAuth } from '../../contexts/AuthContext';
import Message from '../Message';
import { saveLearningStyle, updateStudentAssessmentStatus } from '../../services/profileService';
import { CheshireService } from '../../services/cheshireService';
import { LearningStyle } from '../../types/profiles';
import Button from '../common/Button';

type ValidLearningStyle = 'visual' | 'auditory' | 'kinesthetic' | 'reading/writing';

interface ChatMessage {
  text: string;
  sender: 'user' | 'bot';
}

interface CheshireResponse {
  data: string;
  memories?: Array<{
    metadata?: {
      learning_style?: string;
    };
  }>;
}

interface CheshireError {
  code?: string;
  message: string;
}

const isValidLearningStyle = (style: string): style is ValidLearningStyle => {
  return ['visual', 'auditory', 'kinesthetic', 'reading/writing'].includes(style);
};

const MAX_RETRIES = 3;
const RETRY_DELAY = 1000; // 1 second

const LearningStyleChat: React.FC<{ studentId?: string }> = ({ studentId }) => {
  const [messages, setMessages] = useState<ChatMessage[]>([]);
  const [input, setInput] = useState('');
  const [loading, setLoading] = useState(false);
  const [connectionError, setConnectionError] = useState(false);
  const chatEndRef = useRef<HTMLDivElement>(null);
  const { currentUser } = useAuth();

  // Initialize chat with assessment start message
  useEffect(() => {
    setMessages([{ 
      text: "Hi! I'm here to help assess your learning style. Let's start with a few questions. How do you prefer to learn new things?", 
      sender: "bot" 
    }]);
  }, []);

  useEffect(() => {
    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [messages]);

  // Check API connection on mount and set up periodic checks
  useEffect(() => {
    checkApiConnection();
    const intervalId = setInterval(checkApiConnection, 30000); // Check every 30 seconds
    return () => clearInterval(intervalId);
  }, []);

  const checkApiConnection = async (): Promise<void> => {
    const isConnected = await CheshireService.checkConnection();
    setConnectionError(!isConnected);
  };

  const retryWithDelay = async (fn: () => Promise<void>, maxRetries = 3, delay = 1000): Promise<void> => {
    try {
      return await fn();
    } catch (error) {
      if (maxRetries > 0) {
        await new Promise(resolve => setTimeout(resolve, delay));
        return retryWithDelay(fn, maxRetries - 1, delay);
      }
      throw error;
    }
  };

  const handleResponse = async (response: CheshireResponse): Promise<void> => {
    const rawLearningStyle = response?.memories?.find(m => m.metadata?.learning_style)?.metadata?.learning_style;
    if (rawLearningStyle && isValidLearningStyle(rawLearningStyle) && studentId) {
      const learningStyle: LearningStyle = {
        type: rawLearningStyle,
        strengths: [],
        recommendations: []
      };
      try {
        await saveLearningStyle(studentId, learningStyle);
        await updateStudentAssessmentStatus(studentId, "completed");
      } catch (error) {
        console.error('Error saving learning style:', error);
        setMessages(prev => [...prev, { 
          text: "There was an error saving your learning style. Please try again.", 
          sender: "bot" 
        }]);
      }
    }
  };

  const sendMessage = async (): Promise<void> => {
    if (!input.trim()) return;

    const userMessage = input.trim();
    setInput('');
    setMessages(prev => [...prev, { text: userMessage, sender: 'user' }]);

    try {
      setLoading(true);
      const response = await CheshireService.sendChatMessage(
        userMessage,
        currentUser?.uid || 'anonymous',
        studentId || 'default'
      );

      if (response) {
        setMessages(prev => [...prev, { text: response.data, sender: 'bot' }]);
        await handleResponse(response);
      }
      
      setConnectionError(false);
    } catch (error: unknown) {
      console.error('Error sending message:', error);
      const errorMessage = CheshireService.getErrorMessage(error as CheshireError);
      setMessages(prev => [...prev, { text: errorMessage, sender: 'bot' }]);
      setConnectionError(true);
      await checkApiConnection();
    } finally {
      setLoading(false);
    }
  };

  return (
    <ChatContainer className="card">
      <ChatHeader>
         Learning Style Assessment
        {connectionError && (
          <ConnectionError>
             Connection Error - Check if the chat service is running
          </ConnectionError>
        )}
      </ChatHeader>
      <ChatBody>
        {messages.map((msg, index) => (
          <Message key={index} sender={msg.sender}>{msg.text}</Message>
        ))}
        {loading && <Message sender="bot">Typing...</Message>}
        <div ref={chatEndRef} />
      </ChatBody>
      <ChatFooter>
        <ChatInput
          type="text"
          value={input}
          placeholder="Type your response..."
          onChange={(e) => setInput(e.target.value)}
          onKeyPress={(e) => e.key === "Enter" && sendMessage()}
          className="form-input"
        />
        <Button onClick={sendMessage} $variant="primary">
          <FaPaperPlane />
        </Button>
      </ChatFooter>
    </ChatContainer>
  );
};

const ChatContainer = styled.div`
  height: 500px;
  display: flex;
  flex-direction: column;
`;

const ChatHeader = styled.div`
  padding: var(--spacing-md);
  border-bottom: 1px solid #eee;
  font-weight: bold;
`;

const ConnectionError = styled.div`
  color: var(--color-error);
  font-size: 0.8em;
  margin-top: 4px;
`;

const ChatBody = styled.div`
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-md);
`;

const ChatFooter = styled.div`
  display: flex;
  gap: var(--spacing-sm);
  padding: var(--spacing-md);
  border-top: 1px solid #eee;
`;

const ChatInput = styled.input`
  flex: 1;
`;

export default LearningStyleChat;

====================================================================================================
FILE: src/components/chat/TestChat.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/chat/TestChat.tsx
SIZE: 4640 bytes
SHA256: 3586c68511142a2b0642a1cc29fdd86f43ae4a72b3c73ad62a01997d0ece4217
====================================================================================================
import React, { useEffect, useState } from 'react';
import styled from 'styled-components';
import { CheshireService } from '../../services/cheshireService';
import { useAuth } from '../../contexts/AuthContext';

const TestChat: React.FC = () => {
  const [connectionStatus, setConnectionStatus] = useState<string>('Checking connection...');
  const [testMessage, setTestMessage] = useState<string>('');
  const [response, setResponse] = useState<string>('');
  const [error, setError] = useState<string>('');
  const { currentUser } = useAuth();

  useEffect(() => {
    checkConnection();
  }, []);

  const checkConnection = async () => {
    try {
      const isConnected = await CheshireService.checkConnection();
      setConnectionStatus(isConnected ? 'Connected ' : 'Not connected ');
    } catch (error) {
      setConnectionStatus('Connection failed ');
      setError(CheshireService.getErrorMessage(error));
    }
  };

  const handleTestMessage = async () => {
    if (!testMessage.trim() || !currentUser?.uid) return;

    try {
      setError('');
      const result = await CheshireService.sendChatMessage(
        testMessage,
        currentUser.uid,
        'test'
      );
      setResponse(result.data);
      if (result.memories?.length) {
        console.log('Memories received:', result.memories);
      }
    } catch (error) {
      setError(CheshireService.getErrorMessage(error));
    }
  };

  return (
    <TestContainer>
      <TestCard>
        <h2>Cheshire Service Test</h2>
        
        <StatusSection>
          <h3>Connection Status:</h3>
          <StatusText>{connectionStatus}</StatusText>
          <RefreshButton onClick={checkConnection}>
            Refresh Connection
          </RefreshButton>
        </StatusSection>

        {error && <ErrorMessage>{error}</ErrorMessage>}

        <TestSection>
          <h3>Send Test Message:</h3>
          <TestInput
            value={testMessage}
            onChange={(e) => setTestMessage(e.target.value)}
            placeholder="Type a test message..."
          />
          <SendButton 
            onClick={handleTestMessage}
            disabled={!testMessage.trim() || !currentUser}
          >
            Send Message
          </SendButton>
        </TestSection>

        {response && (
          <ResponseSection>
            <h3>Response:</h3>
            <ResponseText>{response}</ResponseText>
          </ResponseSection>
        )}
      </TestCard>
    </TestContainer>
  );
};

const TestContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 1rem;
  background-color: var(--background);
`;

const TestCard = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 600px;

  h2 {
    text-align: center;
    margin-bottom: 1.5rem;
    color: var(--primary-color);
  }

  h3 {
    margin-bottom: 1rem;
    color: var(--text-color);
  }
`;

const StatusSection = styled.div`
  margin-bottom: 2rem;
  padding: 1rem;
  background-color: #f8f9fa;
  border-radius: 4px;
`;

const StatusText = styled.div`
  font-size: 1.1rem;
  margin-bottom: 1rem;
`;

const TestSection = styled.div`
  margin-bottom: 2rem;
`;

const TestInput = styled.textarea`
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  margin-bottom: 1rem;
  min-height: 100px;
  resize: vertical;

  &:focus {
    outline: none;
    border-color: var(--primary-color);
  }
`;

const ResponseSection = styled.div`
  margin-top: 2rem;
  padding: 1rem;
  background-color: #f8f9fa;
  border-radius: 4px;
`;

const ResponseText = styled.div`
  white-space: pre-wrap;
  font-family: monospace;
  padding: 1rem;
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 4px;
`;

const Button = styled.button`
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
`;

const RefreshButton = styled(Button)`
  background-color: #6c757d;
  color: white;

  &:hover:not(:disabled) {
    background-color: #5a6268;
  }
`;

const SendButton = styled(Button)`
  background-color: var(--primary-color);
  color: white;
  width: 100%;

  &:hover:not(:disabled) {
    background-color: var(--primary-dark);
  }
`;

const ErrorMessage = styled.div`
  color: #dc2626;
  background-color: #fee2e2;
  padding: 0.75rem;
  border-radius: 4px;
  margin-bottom: 1rem;
  font-size: 0.875rem;
`;

export default TestChat;

====================================================================================================
FILE: src/components/common/__tests__/ConnectionStatus.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/__tests__/ConnectionStatus.test.tsx
SIZE: 2293 bytes
SHA256: c20551d87e5841282ef200c3223a901fafd9ef91ed0a8a2a4317340343fa933b
====================================================================================================
// File: /src/components/common/__tests__/ConnectionStatus.test.tsx
// Description: Tests for ConnectionStatus component
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react';
import { ConnectionStatus } from '../ConnectionStatus';
import websocketService from '../../../services/websocketService';

// Mock websocketService
jest.mock('../../../services/websocketService', () => ({
  __esModule: true,
  default: {
    connect: jest.fn()
  }
}));

describe('ConnectionStatus', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  it('displays connected status when connected', () => {
    render(<ConnectionStatus isConnected={true} />);
    
    expect(screen.getByText('Connected')).toBeInTheDocument();
    expect(screen.queryByText('Retry Connection')).not.toBeInTheDocument();
  });

  it('displays disconnected status with retry button when disconnected', () => {
    render(<ConnectionStatus isConnected={false} />);
    
    expect(screen.getByText('Disconnected')).toBeInTheDocument();
    expect(screen.getByText('Retry Connection')).toBeInTheDocument();
  });

  it('hides retry button when showRetry is false', () => {
    render(<ConnectionStatus isConnected={false} showRetry={false} />);
    
    expect(screen.getByText('Disconnected')).toBeInTheDocument();
    expect(screen.queryByText('Retry Connection')).not.toBeInTheDocument();
  });

  it('calls connect and onRetry when retry button is clicked', () => {
    const mockOnRetry = jest.fn();
    render(<ConnectionStatus isConnected={false} onRetry={mockOnRetry} />);
    
    fireEvent.click(screen.getByText('Retry Connection'));
    
    expect(websocketService.connect).toHaveBeenCalled();
    expect(mockOnRetry).toHaveBeenCalled();
  });

  it('handles retry without onRetry callback', () => {
    render(<ConnectionStatus isConnected={false} />);
    
    fireEvent.click(screen.getByText('Retry Connection'));
    
    expect(websocketService.connect).toHaveBeenCalled();
    // Should not throw error without onRetry callback
  });

  it('applies custom className', () => {
    const { container } = render(
      <ConnectionStatus isConnected={true} className="custom-class" />
    );
    
    expect(container.firstChild).toHaveClass('custom-class');
  });
});

====================================================================================================
FILE: src/components/common/Button.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/Button.tsx
SIZE: 1125 bytes
SHA256: 246af58e93abcb95e36e5e0ec9bc800bf771b1eb9ef15cc2b026f176f947ed68
====================================================================================================
import React from 'react';
import { Link } from 'react-router-dom';
import styled from 'styled-components';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  to?: string;
  $variant?: 'primary' | 'secondary';
  size?: 'small' | 'medium' | 'large';
  children: React.ReactNode;
}

const Button: React.FC<ButtonProps> = ({ to, children, $variant = 'primary', size = 'medium', ...props }) => {
  const className = `btn btn-${$variant} btn-${size}`;
  
  if (to) {
    return (
      <Link to={to} className={className}>
        {children}
      </Link>
    );
  }

  return (
    <StyledButton className={className} {...props}>
      {children}
    </StyledButton>
  );
};

const StyledButton = styled.button`
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: inherit;
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  &.btn-small {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }

  &.btn-medium {
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
  }

  &.btn-large {
    padding: 1rem 2rem;
    font-size: 1.125rem;
  }
`;

export default Button;

====================================================================================================
FILE: src/components/common/Card.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/Card.tsx
SIZE: 2902 bytes
SHA256: 74bf73ca332b903f7a6b7fa9b7a83a2e31578438abad38db7a632c5b9ccd8d33
====================================================================================================
import React, { forwardRef } from 'react';
import styled from 'styled-components';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { IconProp } from '@fortawesome/fontawesome-svg-core';

interface CardProps extends React.HTMLAttributes<HTMLDivElement> {
  icon?: IconProp | string;
  title?: string;
  description?: string | string[];
  className?: string;
  onClick?: () => void;
}

const Card = forwardRef<HTMLDivElement, CardProps>(({
  icon,
  title,
  description,
  children,
  className,
  onClick,
  ...props
}, ref) => {
  const isImagePath = typeof icon === 'string' && (icon.startsWith('/') || icon.startsWith('http'));
  
  return (
    <StyledCard 
      ref={ref}
      className={className} 
      onClick={onClick}
      role={onClick ? 'button' : undefined}
      tabIndex={onClick ? 0 : undefined}
      {...props}
    >
      {icon && (
        <IconContainer>
          {isImagePath ? (
            <img 
              src={icon} 
              alt={title || 'Card icon'}
              crossOrigin={icon.startsWith('http') ? "anonymous" : undefined}
            />
          ) : (
            typeof icon === 'object' && <FontAwesomeIcon icon={icon} />
          )}
        </IconContainer>
      )}
      {title && <CardTitle>{title}</CardTitle>}
      {description && (
        Array.isArray(description) ? (
          <CardList>
            {description.map((item, index) => (
              <li key={index}>{item}</li>
            ))}
          </CardList>
        ) : (
          <CardDescription>{description}</CardDescription>
        )
      )}
      {children}
    </StyledCard>
  );
});

Card.displayName = 'Card';

const StyledCard = styled.div`
  background: ${({ theme }) => theme.palette.background.paper};
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  padding: ${({ theme }) => theme.spacing.lg};
  cursor: ${props => props.onClick ? 'pointer' : 'default'};
  transition: transform 0.2s ease, box-shadow 0.2s ease;

  &:hover {
    ${props => props.onClick && `
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    `}
  }
`;

const IconContainer = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: ${({ theme }) => theme.spacing.md};
  color: ${({ theme }) => theme.palette.primary.main};
  
  img {
    max-width: 48px;
    height: auto;
  }
`;

const CardTitle = styled.h3`
  margin-bottom: ${({ theme }) => theme.spacing.sm};
  color: ${({ theme }) => theme.palette.text.primary};
`;

const CardDescription = styled.p`
  color: ${({ theme }) => theme.palette.text.secondary};
`;

const CardList = styled.ul`
  list-style: none;
  padding: 0;
  margin: ${({ theme }) => theme.spacing.sm} 0;
  
  li {
    margin-bottom: ${({ theme }) => theme.spacing.xs};
    color: ${({ theme }) => theme.palette.text.secondary};
  }
`;

export default Card;

====================================================================================================
FILE: src/components/common/ConnectionStatus.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/ConnectionStatus.tsx
SIZE: 2419 bytes
SHA256: a91a040c803ee5d803848b32764e97a9118864b5d4f4dca3633b5f3cc02dd89b
====================================================================================================
// File: /src/components/common/ConnectionStatus.tsx
// Description: Displays WebSocket connection status with retry functionality
// Author: GitHub Copilot
// Created: 2024

import React from 'react';
import styled, { keyframes, css } from 'styled-components';
import websocketService from '../../services/websocketService';

interface ConnectionStatusProps {
  className?: string;
  isConnected: boolean;
  onRetry?: () => void;
  showRetry?: boolean;
}

export const ConnectionStatus: React.FC<ConnectionStatusProps> = ({
  className,
  isConnected,
  onRetry,
  showRetry = true
}) => {
  const handleRetry = () => {
    websocketService.connect().catch(console.error);
    onRetry?.();
  };

  return (
    <Container className={className} $isConnected={isConnected}>
      <StatusDot $isConnected={isConnected} />
      <StatusText>
        {isConnected ? 'Connected' : 'Disconnected'}
      </StatusText>
      {!isConnected && showRetry && (
        <RetryButton onClick={handleRetry}>
          Retry Connection
        </RetryButton>
      )}
    </Container>
  );
};

const pulse = keyframes`
  0% {
    transform: scale(0.95);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
  100% {
    transform: scale(0.95);
    opacity: 0.5;
  }
`;

const Container = styled.div<{ $isConnected: boolean }>`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem;
  border-radius: 0.25rem;
  background-color: ${props => props.$isConnected ? '#ecfdf5' : '#fff3cd'};
  color: ${props => props.$isConnected ? '#059669' : '#92400e'};
  transition: background-color 0.2s ease-in-out;
`;

const StatusDot = styled.div<{ $isConnected: boolean }>`
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 50%;
  background-color: ${props => props.$isConnected ? '#059669' : '#92400e'};
  ${props => !props.$isConnected && css`
    animation: ${pulse} 2s ease-in-out infinite;
  `}
`;

const StatusText = styled.span`
  font-size: 0.875rem;
  font-weight: 500;
`;

const RetryButton = styled.button`
  margin-left: auto;
  padding: 0.25rem 0.5rem;
  border: none;
  border-radius: 0.25rem;
  background-color: #92400e;
  color: white;
  font-size: 0.75rem;
  cursor: pointer;
  transition: background-color 0.2s ease-in-out;

  &:hover {
    background-color: #78340f;
  }

  &:focus {
    outline: 2px solid #92400e;
    outline-offset: 2px;
  }
`;

export default ConnectionStatus;

====================================================================================================
FILE: src/components/common/Input.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/Input.tsx
SIZE: 943 bytes
SHA256: a6cd7c3a7761bafd2eeb7ae93d3fe41785610f1163cff628fb48787c6117adb7
====================================================================================================
import React from 'react';
import styled from 'styled-components';

interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  placeholder?: string;
  value: string;
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
  error?: boolean;
}

const Input: React.FC<InputProps> = ({ placeholder, value, onChange, error, ...props }) => {
  return (
    <StyledInput
      placeholder={placeholder}
      value={value}
      onChange={onChange}
      error={error}
      {...props}
    />
  );
};

const StyledInput = styled.input<{ error?: boolean }>`
  padding: 0.75rem;
  border: 1px solid ${({ error }) => (error ? '#dc3545' : '#ddd')};
  border-radius: 4px;
  font-size: 1rem;

  &:focus {
    outline: none;
    border-color: ${({ error }) => (error ? '#dc3545' : '#4a90e2')};
    box-shadow: 0 0 0 2px ${({ error }) => (error ? 'rgba(220, 53, 69, 0.2)' : 'rgba(74, 144, 226, 0.2)')};
  }
`;

export default Input;

====================================================================================================
FILE: src/components/common/LoadingSpinner.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/LoadingSpinner.tsx
SIZE: 709 bytes
SHA256: 97a4f8b8c18923cefd33c6e409f6b27390e821bbacc8bf85b3c53a284312aa56
====================================================================================================
import React from 'react';
import styled from 'styled-components';

const LoadingContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: rgba(255, 255, 255, 0.8);
`;

const SpinnerElement = styled.div`
  width: 50px;
  height: 50px;
  border: 5px solid #f3f3f3;
  border-top: 5px solid var(--primary-color);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`;

const LoadingSpinner: React.FC = () => {
  return (
    <LoadingContainer>
      <SpinnerElement />
    </LoadingContainer>
  );
};

export default LoadingSpinner;

====================================================================================================
FILE: src/components/common/Modal.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/Modal.tsx
SIZE: 2207 bytes
SHA256: 95042fd420308f0ce598fe68822a84e6c63ada9516a97d10997672d5c97e4c31
====================================================================================================
import React, { useEffect } from 'react';
import styled from 'styled-components';

interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title: string;
  children: React.ReactNode;
}

const Modal: React.FC<ModalProps> = ({ isOpen, onClose, title, children }) => {
  useEffect(() => {
    const handleEsc = (e: KeyboardEvent) => {
      if (e.key === 'Escape') onClose();
    };
    window.addEventListener('keydown', handleEsc);
    return () => window.removeEventListener('keydown', handleEsc);
  }, [onClose]);

  if (!isOpen) return null;

  return (
    <Overlay onClick={onClose}>
      <Content onClick={(e: React.MouseEvent) => e.stopPropagation()}>
        <Header>
          <Title>{title}</Title>
          <CloseButton onClick={onClose}>&times;</CloseButton>
        </Header>
        <Body>{children}</Body>
      </Content>
    </Overlay>
  );
};

const Overlay = styled.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
`;

const Content = styled.div`
  background: ${({ theme }) => theme.palette.background.paper};
  border-radius: 8px;
  padding: ${({ theme }) => theme.spacing.lg};
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`;

const Header = styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: ${({ theme }) => theme.spacing.md};
  padding-bottom: ${({ theme }) => theme.spacing.sm};
  border-bottom: 1px solid ${({ theme }) => theme.palette.divider};
`;

const Title = styled.h2`
  margin: 0;
  color: ${({ theme }) => theme.palette.text.primary};
`;

const CloseButton = styled.button`
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  padding: ${({ theme }) => theme.spacing.xs};
  color: ${({ theme }) => theme.palette.text.secondary};
  transition: color 0.2s ease;

  &:hover {
    color: ${({ theme }) => theme.palette.text.primary};
  }
`;

const Body = styled.div`
  color: ${({ theme }) => theme.palette.text.primary};
`;

export default Modal;

====================================================================================================
FILE: src/components/common/StyledLink.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/StyledLink.tsx
SIZE: 1115 bytes
SHA256: 1182d08b47003682278d00761c667c33535cbe70184fbf4682c8bbbd9906cd24
====================================================================================================
import styled from 'styled-components';
import { Link } from 'react-router-dom';

export interface StyledLinkProps {
  disabled?: boolean;
  variant?: 'primary' | 'secondary';
}

const StyledLink = styled(Link).attrs<StyledLinkProps>(({ disabled }) => ({
  role: 'button',
  'aria-disabled': disabled,
}))<StyledLinkProps>`
  display: inline-block;
  padding: var(--spacing-md) var(--spacing-lg);
  background: ${props => props.variant === 'secondary' ? 'var(--secondary-color)' : 'var(--primary-color)'};
  color: var(--white);
  border-radius: var(--border-radius);
  font-size: 1.1rem;
  text-decoration: none;
  text-align: center;
  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};
  transition: background 0.2s, transform 0.2s;
  opacity: ${props => props.disabled ? 0.6 : 1};

  &:hover:not([aria-disabled="true"]) {
    background: ${props => props.variant === 'secondary' ? 'var(--primary-color)' : 'var(--secondary-color)'};
    transform: translateY(-2px);
  }

  &:focus-visible {
    outline: 2px dashed var(--secondary-color);
    outline-offset: 4px;
  }
`;

export default StyledLink;

====================================================================================================
FILE: src/components/common/Toast.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/Toast.tsx
SIZE: 2392 bytes
SHA256: 636ffe00835e1710e106a13fb0e36b5487e6e9fd89754eb4059ffeb01760804a
====================================================================================================
import React, { useState, useEffect } from 'react';
import ReactDOM from 'react-dom';
import styled, { css } from 'styled-components';

type ToastType = 'info' | 'success' | 'warning' | 'error';

interface ToastProps {
  message: string;
  type?: ToastType;
  duration?: number;
  onClose?: () => void;
}

const Toast: React.FC<ToastProps> = ({ message, type = 'info', duration = 3000, onClose }) => {
  const [isVisible, setIsVisible] = useState(true);

  useEffect(() => {
    const timer = setTimeout(() => {
      setIsVisible(false);
      onClose?.();
    }, duration);

    return () => clearTimeout(timer);
  }, [duration, onClose]);

  if (!isVisible) return null;

  return (
    <ToastContainer $type={type}>
      <p>{message}</p>
    </ToastContainer>
  );
};

const showToast = (props: ToastProps): void => {
  const toastElement = document.createElement('div');
  document.body.appendChild(toastElement);
  
  const onClose = () => {
    document.body.removeChild(toastElement);
    props.onClose?.();
  };
  
  const toastComponent = React.createElement(Toast, { ...props, onClose });
  ReactDOM.render(toastComponent, toastElement);
};

const getToastColor = (type: ToastType) => {
  switch (type) {
    case 'success':
      return css`
        background-color: ${({ theme }) => theme.palette.success?.main || '#2ECC71'};
        color: white;
      `;
    case 'warning':
      return css`
        background-color: ${({ theme }) => theme.palette.warning?.main || '#F1C40F'};
        color: white;
      `;
    case 'error':
      return css`
        background-color: ${({ theme }) => theme.palette.error?.main || '#E74C3C'};
        color: white;
      `;
    default:
      return css`
        background-color: ${({ theme }) => theme.palette.info?.main || '#3498DB'};
        color: white;
      `;
  }
};

const ToastContainer = styled.div<{ $type: ToastType }>`
  position: fixed;
  bottom: 20px;
  right: 20px;
  padding: ${({ theme }) => theme.spacing.sm} ${({ theme }) => theme.spacing.md};
  border-radius: 4px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  z-index: 1000;
  animation: slideIn 0.3s ease-out;
  ${props => getToastColor(props.$type)}

  p {
    margin: 0;
  }

  @keyframes slideIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;

export default Toast;

====================================================================================================
FILE: src/components/common/types/index.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/common/types/index.ts
SIZE: 731 bytes
SHA256: 89cd288dbd6473f329bb216ba022d69e3cbc6ae1697c2f8be220de079d0bf5f3
====================================================================================================
// src/components/SomeComponent.tsx

import React from 'react';

// Reusable component prop types
export interface BaseComponentProps {
  className?: string;
  id?: string;
}

// Example component with proper types
export interface SomeComponentProps extends BaseComponentProps {
  title?: string;
}

// Use arrow function with explicit return for better type inference
export const SomeComponent: React.FC<SomeComponentProps> = ({ title = 'Hello, World!', className, id }): JSX.Element => {
  return React.createElement('div', { className, id },
    React.createElement('h1', null, title)
  );
};

// Example utility function with explicit return type
export const exampleFunction = (input: string): string => input.toUpperCase();

====================================================================================================
FILE: src/components/CourseCard.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/CourseCard.tsx
SIZE: 1162 bytes
SHA256: 2d4a8fefc6366d015f67d6159768164544c8326131d4b2b4d19a3a5ea379eea6
====================================================================================================
import React from "react";
import { FaVideo, FaListAlt, FaBrain } from "react-icons/fa";
import Card from "./common/Card";
import styled from "styled-components";

interface CourseCardProps {
  title: string;
  type: "Video Animated" | "Quiz" | "Mind Map";
  category: string;
}

const iconMap = {
  "Video Animated": <FaVideo style={{ color: "#9333ea" }} />,
  "Quiz": <FaListAlt style={{ color: "#eab308" }} />,
  "Mind Map": <FaBrain style={{ color: "#ec4899" }} />,
};

const StyledCard = styled(Card)`
  border-left: 4px solid ${props => props.theme.palette.primary.main};
  transition: transform 0.2s ease-in-out;
  
  &:hover {
    transform: translateY(-4px);
  }
`;

const IconWrapper = styled.div`
  font-size: 1.875rem;
`;

const CategoryText = styled.p`
  color: ${props => props.theme.palette.text.secondary};
  font-size: 0.875rem;
  margin-top: 0.25rem;
`;

const CourseCard: React.FC<CourseCardProps> = ({ title, type, category }) => {
  return (
    <StyledCard title={title} description={type}>
      <IconWrapper>{iconMap[type]}</IconWrapper>
      <CategoryText>{category}</CategoryText>
    </StyledCard>
  );
};

export default CourseCard;

====================================================================================================
FILE: src/components/CurriculumDesigner.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/CurriculumDesigner.tsx
SIZE: 6889 bytes
SHA256: 16cdf57e0bedc997c09af1a4c0c37a8f711d95643911e5453e9cb46873fd9088
====================================================================================================
// File: /src/components/CurriculumDesigner.tsx
// Description: Adaptive Curriculum Designer component with learning style detection and AddThis social sharing integration
// Author: [Your Name]
// Created: [Date]

import React, { useState, useEffect } from 'react';
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';
import { Alert, AlertDescription } from '@/components/ui/alert';
import { Brain } from 'lucide-react';
import { GradeLevelSelect, SubjectInput, DifficultySelect, StandardsInput } from './FormControls';
import { useCurriculumForm } from '@/hooks/useCurriculumForm';
import { detectLearningStyle } from '@/services/learningStyleService';
import { useAuth } from '@/contexts/AuthContext';
import { getAvailableStandards } from '@/services/standardsService';
import CurriculumContent from './CurriculumContent';

export const CurriculumDesigner: React.FC = () => {
  const { user } = useAuth();
  const [curriculum, setCurriculum] = useState<CurriculumResponse | null>(null);
  const [learningStyle, setLearningStyle] = useState<LearningStyleData | null>(null);
  const [interactionStart, setInteractionStart] = useState<number>(0);
  const { errors, loading, handleSubmit } = useCurriculumForm();

  const [request, setRequest] = useState<CurriculumRequest>({
    grade_level: 1,
    subject: '',
    difficulty: 'beginner'
  });

  // Enhanced learning style detection
  useEffect(() => {
    let mounted = true;

    const updateLearningStyle = async () => {
      if (!user?.uid) return;
      try {
        const style = await detectLearningStyle(user.uid);
        if (mounted) {
          setLearningStyle(style);
        }
      } catch (error) {
        console.error('Failed to detect learning style:', error);
      }
    };

    updateLearningStyle();
    const interval = setInterval(updateLearningStyle, 5 * 60 * 1000);

    return () => {
      mounted = false;
      clearInterval(interval);
    };
  }, [user?.uid]);

  // Load AddThis script for social sharing
  useEffect(() => {
    if (!document.getElementById('addthis-script')) {
      const script = document.createElement('script');
      script.src = 'https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-PLACEHOLDER';
      script.async = true;
      script.id = 'addthis-script';
      document.body.appendChild(script);
    }
  }, []);

  // Track interaction start time
  useEffect(() => {
    setInteractionStart(Date.now());
  }, []);

  const handleFormSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    const engagementMetrics = {
      responseLatency: Date.now() - interactionStart,
      queryComplexity: calculateQueryComplexity(request.subject),
      feedbackIterations: 0
    };

    try {
      const response = await handleSubmit(request, learningStyle, engagementMetrics);
      if (response) {
        setCurriculum(response);
        setInteractionStart(Date.now()); // Reset interaction timer
      }
    } catch (error) {
      // Error handling is managed by useCurriculumForm
      console.error('Submission error:', error);
    }
  };

  const calculateQueryComplexity = (subject: string): number => {
    const words = subject.trim().split(/\s+/);
    const complexity = words.length +
      words.filter(w => w.length > 6).length * 0.5 +
      (subject.includes(',') ? 0.5 : 0);
    return Math.min(complexity / 5, 1);
  };

  return (
    <Card className="w-full max-w-4xl mx-auto">
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <Brain className="w-5 h-5" />
          Adaptive Curriculum Designer
        </CardTitle>
        {learningStyle && (
          <div className="flex items-center gap-2 text-sm">
            <div className="px-3 py-1 rounded-full bg-blue-100">
              <span> Learning Style: <strong>{learningStyle.style}</strong></span>
              <span className="ml-2 text-gray-500">
                ({(learningStyle.confidence * 100).toFixed(0)}% confidence)
              </span>
            </div>
            <div className="text-gray-500">
              Updated {new Date(learningStyle.lastUpdated).toLocaleTimeString()}
            </div>
          </div>
        )}
      </CardHeader>

      <CardContent>
        <form onSubmit={handleFormSubmit} className="space-y-6">
          <GradeLevelSelect
            value={request.grade_level}
            onChange={(value) => setRequest(prev => ({ ...prev, grade_level: value as number }))}
            error={errors.grade_level}
            label="Grade Level"
          />

          <SubjectInput
            value={request.subject}
            onChange={(value) => setRequest(prev => ({ ...prev, subject: value as string }))}
            error={errors.subject}
            label="Subject"
          />

          <DifficultySelect
            value={request.difficulty}
            onChange={(value) => setRequest(prev => ({ 
              ...prev, 
              difficulty: value as CurriculumRequest['difficulty'] 
            }))}
            error={errors.difficulty}
            label="Difficulty Level"
          />

          <StandardsInput
            value={request.standards?.[0] || ''}
            onChange={(value) => setRequest(prev => ({ 
              ...prev, 
              standards: [value as string] 
            }))}
            standards={getAvailableStandards(request.subject, request.grade_level)}
            error={errors.standards}
            label="Educational Standards"
          />

          <button
            type="submit"
            disabled={loading}
            className="w-full py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            {loading ? 'Generating...' : 'Generate Curriculum'}
          </button>
        </form>

        {curriculum && (
          <div className="mt-6 space-y-4">
            <h3 className="text-lg font-semibold">Personalized Curriculum</h3>
            {curriculum.style_adaptations && (
              <Alert>
                <AlertDescription>
                  <div className="space-y-1">
                    <div>Format: {curriculum.style_adaptations.content_format}</div>
                    <div>Interaction: {curriculum.style_adaptations.interaction_method}</div>
                    <div>Assessment: {curriculum.style_adaptations.assessment_type}</div>
                  </div>
                </AlertDescription>
              </Alert>
            )}
            {/* Curriculum content sections */}
            <CurriculumContent curriculum={curriculum} />
            {/* AddThis Social Sharing Buttons */}
            <div className="mt-4">
              <div className="addthis_inline_share_toolbox"></div>
            </div>
          </div>
        )}
      </CardContent>
    </Card>
  );
};

export default CurriculumDesigner;

====================================================================================================
FILE: src/components/dashboard/Dashboard.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/dashboard/Dashboard.tsx
SIZE: 9983 bytes
SHA256: 4e55b33791e1d01bee1416b4a6b1350f5394f6d5e395081a293b84ca71ef8cca
====================================================================================================
import React, { useState, useEffect, useCallback } from 'react';
import { useNavigate } from 'react-router-dom';
import { useAuth } from '../../contexts/AuthContext';
import CreateStudent from '../../pages/profile/ParentProfile/CreateStudent';
import { ProfileService, getStudentProfile } from '../../services/profileService';
import styled from 'styled-components';
import { motion, AnimatePresence } from 'framer-motion';
import LoadingSpinner from '../common/LoadingSpinner';
import Button from '../common/Button';
import type { Student, BaseProfile } from '../../types/profiles';

interface UserData {
  name: string;
  lastLogin: string;
}

interface ParentProfile {
  id?: string;
  students?: string[];
  name?: string;
  email?: string;
}

interface DashboardProps {
  onProfileUpdate?: (profile: BaseProfile) => void;
}

const Dashboard: React.FC<DashboardProps> = ({ onProfileUpdate }): JSX.Element => {
  const { currentUser, logout } = useAuth();
  const navigate = useNavigate();
  const [userData, setUserData] = useState<UserData | null>(null);
  const [loading, setLoading] = useState<boolean>(true);
  const [error, setError] = useState<string>('');
  const [parentProfile, setParentProfile] = useState<ParentProfile | null>(null);
  const [students, setStudents] = useState<Student[]>([]);
  const [isOffline, setIsOffline] = useState(!navigator.onLine);
  const [retryCount, setRetryCount] = useState(0);
  const MAX_RETRIES = 3;

  // Handle online/offline status
  useEffect(() => {
    const handleOnline = () => {
      setIsOffline(false);
      // Retry data fetch when back online
      if (currentUser) fetchUserData();
    };
    
    const handleOffline = () => setIsOffline(true);

    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);

    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, [currentUser]);

  const fetchUserData = useCallback(async (): Promise<void> => {
    try {
      if (!currentUser?.uid) {
        setLoading(false);
        return;
      }

      setLoading(true);
      setError('');
      
      // Set basic user data immediately from auth
      setUserData({
        name: currentUser.displayName || currentUser.email || '',
        lastLogin: currentUser.metadata?.lastSignInTime || 'N/A',
      });

      // Fetch parent profile with retry mechanism
      const fetchProfileWithRetry = async () => {
        try {
          const profileService = new ProfileService();
          const profile = await profileService.getUserProfile(currentUser.uid);
          if (profile) {
            setParentProfile(profile);
            if (onProfileUpdate) {
              onProfileUpdate(profile);
            }
            return profile;
          }
          throw new Error('Profile not found');
        } catch (err) {
          if (retryCount < MAX_RETRIES && !isOffline) {
            setRetryCount(prev => prev + 1);
            await new Promise(resolve => setTimeout(resolve, 1000 * Math.pow(2, retryCount)));
            return fetchProfileWithRetry();
          }
          throw err;
        }
      };

      const profile = await fetchProfileWithRetry();

      // Fetch students data if profile exists
      if (profile?.students?.length) {
        const studentsData = await Promise.all(
          profile.students.map(async (studentId: string) => {
            try {
              const student = await getStudentProfile(studentId);
              return student;
            } catch (err) {
              console.error(`Error fetching student ${studentId}:`, err);
              return null;
            }
          })
        );
        
        // Filter out null values and cast to Student array
        setStudents(studentsData.filter((s): s is Student => s !== null && s.id !== undefined));
      }

      setRetryCount(0); // Reset retry count on success
    } catch (err) {
      console.error(' Error fetching user data:', err);
      setError(isOffline ? 
        'You are currently offline. Some features may be limited.' :
        'Failed to fetch user data. Please try again.'
      );
    } finally {
      setLoading(false);
    }
  }, [currentUser, navigate, onProfileUpdate, retryCount, isOffline]);

  useEffect(() => {
    fetchUserData();
  }, [fetchUserData]);

  const handleStudentSelect = (student: Student) => {
    if (isOffline) {
      setError('This action is not available while offline');
      return;
    }
    
    if (!student.hasTakenAssessment) {
      navigate(`/learning-style-chat/${student.id}`);
    } else {
      navigate(`/student-profile/${student.id}`);
    }
  };

  const handleLogout = async (): Promise<void> => {
    try {
      await logout();
    } catch (err) {
      setError('Failed to log out');
    }
  };

  if (loading) {
    return (
      <DashboardContainer>
        <LoadingOverlay>
          <LoadingSpinner />
        </LoadingOverlay>
      </DashboardContainer>
    );
  }

  return (
    <DashboardContainer>
      <AnimatePresence>
        {isOffline && (
          <OfflineBanner
            initial={{ height: 0, opacity: 0 }}
            animate={{ height: 'auto', opacity: 1 }}
            exit={{ height: 0, opacity: 0 }}
          >
            You are currently offline. Some features may be limited.
          </OfflineBanner>
        )}
      </AnimatePresence>

      <DashboardHeader>
        <h1>Welcome, {userData?.name}</h1>
        <Button onClick={handleLogout} $variant="primary">
          Logout
        </Button>
      </DashboardHeader>

      {error && (
        <ErrorMessage>
          {error}
          <RetryButton onClick={fetchUserData}>Retry</RetryButton>
        </ErrorMessage>
      )}

      <DashboardGrid>
        <ParentSection>
          <h2>Parent Dashboard</h2>
          {!isOffline && <CreateStudent />}
          <StudentsList>
            <h3>Your Students</h3>
            {students.length > 0 ? (
              <StudentGrid>
                {students.map((student) => (
                  <StudentCardWrapper 
                    key={student.id}
                    onClick={() => handleStudentSelect(student)}
                    disabled={isOffline}
                  >
                    <StudentName>{student.name}</StudentName>
                    <StudentInfo>Grade: {student.grade}</StudentInfo>
                    <AssessmentStatus $completed={student.hasTakenAssessment}>
                      {student.hasTakenAssessment ? 'Assessment Complete' : 'Take Assessment'}
                    </AssessmentStatus>
                  </StudentCardWrapper>
                ))}
              </StudentGrid>
            ) : (
              <EmptyState>
                No students found. {!isOffline && 'Add your first student to get started.'}
              </EmptyState>
            )}
          </StudentsList>
        </ParentSection>
      </DashboardGrid>
    </DashboardContainer>
  );
};

const DashboardContainer = styled.div`
  padding: 2rem;
  background-color: #f9fafb;
  min-height: 100vh;
`;

const DashboardHeader = styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
`;

const DashboardGrid = styled.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
`;

const ParentSection = styled.section`
  background-color: white;
  padding: 1.5rem;
  border-radius: 0.5rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`;

const StudentsList = styled.div`
  margin-top: 1rem;
`;

const StudentGrid = styled.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
`;

const StudentCardWrapper = styled.div<{ disabled?: boolean }>`
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};
  opacity: ${props => props.disabled ? 0.7 : 1};
  transition: transform 0.2s, box-shadow 0.2s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
`;

const StudentName = styled.h3`
  margin: 0 0 0.5rem 0;
  color: #2d3748;
`;

const StudentInfo = styled.p`
  color: #4a5568;
  margin: 0 0 0.5rem 0;
`;

const AssessmentStatus = styled.div<{ $completed: boolean }>`
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 0.875rem;
  background-color: ${props => props.$completed ? '#48BB78' : '#4299E1'};
  color: white;
  margin-bottom: 1rem;
`;

const ActionButton = styled.button`
  width: 100%;
  background-color: #3B82F6;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 0.375rem;
  font-weight: 500;
  
  &:hover {
    background-color: #2563EB;
  }
`;

const EmptyState = styled.div`
  margin-top: 1rem;
  padding: 1rem;
  background-color: #f1f5f9;
  border-radius: 0.5rem;
  text-align: center;
`;

const LogoutButton = styled.button`
  background-color: #ef4444;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 0.25rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #dc2626;
  }
`;

const OfflineBanner = styled(motion.div)`
  background: #fff3cd;
  color: #856404;
  padding: 0.75rem;
  text-align: center;
  position: sticky;
  top: 0;
  z-index: 100;
`;

const LoadingOverlay = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 50vh;
`;

const ErrorMessage = styled.div`
  background: #fee2e2;
  color: #dc2626;
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
`;

const RetryButton = styled.button`
  background: none;
  border: 1px solid currentColor;
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  cursor: pointer;
  
  &:hover {
    background: rgba(0, 0, 0, 0.05);
  }
`;

export default Dashboard;

====================================================================================================
FILE: src/components/debug/RenderDebugOverlay.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/debug/RenderDebugOverlay.tsx
SIZE: 2141 bytes
SHA256: 0b845071e2735d99d8e71bf6cad21604eecb2973dc5ed0ce81dfba9e44698f3e
====================================================================================================
// File: /src/components/debug/RenderDebugOverlay.tsx
// Description: Minimal debug overlay to help diagnose blank screen rendering issues
// Author: GitHub Copilot
// Created: 2025-09-07

import React, { useEffect, useState } from 'react';

interface RenderDebugOverlayProps { enabled?: boolean; }

const boxStyle: React.CSSProperties = {
  position: 'fixed',
  bottom: 8,
  right: 8,
  zIndex: 99999,
  background: 'rgba(0,0,0,0.75)',
  color: '#0ff',
  fontFamily: 'monospace',
  fontSize: 11,
  padding: '6px 8px',
  borderRadius: 4,
  maxWidth: 280,
  lineHeight: 1.3,
  pointerEvents: 'none'
};

export const RenderDebugOverlay: React.FC<RenderDebugOverlayProps> = ({ enabled }) => {
  const initialEnabled = (() => {
    if (typeof enabled === 'boolean') return enabled;
    // Enable automatically only in development when flag set
    return import.meta.env.DEV && import.meta.env.VITE_DEBUG_OVERLAY === 'true';
  })();
  const [active, setActive] = useState<boolean>(initialEnabled);
  const [ts, setTs] = useState<number>(Date.now());
  const [vis, setVis] = useState<string>(document.visibilityState);

  useEffect(() => {
    const id = setInterval(() => setTs(Date.now()), 3000);
    const onVis = () => setVis(document.visibilityState);
    const onKey = (e: KeyboardEvent) => {
      // Ctrl+Alt+D toggles overlay
      if (e.ctrlKey && e.altKey && e.key.toLowerCase() === 'd') {
        setActive(a => !a);
      }
    };
    document.addEventListener('visibilitychange', onVis);
    window.addEventListener('keydown', onKey);
    return () => { clearInterval(id); document.removeEventListener('visibilitychange', onVis); window.removeEventListener('keydown', onKey); };
  }, []);

  if (!active) return null;
  return (
    <div style={boxStyle}>
      <div>Render OK @ {new Date(ts).toLocaleTimeString()}</div>
      <div>Visibility: {vis}</div>
      <div>Env: {import.meta.env.MODE}</div>
      <div>Firebase apiKey present: {Boolean(import.meta.env.VITE_FIREBASE_API_KEY).toString()}</div>
      <div style={{marginTop:4, color:'#9cf'}}>Ctrl+Alt+D to toggle</div>
    </div>
  );
};

export default RenderDebugOverlay;

====================================================================================================
FILE: src/components/error-boundaries/__tests__/WebSocketErrorBoundary.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/error-boundaries/__tests__/WebSocketErrorBoundary.test.tsx
SIZE: 2655 bytes
SHA256: 1a79064bc2d22b66e7d380870d27a025b194112ec75a422af39a595dbaaa6ee3
====================================================================================================
// File: /src/components/error-boundaries/__tests__/WebSocketErrorBoundary.test.tsx
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react';
import WebSocketErrorBoundary from '../WebSocketErrorBoundary';

// Mock component that throws an error
const ErrorComponent: React.FC<{ shouldThrow?: boolean }> = ({ shouldThrow = false }) => {
  if (shouldThrow) {
    throw new Error('Test WebSocket error');
  }
  return <div>No error</div>;
};

describe('WebSocketErrorBoundary', () => {
  beforeEach(() => {
    // Reset console.error to prevent noise in test output
    jest.spyOn(console, 'error').mockImplementation(() => {});
  });

  afterEach(() => {
    (console.error as jest.Mock).mockRestore();
  });

  it('renders children when there is no error', () => {
    render(
      <WebSocketErrorBoundary>
        <div>Test content</div>
      </WebSocketErrorBoundary>
    );

    expect(screen.getByText('Test content')).toBeInTheDocument();
  });

  it('renders error UI when an error occurs', () => {
    render(
      <WebSocketErrorBoundary>
        <ErrorComponent shouldThrow />
      </WebSocketErrorBoundary>
    );

    expect(screen.getByText(/Connection Error/)).toBeInTheDocument();
    expect(screen.getByText(/Retry Connection/)).toBeInTheDocument();
  });

  it('calls onRetry when retry button is clicked', () => {
    const mockOnRetry = jest.fn();

    render(
      <WebSocketErrorBoundary onRetry={mockOnRetry}>
        <ErrorComponent shouldThrow />
      </WebSocketErrorBoundary>
    );

    fireEvent.click(screen.getByText(/Retry Connection/));
    expect(mockOnRetry).toHaveBeenCalled();
  });

  it('renders custom fallback when provided', () => {
    const fallback = <div>Custom error message</div>;

    render(
      <WebSocketErrorBoundary fallback={fallback}>
        <ErrorComponent shouldThrow />
      </WebSocketErrorBoundary>
    );

    expect(screen.getByText('Custom error message')).toBeInTheDocument();
  });

  it('resets error state after retry', () => {
    const TestComponent = () => {
      const [shouldThrow, setShouldThrow] = React.useState(true);
      
      return (
        <WebSocketErrorBoundary onRetry={() => setShouldThrow(false)}>
          <ErrorComponent shouldThrow={shouldThrow} />
        </WebSocketErrorBoundary>
      );
    };

    render(<TestComponent />);

    // Initially shows error
    expect(screen.getByText(/Connection Error/)).toBeInTheDocument();

    // Click retry
    fireEvent.click(screen.getByText(/Retry Connection/));

    // Should show success state
    expect(screen.getByText('No error')).toBeInTheDocument();
  });
});

====================================================================================================
FILE: src/components/error-boundaries/WebSocketErrorBoundary.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/error-boundaries/WebSocketErrorBoundary.tsx
SIZE: 1926 bytes
SHA256: a40d48640ce748bbfc9e2f451fd635a59da2f637e160009760020c476aede809
====================================================================================================
// File: /src/components/error-boundaries/WebSocketErrorBoundary.tsx
// Description: Error boundary for handling WebSocket connection failures
import React, { Component, ErrorInfo, ReactNode } from 'react';
import styled from 'styled-components';

interface Props {
  children: ReactNode;
  onRetry?: () => void;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error: Error | null;
}

export class WebSocketErrorBoundary extends Component<Props, State> {
  public state: State = {
    hasError: false,
    error: null
  };

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    // Log error to your error reporting service
    console.error('WebSocket Error:', error, errorInfo);
  }

  handleRetry = () => {
    this.setState({ hasError: false, error: null });
    this.props.onRetry?.();
  };

  render() {
    if (this.state.hasError) {
      if (this.props.fallback) {
        return this.props.fallback;
      }

      return (
        <ErrorContainer>
          <ErrorMessage>
            Connection Error: Unable to establish real-time connection
          </ErrorMessage>
          <RetryButton onClick={this.handleRetry}>
            Retry Connection
          </RetryButton>
        </ErrorContainer>
      );
    }

    return this.props.children;
  }
}

const ErrorContainer = styled.div`
  padding: 1rem;
  border: 1px solid #fee2e2;
  border-radius: 0.375rem;
  background-color: #fef2f2;
  margin: 1rem 0;
  text-align: center;
`;

const ErrorMessage = styled.p`
  color: #dc2626;
  margin-bottom: 1rem;
`;

const RetryButton = styled.button`
  background-color: #dc2626;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  border: none;
  cursor: pointer;
  font-weight: 500;

  &:hover {
    background-color: #b91c1c;
  }
`;

export default WebSocketErrorBoundary;

====================================================================================================
FILE: src/components/features/learning/LearningStyleInsightsWrapper.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/features/learning/LearningStyleInsightsWrapper.tsx
SIZE: 567 bytes
SHA256: cee9f68e23e21e53041b54a76ce016fff571eec6441a2b4d7822bd855ddbc6f5
====================================================================================================
/src/components/features/learning/LearningStyleInsightsWrapper.tsx

import React from 'react';
import VueWrapper from '../vue/VueWrapper';
import LearningStyleInsights from './LearningStyleInsights.vue';

interface LearningStyleInsightsWrapperProps {
  studentData?: any; // Add proper typing based on your Vue component props
}

const LearningStyleInsightsWrapper: React.FC<LearningStyleInsightsWrapperProps> = ({ studentData }) => {
  return <VueWrapper component={LearningStyleInsights} props={{ studentData }} />;
};

export default LearningStyleInsightsWrapper;

====================================================================================================
FILE: src/components/features/vue/VueComponent.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/features/vue/VueComponent.tsx
SIZE: 391 bytes
SHA256: ebdab421472d2bc95a16b57f91d33a586826e0d4a6b840c121667f6a5172472d
====================================================================================================
/src/components/features/vue/VueComponent.tsx

import React from 'react';
import VueComponentWrapper from './VueComponentWrapper';

interface VueComponentProps {
  // Add any props if needed
}

const VueComponent: React.FC<VueComponentProps> = () => {
  return (
    <div>
      <h1>React + Vue Integration</h1>
      <VueComponentWrapper />
    </div>
  );
};

export default VueComponent;

====================================================================================================
FILE: src/components/features/vue/VueWrapper.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/features/vue/VueWrapper.tsx
SIZE: 769 bytes
SHA256: 7995d01d688b85dd4e01d84b7c1cc9a5cde25a01f0869b4029b9a456c90bae2b
====================================================================================================
import React, { useEffect, useRef } from 'react';
import { createApp, App } from 'vue';

interface VueWrapperProps {
  component: any; // Vue component
  props?: Record<string, any>;
}

const VueWrapper: React.FC<VueWrapperProps> = ({ component, props = {} }) => {
  const vueRef = useRef<HTMLDivElement>(null);
  const appRef = useRef<App | null>(null);

  useEffect(() => {
    if (!vueRef.current || !component) return;

    if (!appRef.current) {
      appRef.current = createApp(component, props);
      appRef.current.mount(vueRef.current);
    }

    return () => {
      if (appRef.current) {
        appRef.current.unmount();
        appRef.current = null;
      }
    };
  }, [component, props]);

  return <div ref={vueRef} />;
};

export default VueWrapper;

====================================================================================================
FILE: src/components/GoogleLoginButton.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/GoogleLoginButton.test.tsx
SIZE: 2285 bytes
SHA256: ee5ccb4052f4b90ddb81a9cbb3f1d78228158ca092bbe357c2aa23d2e6be48a1
====================================================================================================
/** @jest-environment jsdom */
import { screen, fireEvent, waitFor } from '@testing-library/react';
import { renderWithProviders } from '../test/testUtils';
import GoogleLoginButton from './GoogleLoginButton';

describe('GoogleLoginButton', () => {
  const mockHandleGoogleLogin = jest.fn();
  const mockDismissError = jest.fn();

  beforeEach(() => {
    jest.clearAllMocks();
  });

  it('renders sign in button with correct accessibility', () => {
    renderWithProviders(<GoogleLoginButton handleGoogleLogin={mockHandleGoogleLogin} />);
    expect(screen.getByRole('button', { name: /sign in with google/i })).toBeInTheDocument();
  });

  it('shows loading state when loading prop is true', () => {
    renderWithProviders(<GoogleLoginButton handleGoogleLogin={mockHandleGoogleLogin} loading={true} />);
    const button = screen.getByRole('button', { name: /signing in/i });
    expect(button).toBeDisabled();
    expect(button).toHaveTextContent('Signing in...');
  });

  it('displays error message with dismiss button', () => {
    const errorMessage = 'Test error message';
    renderWithProviders(
      <GoogleLoginButton 
        handleGoogleLogin={mockHandleGoogleLogin} 
        error={errorMessage}
        onDismissError={mockDismissError} 
      />
    );
    
    expect(screen.getByRole('alert')).toHaveTextContent(errorMessage);
    expect(screen.getByRole('button', { name: /dismiss error/i })).toBeInTheDocument();
  });

  it('calls onDismissError when dismiss button is clicked', async () => {
    const errorMessage = 'Test error message';
    renderWithProviders(
      <GoogleLoginButton 
        handleGoogleLogin={mockHandleGoogleLogin} 
        error={errorMessage}
        onDismissError={mockDismissError} 
      />
    );
    
    fireEvent.click(screen.getByRole('button', { name: /dismiss error/i }));
    await waitFor(() => {
      expect(mockDismissError).toHaveBeenCalledTimes(1);
    });
  });

  it('calls handleGoogleLogin when sign in button is clicked', async () => {
    renderWithProviders(<GoogleLoginButton handleGoogleLogin={mockHandleGoogleLogin} />);
    fireEvent.click(screen.getByRole('button', { name: /sign in with google/i }));
    await waitFor(() => {
      expect(mockHandleGoogleLogin).toHaveBeenCalled();
    });
  });
});

====================================================================================================
FILE: src/components/GoogleLoginButton.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/GoogleLoginButton.tsx
SIZE: 2755 bytes
SHA256: e1ec92efba47822b6e58ffb0f9db5036e732af9a03ac1c1fe6b58c63d7ced84a
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import { FcGoogle } from 'react-icons/fc';
import { useAuth } from '../contexts/AuthContext';

interface GoogleLoginButtonProps {
  handleGoogleLogin?: () => Promise<void>;
  loading?: boolean;
  error?: string;
  onDismissError?: () => void;
}

const GoogleLoginButton: React.FC<GoogleLoginButtonProps> = ({
  handleGoogleLogin,
  loading = false,
  error,
  onDismissError
}): JSX.Element => {
  const { loginWithGoogle } = useAuth();
  const triggerLogin = handleGoogleLogin ?? loginWithGoogle;

  const handleClick = async (): Promise<void> => {
    try {
      await triggerLogin();
    } catch (err) {
      console.error('Google login error:', err);
    }
  };

  return (
    <ButtonContainer>
      {error && (
        <ErrorMessage role="alert">
          <span>{error}</span>
          {onDismissError && (
            <DismissButton 
              onClick={onDismissError}
              aria-label="dismiss error"
            >
              
            </DismissButton>
          )}
        </ErrorMessage>
      )}
      <LoginButton 
        onClick={handleClick}
        disabled={loading}
        aria-label={loading ? 'Signing in...' : 'Sign in with Google'}
      >
        <FcGoogle />
        {loading ? 'Signing in...' : 'Sign in with Google'}
      </LoginButton>
    </ButtonContainer>
  );
};

const ButtonContainer = styled.div`
  display: flex;
  flex-direction: column;
  gap: ${({ theme }) => theme.spacing.md};
  width: 100%;
`;

const LoginButton = styled.button`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({ theme }) => theme.spacing.sm};
  width: 100%;
  padding: ${({ theme }) => theme.spacing.md};
  border: 1px solid ${({ theme }) => theme.palette.divider};
  border-radius: 4px;
  background: white;
  color: ${({ theme }) => theme.palette.text.primary};
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover:not(:disabled) {
    background-color: ${({ theme }) => theme.palette.action?.hover || '#f5f5f5'};
  }

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
`;

const ErrorMessage = styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: ${({ theme }) => theme.spacing.sm};
  background-color: ${({ theme }) => theme.palette.error.light};
  color: ${({ theme }) => theme.palette.error.main};
  border-radius: 4px;
  font-size: 0.875rem;
`;

const DismissButton = styled.button`
  background: none;
  border: none;
  color: inherit;
  cursor: pointer;
  padding: ${({ theme }) => theme.spacing.xs};
  margin-left: ${({ theme }) => theme.spacing.sm};

  &:hover {
    opacity: 0.8;
  }
`;

export default GoogleLoginButton;

====================================================================================================
FILE: src/components/home/Features.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/home/Features.css
SIZE: 1036 bytes
SHA256: 3b41d88614f272d022504aee2fbef0a0dd35a8e0b565b1f94114b670cb8df0d9
====================================================================================================
.features-section {
  padding: 4rem 2rem;
  background-color: #f8f9fa;
}

.features-title {
  text-align: center;
  font-size: 2.5rem;
  margin-bottom: 3rem;
  color: #2d3748;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.feature-card {
  background: white;
  padding: 2rem;
  border-radius: 0.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px);
  background-color: #e6b800; /* P920d */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* P920d */
}

.feature-icon {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

.feature-title {
  font-size: 1.5rem;
  margin-bottom: 1rem;
  color: #2d3748;
}

.feature-description {
  color: #4a5568;
  line-height: 1.6;
}

@media (max-width: 768px) {
  .features-section {
    padding: 2rem 1rem;
  }

  .features-title {
    font-size: 2rem;
  }

  .features-grid {
    grid-template-columns: 1fr;
  }
}

====================================================================================================
FILE: src/components/home/Features.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/home/Features.tsx
SIZE: 1477 bytes
SHA256: 566c713f953f09fd48891671e808b4eaee3c212a150f15752d700ac319f033c5
====================================================================================================
import React from 'react';
import Card from '../common/Card';
import './Features.css';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faBullseye, faLightbulb, faChartLine, faChalkboardTeacher } from '@fortawesome/free-solid-svg-icons';

const Features = () => {
  const features = [
    {
      title: "Personalized Learning",
      description: "Tailored learning paths based on your unique style",
      icon: faBullseye
    },
    {
      title: "Interactive Content",
      description: "Engage with dynamic and interactive learning materials",
      icon: faLightbulb
    },
    {
      title: "Progress Tracking",
      description: "Monitor your growth with detailed analytics",
      icon: faChartLine
    },
    {
      title: "Expert Support",
      description: "Get help from experienced educators",
      icon: faChalkboardTeacher
    }
  ];

  return (
    <section className="features-section">
      <h2 className="features-title">Why Choose Geaux Academy</h2>
      <div className="features-grid">
        {features.map((feature, index) => (
          <Card key={index} className="feature-card" icon={feature.icon}>
            <div className="feature-icon"><FontAwesomeIcon icon={feature.icon} /></div>
            <h3 className="feature-title">{feature.title}</h3>
            <p className="feature-description">{feature.description}</p>
          </Card>
        ))}
      </div>
    </section>
  );
};

export default Features;

====================================================================================================
FILE: src/components/home/Hero.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/home/Hero.css
SIZE: 711 bytes
SHA256: b59fe18e1f8f119bf1b52746cc856e481d09a2e03d68846a8bb061d3d24cbc9f
====================================================================================================
.hero {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 1200px;
  margin: 0 auto;
  padding: 4rem 2rem;
}

.hero-content {
  flex: 1;
  max-width: 600px;
}

.hero-content h1 {
  font-size: 3rem;
  margin-bottom: 1rem;
  color: #333;
}

.hero-content p {
  font-size: 1.25rem;
  color: #666;
  margin-bottom: 2rem;
}

.hero-cta {
  display: flex;
  gap: 1rem;
}

.hero-cta .btn {
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.hero-cta .btn:hover {
  background-color: #e6b800;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.hero-image {
  flex: 1;
  display: flex;
  justify-content: center;
}

.hero-image img {
  max-width: 100%;
  height: auto;
}

====================================================================================================
FILE: src/components/home/Hero.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/home/Hero.tsx
SIZE: 912 bytes
SHA256: e1bb956ed43f0adf1f1cca6efa44eca469642912d957b4ed68ddf8ad74b8043b
====================================================================================================
import { Link } from 'react-router-dom';
import './Hero.css';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faUser } from '@fortawesome/free-solid-svg-icons';

const Hero = () => {
  return (
    <section className="hero">
      <div className="hero-content">
        <h1>Discover Your Learning Style</h1>
        <p>Personalized education tailored to how you learn best</p>
        <div className="hero-cta">
          <Link to="/assessment" className="btn btn-primary">
            <FontAwesomeIcon icon={faUser} /> Take Assessment
          </Link>
          <Link to="/about" className="btn btn-secondary">
            <FontAwesomeIcon icon={faUser} /> Learn More
          </Link>
        </div>
      </div>
      <div className="hero-image">
        <img src="/images/hero-learning.svg" alt="Learning illustration" />
      </div>
    </section>
  );
};

export default Hero;

====================================================================================================
FILE: src/components/home/LearningStyles.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/home/LearningStyles.css
SIZE: 1320 bytes
SHA256: a1dcfb015e05b97f7ba4d1dc9dd523884e6c270c668d703aa568e930d7252f38
====================================================================================================
:root {
  --primary-color: #2C3E50;
  --text-color: #333;
  --background-alt: #f8f9fa;
}

body {
  margin: 0;
  padding: 0;
}

.learning-styles-section {
  padding: 4rem 2rem;
  background-color: var(--light-bg);
}

.learning-styles-section h2 {
  text-align: center;
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 2rem;
}

.styles-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.style-card {
  background: white;
  padding: 2rem;
  border-radius: 8px;
  text-align: center;
  transition: transform 0.3s ease;
}

.style-card:hover {
  transform: translateY(-5px);
  background-color: #e6b800; /* P4a73 */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* P4a73 */
}

.style-icon {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

.style-card h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
  font-size: 1.25rem;
}

.style-card p {
  color: var(--text-color);
  line-height: 1.5;
}

.main-content {
  margin-left: 250px;
  padding: 2rem;
  min-height: 100vh;
}

@media (max-width: 768px) {
  .styles-grid {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }
  
  .learning-styles-section {
    padding: 2rem 1rem;
  }

  .main-content {
    margin-left: 0;
    padding: 1rem;
  }
}

====================================================================================================
FILE: src/components/home/LearningStyles.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/home/LearningStyles.tsx
SIZE: 1405 bytes
SHA256: 8139a0b31939ffa3aa928aae137951e8e6297be3fea26d902fa6db88cafe29ab
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import InfoCard from '../common/InfoCard'; // Fixed path
import { motion } from 'framer-motion';
import Card from '../common/Card';
import './LearningStyles.css';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faEye, faEar, faBook, faRunning } from '@fortawesome/free-solid-svg-icons';

const LearningStyles = () => {
  const styles = [
    {
      title: 'Visual Learning',
      description: 'Learn through seeing and watching demonstrations',
      icon: faEye
    },
    {
      title: 'Auditory Learning',
      description: 'Learn through listening and discussion',
      icon: faEar
    },
    {
      title: 'Reading/Writing',
      description: 'Learn through reading and taking notes',
      icon: faBook
    },
    {
      title: 'Kinesthetic',
      description: 'Learn through doing and practicing',
      icon: faRunning
    }
  ];

  return (
    <section className="learning-styles-section">
      <div className="styles-grid">
        {styles.map((style, index) => (
          <Card key={index} className="style-card" icon={style.icon}>
            <div className="style-icon"><FontAwesomeIcon icon={style.icon} /></div>
            <h3>{style.title}</h3>
            <p>{style.description}</p>
          </Card>
        ))}
      </div>
    </section>
  );
};

export default LearningStyles;

====================================================================================================
FILE: src/components/HomeContainer.js
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/HomeContainer.js
SIZE: 878 bytes
SHA256: 4d862814d888b5507fe051fbf8a44e67ebc06de24091c3d633f19ab4cc0d9566
====================================================================================================
import { Link } from 'react-router-dom';
import styled from 'styled-components';

export const HomeContainer = styled.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;

  @media (max-width: 768px) {
    padding: 0 0.5rem;
    h2 { 
      font-size: 1.5rem; 
    }
  }
`;

export const StyledLink = styled(Link).attrs(({ disabled }) => ({
  role: 'button',
  'aria-disabled': disabled,
}))`
  display: inline-block;
  padding: 1rem 2rem;
  background: var(--primary-color);
  color: white;
  border-radius: 4px;
  font-size: 1.1rem;
  text-decoration: none;
  text-align: center;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: var(--secondary-color);
  }

  &:focus-visible {
    outline: 2px dashed var(--secondary-color);
    outline-offset: 4px;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`;

====================================================================================================
FILE: src/components/Layout.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/Layout.tsx
SIZE: 286 bytes
SHA256: 2709784fb10e8beb1060b544d76df4c1a5254a6bbbb22fdc36d5badb911fa319
====================================================================================================
// File: /src/components/Layout.tsx
// Description: Common layout container that provides consistent page structure with navbar and proper spacing
// Author: GitHub Copilot
// Created: 2024-02-17

import React from 'react';
import Layout from './layout/Layout';

export default Layout;

====================================================================================================
FILE: src/components/layout/Footer.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/layout/Footer.tsx
SIZE: 1337 bytes
SHA256: f4ab0cdbaa70d59d6d01a50b015f6d8321966bbcd7aa600506497627335ffbc2
====================================================================================================
import React from 'react';
import { Link } from 'react-router-dom';
import styles from './layout.module.css';

const Footer = () => {
  return (
    <footer className={styles.footer}>
      <div className={styles['footer-content']}>
        <div className={styles['footer-column']}>
          <h3>About</h3>
          <ul className={styles['footer-links']}>
            <li><Link to="/about">Our Story</Link></li>
            <li><Link to="/features">Features</Link></li>
            <li><Link to="/curriculum">Curriculum</Link></li>
          </ul>
        </div>

        <div className={styles['footer-column']}>
          <h3>Learning</h3>
          <ul className={styles['footer-links']}>
            <li><Link to="/learning-styles">Learning Styles</Link></li>
            <li><Link to="/learning-plan">Learning Plan</Link></li>
            <li><Link to="/login">Assessment</Link></li>
          </ul>
        </div>

        <div className={styles['footer-column']}>
          <h3>Support</h3>
          <ul className={styles['footer-links']}>
            <li><Link to="/contact">Contact Us</Link></li>
            <li><a href="mailto:support@geauxacademy.com">Email Support</a></li>
            <li><Link to="/help">Help Center</Link></li>
          </ul>
        </div>
      </div>
    </footer>
  );
};

export default Footer;

====================================================================================================
FILE: src/components/layout/Header.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/layout/Header.tsx
SIZE: 2958 bytes
SHA256: 989f739f3c9290d71a5520ca9e0428e23541ffaff818a8cb79e20a58fe05fb1a
====================================================================================================
import React, { useState } from 'react';
import { Link, NavLink } from 'react-router-dom';
import { useAuth } from '../../contexts/AuthContext';
import { useThemeMode } from '../../theme/ThemeModeContext';
import styles from './layout.module.css';

const Header: React.FC = () => {
  const { currentUser } = useAuth();
  const { mode, toggleMode } = useThemeMode();
  const [menuOpen, setMenuOpen] = useState(false);

  const handleToggleMenu = () => setMenuOpen(prev => !prev);
  const closeMenu = () => setMenuOpen(false);

  return (
    <header className={styles.header}>
      <div className={styles.navigation}>
        <Link to="/" className={styles.logo} onClick={closeMenu}>
          <span className={styles.logoMark} aria-hidden="true">GA</span>
          <span>Geaux Academy</span>
        </Link>

        <nav className={styles.nav} aria-label="Primary">
          <button
            type="button"
            className={styles.menuToggle}
            onClick={handleToggleMenu}
            aria-expanded={menuOpen}
            aria-controls="primary-navigation"
          >
            <span className={styles.menuToggleText}>{menuOpen ? 'Close' : 'Menu'}</span>
            <span className={styles.menuToggleIcon} aria-hidden="true" />
          </button>
          <ul
            id="primary-navigation"
            className={`${styles['navigation-list']} ${menuOpen ? styles.open : ''}`}
          >
            <li><NavLink to="/" onClick={closeMenu}>Home</NavLink></li>
            <li><NavLink to="/about" onClick={closeMenu}>About</NavLink></li>
            <li><NavLink to="/features" onClick={closeMenu}>Features</NavLink></li>
            <li><NavLink to="/curriculum" onClick={closeMenu}>Curriculum</NavLink></li>
            <li><NavLink to="/learning-styles" onClick={closeMenu}>Learning Styles</NavLink></li>
            <li><NavLink to="/contact" onClick={closeMenu}>Contact</NavLink></li>
          </ul>
        </nav>

        <div className={styles.actions}>
          <button
            type="button"
            className={styles.toggleButton}
            onClick={toggleMode}
            aria-label={`Switch to ${mode === 'light' ? 'dark' : 'light'} mode`}
          >
            <span className={styles.toggleIcon} aria-hidden="true">
              {mode === 'light' ? '' : ''}
            </span>
            <span>{mode === 'light' ? 'Dark' : 'Light'} mode</span>
          </button>
          <Link to="/login" className={styles.primaryButton} onClick={closeMenu}>
            Take Assessment
          </Link>
          {!currentUser ? (
            <Link to="/login" className={styles.secondaryButton} onClick={closeMenu}>
              Login
            </Link>
          ) : (
            <Link to="/dashboard" className={styles.secondaryButton} onClick={closeMenu}>
              Dashboard
            </Link>
          )}
        </div>
      </div>
    </header>
  );
};

export default Header;

====================================================================================================
FILE: src/components/layout/layout.module.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/layout/layout.module.css
SIZE: 4563 bytes
SHA256: c315155c0df7cf7247136757b3d778f4f2b18a3ae65337cca526f3d96b123b8d
====================================================================================================
/* Layout Components */
.header {
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  background: rgba(10, 15, 30, 0.85);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid rgba(148, 163, 184, 0.15);
}

:global([data-theme='light']) .header {
  background: rgba(255, 255, 255, 0.85);
  border-bottom: 1px solid rgba(148, 163, 184, 0.2);
}

.navigation {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  gap: 1rem;
}

.logo {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  text-decoration: none;
  color: inherit;
  font-weight: 700;
  letter-spacing: 0.3px;
}

.logoMark {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, #4654F6, #7A86FF);
  color: #fff;
  font-size: 0.9rem;
  box-shadow: 0 12px 30px rgba(70, 84, 246, 0.35);
}

.nav {
  flex: 1;
  display: flex;
  justify-content: center;
}

.navigation-list {
  display: flex;
  gap: 1.25rem;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: center;
}

.open {
  display: flex;
}

.navigation-list a {
  color: inherit;
  text-decoration: none;
  font-weight: 500;
  padding: 0.5rem 0.75rem;
  border-radius: 999px;
  transition: color 0.2s, background-color 0.2s;
}

.navigation-list a:hover,
.navigation-list a:focus-visible {
  color: #E1B354;
  background: rgba(225, 179, 84, 0.12);
}

.navigation-list a[aria-current='page'] {
  color: #E1B354;
  background: rgba(225, 179, 84, 0.18);
}

.actions {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.toggleButton {
  border: 1px solid rgba(148, 163, 184, 0.25);
  background: rgba(148, 163, 184, 0.1);
  color: inherit;
  padding: 0.5rem 0.75rem;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  font-size: 0.85rem;
  cursor: pointer;
}

.toggleButton:focus-visible {
  outline: 2px solid #E1B354;
  outline-offset: 2px;
}

.toggleIcon {
  font-size: 1rem;
}

.primaryButton,
.secondaryButton {
  text-decoration: none;
  font-weight: 600;
  padding: 0.6rem 1.1rem;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.primaryButton {
  background: linear-gradient(135deg, #E1B354, #F2D28A);
  color: #1F2937;
  box-shadow: 0 16px 40px rgba(225, 179, 84, 0.35);
}

.secondaryButton {
  border: 1px solid rgba(148, 163, 184, 0.3);
  color: inherit;
}

.menuToggle {
  display: none;
}

.menuToggleText {
  font-weight: 600;
}

.menuToggleIcon {
  width: 18px;
  height: 2px;
  background: currentColor;
  position: relative;
}

.menuToggleIcon::before,
.menuToggleIcon::after {
  content: '';
  width: 18px;
  height: 2px;
  background: currentColor;
  position: absolute;
  left: 0;
}

.menuToggleIcon::before {
  top: -6px;
}

.menuToggleIcon::after {
  top: 6px;
}

.footer {
  background: rgba(15, 23, 42, 0.95);
  color: #f8fafc;
  padding: 3rem 0;
  margin-top: auto;
}

:global([data-theme='light']) .footer {
  background: #111827;
}

.footer-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1.5rem;
}

.footer-column h3 {
  margin-bottom: 1rem;
  font-size: 1.1rem;
}

.footer-links {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-links li {
  margin-bottom: 0.75rem;
}

.footer-links a {
  color: inherit;
  text-decoration: none;
  transition: opacity 0.2s;
}

.footer-links a:hover,
.footer-links a:focus-visible {
  opacity: 0.75;
}

@media (max-width: 1024px) {
  .navigation {
    flex-wrap: wrap;
  }

  .actions {
    width: 100%;
    justify-content: flex-end;
  }
}

@media (max-width: 768px) {
  .navigation {
    flex-direction: column;
    align-items: flex-start;
  }

  .nav {
    width: 100%;
  }

  .menuToggle {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: transparent;
    border: 1px solid rgba(148, 163, 184, 0.2);
    color: inherit;
    padding: 0.5rem 0.75rem;
    border-radius: 999px;
    margin-bottom: 0.75rem;
  }

  .navigation-list {
    display: none;
    flex-direction: column;
    width: 100%;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    border-radius: 16px;
    background: rgba(15, 23, 42, 0.8);
  }

  :global([data-theme='light']) .navigation-list {
    background: rgba(255, 255, 255, 0.9);
  }

  .open {
    display: flex;
  }


  .actions {
    width: 100%;
    flex-wrap: wrap;
    justify-content: flex-start;
  }
}

====================================================================================================
FILE: src/components/layout/Layout.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/layout/Layout.tsx
SIZE: 741 bytes
SHA256: f8340c4b9669e2683b4361193f60bfc4a6bd3b341d21351db8e4e58072bb83ed
====================================================================================================
import React from 'react';
import { Outlet } from 'react-router-dom';
import styled from 'styled-components';
import Header from './Header';
import Footer from './Footer';

const Layout: React.FC = () => {
  return (
    <LayoutWrapper>
      <Header />
      <MainContent>
        <Outlet />
      </MainContent>
      <Footer />
    </LayoutWrapper>
  );
};

const LayoutWrapper = styled.div`
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: ${({ theme }) => theme.gradients.hero};
`;

const MainContent = styled.main`
  flex: 1;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 6.5rem 1.5rem 3rem;

  @media (max-width: 768px) {
    padding: 5.5rem 1rem 2.5rem;
  }
`;

export default Layout;

====================================================================================================
FILE: src/components/layout/Navigation.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/layout/Navigation.tsx
SIZE: 604 bytes
SHA256: 6da8843099d915a91cd8094a61522383ff4c5013b1cbb8bcb5b1f282c565265b
====================================================================================================
import React from "react";
import { Link } from "react-router-dom";
import './styles/Navigation.css';

const Navigation = () => {
  return (
    <nav className="flex space-x-6 text-lg font-medium">
      <Link to="/" className="hover:underline">Home</Link>
      <Link to="/about" className="hover:underline">About Us</Link>
      <Link to="/curriculum" className="hover:underline">Curriculum</Link>
      <Link to="/learning-styles" className="hover:underline">Learning Styles</Link>
      <Link to="/contact" className="hover:underline">Contact Us</Link>
    </nav>
  );
};

export default Navigation;

====================================================================================================
FILE: src/components/layout/Sidebar.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/layout/Sidebar.tsx
SIZE: 205 bytes
SHA256: 3aad49248a7751325b720fe6636c2e6f1a51ba770b5954d83216b3ee1330dff2
====================================================================================================

// src/components/SomeComponent.tsx

import React from 'react';

const SomeComponent: React.FC = () => {
  return (
    <div>
      <h1>Hello, World!</h1>
    </div>
  );
};

export default SomeComponent;

====================================================================================================
FILE: src/components/memory/MemoryViewer.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/memory/MemoryViewer.tsx
SIZE: 4763 bytes
SHA256: 54abf65a0b9881d14fdc71f8580da05c9d4f559861220dc743460ce06c95d64e
====================================================================================================
// frontend/src/components/memory/MemoryViewer.tsx
import React, { useState, useEffect } from 'react';
import { useAuth } from '../../contexts/AuthContext';
import { memoryService } from '../../services/memoryService';
import styled from 'styled-components';
import Button from '../common/Button';
import LoadingSpinner from '../common/LoadingSpinner';

interface Memory {
  id: string;
  content: string;
  metadata: {
    type: string;
    interaction_type?: string;
    task_type?: string;
    subject?: string;
    created_at: string;
    [key: string]: any;
  };
}

const MemoryViewer: React.FC = () => {
  const { user } = useAuth();
  const [memories, setMemories] = useState<Memory[]>([]);
  const [selectedMemory, setSelectedMemory] = useState<Memory | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [searchQuery, setSearchQuery] = useState('');
  const [typeFilter, setTypeFilter] = useState<string>('all');
  
  useEffect(() => {
    if (user?.uid) {
      loadMemories();
    }
  }, [user?.uid]);
  
  const loadMemories = async () => {
    if (!user?.uid) return;
    
    setLoading(true);
    setError(null);
    
    try {
      const response = await memoryService.getUserMemories(user.uid);
      setMemories(response);
    } catch (err) {
      setError('Failed to load memories');
      console.error('Error loading memories:', err);
    } finally {
      setLoading(false);
    }
  };
  
  const handleSearch = async () => {
    if (!user?.uid || !searchQuery) return;
    
    setLoading(true);
    setError(null);
    
    try {
      const response = await memoryService.searchMemories(user.uid, searchQuery, typeFilter);
      setMemories(response);
    } catch (err) {
      setError('Search failed');
      console.error('Error searching memories:', err);
    } finally {
      setLoading(false);
    }
  };
  
  const filteredMemories = memories.filter(memory => {
    if (typeFilter === 'all') return true;
    return memory.metadata.type === typeFilter;
  });
  
  return (
    <ViewerContainer>
      <h2>Learning Memory</h2>
      
      <SearchBar>
        <input
          type="text"
          value={searchQuery}
          onChange={(e) => setSearchQuery(e.target.value)}
          placeholder="Search your learning history..."
        />
        <select 
          value={typeFilter}
          onChange={(e) => setTypeFilter(e.target.value)}
        >
          <option value="all">All Types</option>
          <option value="curriculum">Curriculum</option>
          <option value="assessment">Assessments</option>
          <option value="task_result">Task Results</option>
        </select>
        <Button onClick={handleSearch} variant="secondary">Search</Button>
      </SearchBar>
      
      {error && <ErrorMessage>{error}</ErrorMessage>}
      
      {loading ? (
        <LoadingContainer>
          <LoadingSpinner />
        </LoadingContainer>
      ) : (
        <MemoryGrid>
          {filteredMemories.length > 0 ? (
            filteredMemories.map(memory => (
              <MemoryCard 
                key={memory.id}
                onClick={() => setSelectedMemory(memory)}
                isSelected={selectedMemory?.id === memory.id}
              >
                <MemoryType>{memory.metadata.type}</MemoryType>
                <MemoryPreview>
                  {memory.content.substring(0, 100)}...
                </MemoryPreview>
                <MemoryDate>
                  {new Date(memory.metadata.created_at).toLocaleDateString()}
                </MemoryDate>
              </MemoryCard>
            ))
          ) : (
            <EmptyState>No memories found</EmptyState>
          )}
        </MemoryGrid>
      )}
      
      {selectedMemory && (
        <MemoryDetail>
          <MemoryHeader>
            <h3>{selectedMemory.metadata.type}</h3>
            <Button 
              variant="text"
              onClick={() => setSelectedMemory(null)}
            >
              Close
            </Button>
          </MemoryHeader>
          
          <MemoryContent>
            {selectedMemory.content}
          </MemoryContent>
          
          <MemoryMetadata>
            <h4>Metadata</h4>
            <ul>
              {Object.entries(selectedMemory.metadata)
                .filter(([key]) => key !== 'type')
                .map(([key, value]) => (
                  <li key={key}>
                    <strong>{key}:</strong> {String(value)}
                  </li>
                ))
              }
            </ul>
          </MemoryMetadata>
        </MemoryDetail>
      )}
    </ViewerContainer>
  );
};

// Styled components omitted for brevity...

export default MemoryViewer;

====================================================================================================
FILE: src/components/Message.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/Message.tsx
SIZE: 846 bytes
SHA256: b441b5eb7957daa77040b027bafb90b5dc88d0daf1deeb38d3c1b656ac6a1967
====================================================================================================
import React from 'react';
import styled from 'styled-components';

interface MessageProps {
  sender: 'user' | 'bot';
  children: React.ReactNode;
}

const Message: React.FC<MessageProps> = ({ sender, children }) => {
  return (
    <MessageContainer $sender={sender}>
      {children}
    </MessageContainer>
  );
};

const MessageContainer = styled.div<{ $sender: 'user' | 'bot' }>`
  margin: var(--spacing-xs) 0;
  padding: var(--spacing-sm);
  max-width: 80%;
  background: ${({ $sender }) => ($sender === 'user' ? "var(--accent-color)" : "var(--white)")};
  color: ${({ $sender }) => ($sender === 'user' ? "var(--white)" : "var(--text-color)")};
  border-radius: var(--border-radius);
  align-self: ${({ $sender }) => ($sender === 'user' ? "flex-end" : "flex-start")};
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
`;

export default Message;

====================================================================================================
FILE: src/components/Mission.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/Mission.tsx
SIZE: 600 bytes
SHA256: a9cc9fbe11bdcee08ea52fb01917a4460154e8fd1746c9e5543eb00032362fb6
====================================================================================================
import styled from 'styled-components';
import React from 'react';

const MissionContainer = styled.div`
  max-width: 800px;
  margin: auto;
  padding: 2rem;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  text-align: center;
`;

const MissionText = styled.p`
  font-size: 1.2rem;
  line-height: 1.6;
  color: #444;
`;

interface MissionProps {
  text: string;
}

export const Mission: React.FC<MissionProps> = ({ text }) => {
  return (
    <MissionContainer>
      <MissionText>{text}</MissionText>
    </MissionContainer>
  );
};

export default Mission;

====================================================================================================
FILE: src/components/molecules/FormGroup.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/molecules/FormGroup.tsx
SIZE: 1581 bytes
SHA256: e766f1c781f05ca37ff80a3857605acc39795fbe794eda97e039c2b71568fe7a
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import Button from '../common/Button';
import Input from '../common/Input';

interface FormGroupProps {
  label: string;
  helperText?: string;
  errorMessage?: string;
  inputs: Array<{
    placeholder: string;
    value: string;
    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
    error?: boolean;
  }>;
  onSubmit?: () => void;
  submitButtonText?: string;
}

const FormGroup: React.FC<FormGroupProps> = ({
  label,
  helperText,
  errorMessage,
  inputs,
  onSubmit,
  submitButtonText
}) => {
  return (
    <FormGroupContainer>
      <Label>{label}</Label>
      {helperText && <HelperText>{helperText}</HelperText>}
      {inputs.map((input, index) => (
        <Input
          key={index}
          placeholder={input.placeholder}
          value={input.value}
          onChange={input.onChange}
          error={input.error}
        />
      ))}
      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}
      {onSubmit && (
        <Button onClick={onSubmit}>
          {submitButtonText || 'Submit'}
        </Button>
      )}
    </FormGroupContainer>
  );
};

const FormGroupContainer = styled.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-bottom: 1.5rem;
`;

const Label = styled.label`
  font-weight: 500;
  color: var(--text-color);
`;

const HelperText = styled.span`
  font-size: 0.875rem;
  color: var(--text-color-light);
`;

const ErrorMessage = styled.span`
  font-size: 0.875rem;
  color: var(--error-color);
`;

export default FormGroup;

====================================================================================================
FILE: src/components/molecules/NavItem.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/molecules/NavItem.tsx
SIZE: 840 bytes
SHA256: f5e240e82ab056904bc8798c0fab1c8032c30c21c04bebe6b294d3cf636b060e
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import { Link } from 'react-router-dom';
import Button from '../common/Button';

interface NavItemProps {
  link: string;
  href?: string;
  label: string;
  icon?: React.ReactNode;
  onClick?: () => void;
}

const NavItem: React.FC<NavItemProps> = ({ link, href, label, icon, onClick }) => {
  return (
    <NavItemContainer>
      <Button to={link} onClick={onClick}>
        {icon && <IconWrapper>{icon}</IconWrapper>}
        {label}
      </Button>
    </NavItemContainer>
  );
};

const NavItemContainer = styled.div`
  display: flex;
  align-items: center;
  padding: 0.5rem 1rem;
  transition: background-color 0.2s;

  &:hover {
    background-color: rgba(0, 0, 0, 0.1);
  }
`;

const IconWrapper = styled.span`
  margin-right: 0.5rem;
`;

export default NavItem;

====================================================================================================
FILE: src/components/Navbar.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/Navbar.tsx
SIZE: 3184 bytes
SHA256: d122d74d068e60c9e788e2cb87aa564608a789155c0ef8a20442667d73e6e8a8
====================================================================================================
import React from 'react';
import { Link, useNavigate } from 'react-router-dom';
import styled from 'styled-components';
import { useAuth } from '../contexts/AuthContext';

const Navbar: React.FC = () => {
  const { currentUser, logout } = useAuth();
  const navigate = useNavigate();

  const handleLogout = async () => {
    try {
      await logout();
      navigate('/login');
    } catch (error) {
      console.error('Failed to log out:', error);
    }
  };

  return (
    <NavbarContainer>
      <NavContent>
        <LogoLink to="/">
          <Logo>Geaux Academy</Logo>
        </LogoLink>
        
        <NavLinks>
          <StyledLink to="/about">About Us</StyledLink>
          <StyledLink to="/curriculum">Curriculum</StyledLink>
          <StyledLink to="/learning-styles">Learning Styles</StyledLink>
          <StyledLink to="/contact">Contact</StyledLink>
          
          {currentUser ? (
            <>
              <StyledLink to="/dashboard">Dashboard</StyledLink>
              <ActionButton onClick={handleLogout}>Log Out</ActionButton>
            </>
          ) : (
            <>
              <ActionButton as={Link} to="/login" $primary>Login</ActionButton>
              <ActionButton as={Link} to="/signup">Sign Up</ActionButton>
            </>
          )}
        </NavLinks>
      </NavContent>
    </NavbarContainer>
  );
};

const NavbarContainer = styled.nav`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--navbar-height, 64px);
  background: var(--navbar-bg, white);
  box-shadow: var(--shadow-sm);
  z-index: 1000;
`;

const NavContent = styled.div`
  max-width: var(--max-width, 1200px);
  margin: 0 auto;
  padding: 0 var(--spacing-md, 1rem);
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
`;

const LogoLink = styled(Link)`
  text-decoration: none;
  color: inherit;
`;

const Logo = styled.h1`
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--text-primary);
  margin: 0;
`;

const NavLinks = styled.div`
  display: flex;
  align-items: center;
  gap: var(--spacing-md, 1rem);

  @media (max-width: 768px) {
    gap: var(--spacing-sm, 0.5rem);
  }
`;

const StyledLink = styled(Link)`
  color: var(--text-primary);
  text-decoration: none;
  font-weight: 500;
  transition: color var(--transition-speed, 0.3s) var(--transition-timing, ease);

  &:hover {
    color: var(--link-color);
  }
`;

interface ActionButtonProps {
  $primary?: boolean;
}

const ActionButton = styled.button<ActionButtonProps>`
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  font-weight: 500;
  text-decoration: none;
  transition: all var(--transition-speed, 0.3s) var(--transition-timing, ease);
  border: none;
  cursor: pointer;
  
  background-color: ${props => props.$primary ? 'var(--btn-primary-bg, #D4AF37)' : 'transparent'};
  color: ${props => props.$primary ? 'var(--btn-primary-text, #FFFFFF)' : 'var(--text-primary)'};
  border: 1px solid ${props => props.$primary ? 'var(--btn-primary-bg, #D4AF37)' : 'currentColor'};

  &:hover {
    background-color: ${props => props.$primary ? 'var(--btn-hover-bg, #C19B26)' : 'var(--light-bg)'};
  }
`;

export default Navbar;

====================================================================================================
FILE: src/components/organisms/AssessmentFlow.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/organisms/AssessmentFlow.tsx
SIZE: 3440 bytes
SHA256: 098167252f40ba4c4f2883408939fe9110f535e9f3413eb6a1a95f5c663bee02
====================================================================================================
import React, { useState } from 'react';
import styled from 'styled-components';
import FormGroup from '../molecules/FormGroup';

interface AssessmentFlowProps {
  currentStep: number;
  progress: number;
  nextStep: () => void;
  prevStep: () => void;
  onSubmit: (values: { [key: string]: string }) => void;
  formFields: Array<{
    name: string;
    type: string;
    label: string;
    placeholder: string;
    value: string;
    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
    error?: boolean;
  }>;
  initialValues: { [key: string]: string };
  submitButtonText: string;
  errorMessage?: string;
  isLoading?: boolean;
}

const AssessmentFlow: React.FC<AssessmentFlowProps> = ({
  currentStep,
  progress,
  nextStep,
  prevStep,
  onSubmit,
  formFields,
  initialValues,
  submitButtonText,
  errorMessage,
  isLoading
}) => {
  const [values, setValues] = useState(initialValues);

  const handleChange = (name: string) => (e: React.ChangeEvent<HTMLInputElement>) => {
    setValues({ ...values, [name]: e.target.value });
  };

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    onSubmit(values);
  };

  return (
    <FlowContainer>
      <ProgressBar progress={progress} />
      <FormContainer onSubmit={handleSubmit}>
        {formFields.map((field, index) => (
          <FormGroup
            key={index}
            label={field.label}
            inputs={[{
              placeholder: field.placeholder,
              value: values[field.name],
              onChange: handleChange(field.name),
              error: field.error
            }]}
          />
        ))}
        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}
        <ButtonContainer>
          <Button type="button" onClick={prevStep} disabled={currentStep === 0}>
            Previous
          </Button>
          <Button type="submit" disabled={isLoading}>
            {isLoading ? 'Loading...' : submitButtonText}
          </Button>
          <Button type="button" onClick={nextStep} disabled={currentStep === formFields.length - 1}>
            Next
          </Button>
        </ButtonContainer>
      </FormContainer>
    </FlowContainer>
  );
};

const FlowContainer = styled.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
`;

const ProgressBar = styled.div<{ progress: number }>`
  height: 8px;
  background: #ddd;
  border-radius: 4px;
  overflow: hidden;
  position: relative;

  &::after {
    content: '';
    display: block;
    height: 100%;
    background: #4a90e2;
    width: ${({ progress }) => progress}%;
    transition: width 0.3s;
  }
`;

const FormContainer = styled.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;

const ErrorMessage = styled.div`
  color: #dc3545;
  background-color: #f8d7da;
  border: 1px solid #f5c6cb;
  border-radius: 4px;
  padding: 10px;
  margin: 10px 0;
  font-size: 0.9rem;
`;

const ButtonContainer = styled.div`
  display: flex;
  justify-content: space-between;
  gap: 1rem;
`;

const Button = styled.button`
  padding: 0.75rem;
  background-color: #4a90e2;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }

  &:hover:not(:disabled) {
    background-color: #357abd;
  }
`;

export default AssessmentFlow;

====================================================================================================
FILE: src/components/organisms/AuthForm.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/organisms/AuthForm.tsx
SIZE: 1902 bytes
SHA256: aef17acc84b6c29dfba9b7a79f81dc2572b2d35e800e8503546a38f7116f44dd
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import FormGroup from '../molecules/FormGroup';
import Button from '../common/Button';

interface AuthFormProps {
  onSubmit: (values: { [key: string]: string }) => void;
  formFields: Array<{
    name: string;
    type: string;
    label: string;
    placeholder: string;
    value: string;
    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
    error?: boolean;
  }>;
  initialValues: { [key: string]: string };
  submitButtonText: string;
  errorMessage?: string;
  isLoading?: boolean;
}

const AuthForm: React.FC<AuthFormProps> = ({
  onSubmit,
  formFields,
  initialValues,
  submitButtonText,
  errorMessage,
  isLoading
}) => {
  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    const values = formFields.reduce((acc, field) => {
      acc[field.name] = field.value;
      return acc;
    }, {} as { [key: string]: string });
    onSubmit(values);
  };

  return (
    <FormContainer onSubmit={handleSubmit}>
      {formFields.map((field, index) => (
        <FormGroup
          key={index}
          label={field.label}
          inputs={[{
            placeholder: field.placeholder,
            value: field.value,
            onChange: field.onChange,
            error: field.error
          }]}
        />
      ))}
      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}
      <Button type="submit" disabled={isLoading}>
        {isLoading ? 'Loading...' : submitButtonText}
      </Button>
    </FormContainer>
  );
};

const FormContainer = styled.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
  max-width: 400px;
`;

const ErrorMessage = styled.div`
  color: #dc3545;
  background-color: #f8d7da;
  border: 1px solid #f5c6cb;
  border-radius: 4px;
  padding: 10px;
  margin: 10px 0;
  font-size: 0.9rem;
`;

export default AuthForm;

====================================================================================================
FILE: src/components/PrivateRoute.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/PrivateRoute.tsx
SIZE: 1667 bytes
SHA256: 8829c8deb440de3458772d2d5703c4914ecfea4873ddcc5f764da20681488bc3
====================================================================================================
// File: /src/components/PrivateRoute.tsx
// Description: A route component that protects routes from unauthorized access
// Author: GitHub Copilot

import React from 'react';
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../contexts/AuthContext';
import LoadingSpinner from './common/LoadingSpinner';
import styled from 'styled-components';

const LoadingContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: rgba(255, 255, 255, 0.8);
`;

interface PrivateRouteProps {
  children: React.ReactNode;
}

const PrivateRoute: React.FC<PrivateRouteProps> = ({ children }): JSX.Element => {
  const { currentUser, isAuthReady } = useAuth();
  const location = useLocation();

  // Show loading spinner while auth state is being determined
  if (!isAuthReady) {
    if (import.meta.env.DEV) {
      console.debug('[PrivateRoute] auth ready:', isAuthReady, 'authed:', !!currentUser);
    }
    return (
      <LoadingContainer>
        <LoadingSpinner />
        <span>Loading</span>
      </LoadingContainer>
    );
  }

  // If not authenticated, redirect to login with current location
  if (!currentUser) {
    const from = `${location.pathname}${location.search || ''}${location.hash || ''}`;
    return (
      <Navigate 
        to="/login" 
        state={{ 
          from
        }} 
        replace 
      />
    );
  }

  // If authenticated, render the protected route
  if (import.meta.env.DEV) {
    console.debug('[PrivateRoute] auth ready:', isAuthReady, 'authed:', !!currentUser);
  }

  return <>{children}</>;
};

export default PrivateRoute;

====================================================================================================
FILE: src/components/shared/ErrorBoundary.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/shared/ErrorBoundary.tsx
SIZE: 3565 bytes
SHA256: 02f82f67f3c4fa4b754afa046d0d30aca99b93314bc252456c8751a0203bcb8d
====================================================================================================
import React, { Component, ErrorInfo } from 'react';
import styled from 'styled-components';

interface Props {
  children: React.ReactNode;
}

interface State {
  hasError: boolean;
  error: Error | null;
  isOffline: boolean;
}

class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { 
      hasError: false, 
      error: null,
      isOffline: !navigator.onLine
    };
  }

  componentDidMount() {
    window.addEventListener('online', this.handleOnlineStatus);
    window.addEventListener('offline', this.handleOnlineStatus);
  }

  componentWillUnmount() {
    window.removeEventListener('online', this.handleOnlineStatus);
    window.removeEventListener('offline', this.handleOnlineStatus);
  }

  handleOnlineStatus = () => {
    this.setState({ isOffline: !navigator.onLine });
    if (navigator.onLine && this.state.error?.message.includes('offline')) {
      // Clear offline-related errors when back online
      this.setState({ hasError: false, error: null });
    }
  };

  static getDerivedStateFromError(error: Error): State {
    return {
      hasError: true,
      error,
      isOffline: !navigator.onLine
    };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Error caught by boundary:', error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      // Check if error is Firebase offline error
      const isFirebaseOffline = this.state.error?.message.includes('offline') || 
                               this.state.error?.message.includes('network');

      return (
        <ErrorContainer>
          <ErrorCard>
            <ErrorTitle>
              {this.state.isOffline ? ' You\'re Offline' : ' Something went wrong'}
            </ErrorTitle>
            
            <ErrorMessage>
              {this.state.isOffline || isFirebaseOffline ? (
                <>
                  <p>It looks like you're offline or having connection issues.</p>
                  <p>Some features may be limited until you're back online.</p>
                  <p>Your data will sync automatically when you reconnect.</p>
                </>
              ) : (
                <>
                  <p>An unexpected error occurred.</p>
                  <p>{this.state.error?.message}</p>
                </>
              )}
            </ErrorMessage>

            <RetryButton 
              onClick={() => {
                this.setState({ hasError: false, error: null });
                window.location.reload();
              }}
            >
              Try Again
            </RetryButton>
          </ErrorCard>
        </ErrorContainer>
      );
    }

    return this.props.children;
  }
}

const ErrorContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
  background: rgba(0, 0, 0, 0.05);
`;

const ErrorCard = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  max-width: 400px;
  width: 100%;
  text-align: center;
`;

const ErrorTitle = styled.h2`
  color: #e53e3e;
  margin-bottom: 1rem;
`;

const ErrorMessage = styled.div`
  color: #4a5568;
  margin-bottom: 1.5rem;
  
  p {
    margin: 0.5rem 0;
  }
`;

const RetryButton = styled.button`
  background: #4299e1;
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182ce;
  }
`;

export default ErrorBoundary;

====================================================================================================
FILE: src/components/shared/styles/Button.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/shared/styles/Button.css
SIZE: 1742 bytes
SHA256: de40323ed1956974f767c6769c538b6ba3e2cd828e4f415961c8f2aae98ebe86
====================================================================================================
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 500;
  transition: all 0.2s;
  cursor: pointer;
}

.btn-primary {
  background-color: var(--primary-color);
  color: white;
}

.btn-secondary {
  border: 1px solid var(--primary-color);
  color: var(--primary-color);
  background: transparent;
}

/* Authentication Components Styling */
.auth-container {
  max-width: 400px;
  margin: 2rem auto;
}

.auth-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.auth-title {
  text-align: center;
  margin-bottom: var(--spacing-lg);
  color: var(--primary-color);
}

.auth-divider {
  display: flex;
  align-items: center;
  margin: var(--spacing-md) 0;
  text-align: center;
}

.auth-divider::before,
.auth-divider::after {
  content: '';
  flex: 1;
  border-bottom: 1px solid #ddd;
}

.auth-divider span {
  padding: 0 var(--spacing-sm);
  color: #666;
}

.google-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  width: 100%;
  padding: var(--spacing-sm);
  background: var(--white);
  border: 1px solid #ddd;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: background-color 0.2s;
}

.google-button:hover {
  background-color: #f5f5f5;
}

.auth-error {
  color: var(--secondary-color);
  text-align: center;
  margin-bottom: var(--spacing-md);
}

.auth-success {
  color: #4CAF50;
  text-align: center;
  margin-bottom: var(--spacing-md);
}

/* Form validation styling */
.auth-input.error {
  border-color: var(--secondary-color);
}

.error-message {
  color: var(--secondary-color);
  font-size: 0.875rem;
  margin-top: var(--spacing-xs);
}

====================================================================================================
FILE: src/components/student/StudentCard.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/student/StudentCard.tsx
SIZE: 2416 bytes
SHA256: abb895600c4f9ef518690eb6b74070bd13f99f899f5a719ff43b0881403ec370
====================================================================================================
import React, { useState, useEffect } from 'react';
import styled from 'styled-components';
import { getStudentProfile } from '../../services/profileService';
import Card from '../common/Card';

interface Student {
  name: string;
  grade: string;
  hasTakenAssessment: boolean;
}

interface StudentCardProps {
  studentId: string;
  onClick?: () => void;
}

const StudentCard: React.FC<StudentCardProps> = ({ studentId, onClick }) => {
  const [student, setStudent] = useState<Student | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    const fetchStudent = async () => {
      try {
        const studentData = await getStudentProfile(studentId);
        setStudent(studentData);
      } catch (err) {
        console.error('Error fetching student:', err);
        setError('Could not load student data');
      } finally {
        setLoading(false);
      }
    };

    fetchStudent();
  }, [studentId]);

  if (loading) return <StyledCard onClick={onClick}>Loading student data...</StyledCard>;
  if (error) return <StyledCard onClick={onClick}>Error: {error}</StyledCard>;
  if (!student) return null;

  return (
    <StyledCard onClick={onClick}>
      <StudentName>{student.name}</StudentName>
      <StudentInfo>Grade: {student.grade}</StudentInfo>
      <AssessmentStatus $isComplete={student.hasTakenAssessment}>
        {student.hasTakenAssessment ? 'Assessment Complete' : 'Assessment Needed'}
      </AssessmentStatus>
    </StyledCard>
  );
};

const StyledCard = styled(Card)`
  margin-bottom: ${({ theme }) => theme.spacing.md};
  transition: transform 0.2s ease;

  &:hover {
    transform: translateY(-2px);
  }
`;

const StudentName = styled.h3`
  color: ${({ theme }) => theme.palette.text.primary};
  margin-bottom: ${({ theme }) => theme.spacing.sm};
`;

const StudentInfo = styled.div`
  color: ${({ theme }) => theme.palette.text.secondary};
  margin-bottom: ${({ theme }) => theme.spacing.sm};
`;

const AssessmentStatus = styled.div<{ $isComplete: boolean }>`
  padding: ${({ theme }) => theme.spacing.xs} ${({ theme }) => theme.spacing.sm};
  border-radius: 4px;
  background-color: ${({ theme, $isComplete }) => 
    $isComplete ? theme.palette.success?.main || '#2ECC71' : theme.palette.warning?.main || '#F1C40F'};
  color: white;
  font-size: 0.875rem;
  text-align: center;
`;

export default StudentCard;

====================================================================================================
FILE: src/components/styles/CoreValues.styles.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/styles/CoreValues.styles.ts
SIZE: 289 bytes
SHA256: a2b8591116e35f6a357d0b5ba5f80dc823caae136ced3a9f554674f408fb1e22
====================================================================================================
import styled from 'styled-components';

export const CoreValuesContainer = styled.div`
  display: flex;
  justify-content: center;
  gap: 2rem;
  text-align: center;
  padding: 1.5rem 0;
`;

export const CoreValue = styled.div`
  font-size: 1.2rem;
  font-weight: bold;
  color: #333;
`;

====================================================================================================
FILE: src/components/templates/DashboardLayout.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/templates/DashboardLayout.tsx
SIZE: 2148 bytes
SHA256: ca321ff8831b2525eb93e8ab877c07e3ce745229b6d8003249ce20e590905eea
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import AuthForm from '../organisms/AuthForm';
import AssessmentFlow from '../organisms/AssessmentFlow';

interface DashboardLayoutProps {
  userData: {
    name: string;
    email: string;
    profilePicture: string;
  };
  routeContext: {
    currentRoute: string;
  };
  children: React.ReactNode;
  onLogout: () => void;
  sidebar?: boolean;
}

const DashboardLayout: React.FC<DashboardLayoutProps> = ({
  userData,
  routeContext,
  children,
  onLogout,
  sidebar = true,
}) => {
  return (
    <Container>
      <Header>
        <Profile>
          <ProfilePicture src={userData.profilePicture} alt={`${userData.name}'s profile`} />
          <ProfileInfo>
            <Name>{userData.name}</Name>
            <Email>{userData.email}</Email>
          </ProfileInfo>
        </Profile>
        <LogoutButton onClick={onLogout}>Logout</LogoutButton>
      </Header>
      <Main>
        {sidebar && <Sidebar>Sidebar content here</Sidebar>}
        <Content>{children}</Content>
      </Main>
    </Container>
  );
};

const Container = styled.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
`;

const Header = styled.header`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background-color: #4a90e2;
  color: white;
`;

const Profile = styled.div`
  display: flex;
  align-items: center;
`;

const ProfilePicture = styled.img`
  width: 50px;
  height: 50px;
  border-radius: 50%;
  margin-right: 1rem;
`;

const ProfileInfo = styled.div`
  display: flex;
  flex-direction: column;
`;

const Name = styled.span`
  font-weight: bold;
`;

const Email = styled.span`
  font-size: 0.875rem;
`;

const LogoutButton = styled.button`
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  font-size: 1rem;
  &:hover {
    text-decoration: underline;
  }
`;

const Main = styled.main`
  display: flex;
  flex: 1;
`;

const Sidebar = styled.aside`
  width: 250px;
  background-color: #f4f4f4;
  padding: 1rem;
`;

const Content = styled.div`
  flex: 1;
  padding: 1rem;
`;

export default DashboardLayout;

====================================================================================================
FILE: src/components/UserProfileCard.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/UserProfileCard.tsx
SIZE: 610 bytes
SHA256: f44da7713ed45d2055053abdc9ba23d2dd5926d8d4c73069255bddeecf8c27e5
====================================================================================================
import React from 'react';
import Card from '../common/Card';

interface UserProfileCardProps {
  username: string;
  role: string;
  avatar?: string;
}

const UserProfileCard: React.FC<UserProfileCardProps> = ({ username, role, avatar }) => {
  return (
    <Card
      title="User Profile"
      icon={avatar}
      className="user-profile-card"
    >
      <div className="user-info">
        <label>Username:</label>
        <p>{username}</p>
      </div>
      <div className="user-info">
        <label>Role:</label>
        <p>{role}</p>
      </div>
    </Card>
  );
};

export default UserProfileCard;

====================================================================================================
FILE: src/components/VARKAssessment/ChatContainer.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/VARKAssessment/ChatContainer.tsx
SIZE: 2315 bytes
SHA256: 61bbc35d9671c62c6e6f8af7b30fec727f90e733e93a567b74372be7c38cb082
====================================================================================================
import React, { useState, useEffect, useRef } from 'react';
import { motion } from 'framer-motion';
import ChatMessage from './ChatMessage';
import ChatInput from './ChatInput';
import TypingIndicator from './TypingIndicator';
import VARKResults from './VARKResults';
import { useVARKAssessment } from '../../hooks/useVARKAssessment';

interface Message {
  text: string;
  sender: 'user' | 'ai';
  timestamp: string;
}

interface VARKResults {
  visual: number;
  auditory: number;
  readWrite: number;
  kinesthetic: number;
  primaryStyle: string;
}

interface Assessment {
  inProgress: boolean;
  currentQuestionIndex: number;
  answers: Array<{
    question: string;
    answer: string;
  }>;
  results: VARKResults | null;
  isComplete?: boolean;
}

const ChatContainer: React.FC = () => {
  const {
    messages,
    sendMessage,
    isLoading,
    assessment,
    isComplete
  } = useVARKAssessment();
  
  const messagesEndRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [messages]);

  return (
    <motion.div 
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.5 }}
      className="max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden"
    >
      <div className="p-6 bg-gradient-to-r from-blue-600 to-blue-800 text-white">
        <h2 className="text-2xl font-bold">Learning Style Assessment</h2>
        <p className="mt-2 opacity-90">Let's discover how you learn best through a friendly conversation.</p>
      </div>
      
      <div className="h-[500px] overflow-y-auto p-6 bg-gray-50">
        {messages.map((msg: Message, index: number) => (
          <ChatMessage 
            key={index} 
            message={msg.text} 
            sender={msg.sender} 
            timestamp={msg.timestamp}
          />
        ))}
        
        {isLoading && <TypingIndicator />}
        <div ref={messagesEndRef} />
      </div>
      
      {isComplete ? (
        <VARKResults results={assessment.results!} />
      ) : (
        <div className="p-4 border-t">
          <ChatInput 
            onSendMessage={sendMessage}
            disabled={isLoading} 
          />
        </div>
      )}
    </motion.div>
  );
};

export default ChatContainer;

====================================================================================================
FILE: src/components/VARKAssessment/ChatInput.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/VARKAssessment/ChatInput.tsx
SIZE: 1614 bytes
SHA256: b79e8a554fcb4700449206372c4813b1ff069e9cbc61d1946451042771d59cd1
====================================================================================================
import React, { useState, FormEvent } from 'react';
import { motion } from 'framer-motion';

interface ChatInputProps {
  onSendMessage: (message: string) => void;
  disabled?: boolean;
}

const ChatInput: React.FC<ChatInputProps> = ({ onSendMessage, disabled }) => {
  const [message, setMessage] = useState('');

  const handleSubmit = (e: FormEvent) => {
    e.preventDefault();
    if (message.trim() && !disabled) {
      onSendMessage(message);
      setMessage('');
    }
  };

  return (
    <form onSubmit={handleSubmit} className="flex gap-2">
      <input
        type="text"
        value={message}
        onChange={(e) => setMessage(e.target.value)}
        placeholder="Type your response here..."
        disabled={disabled}
        className="flex-1 px-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all disabled:opacity-60"
      />
      <motion.button
        type="submit"
        disabled={disabled || !message.trim()}
        whileHover={{ scale: 1.05 }}
        whileTap={{ scale: 0.95 }}
        className="p-2 rounded-full bg-blue-600 text-white disabled:opacity-60 disabled:cursor-not-allowed"
      >
        <svg 
          viewBox="0 0 24 24" 
          fill="none" 
          stroke="currentColor" 
          strokeWidth="2" 
          strokeLinecap="round" 
          strokeLinejoin="round"
          className="w-5 h-5"
        >
          <path d="M22 2L11 13" />
          <path d="M22 2L15 22L11 13L2 9L22 2Z" />
        </svg>
      </motion.button>
    </form>
  );
};

export default ChatInput;

====================================================================================================
FILE: src/components/VARKAssessment/ChatMessage.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/VARKAssessment/ChatMessage.tsx
SIZE: 1128 bytes
SHA256: f9ecbeeda5ae49635911b9e56c5a3778e919e031476082aeb1ee10b5bd9e76a5
====================================================================================================
import React from 'react';
import { motion } from 'framer-motion';

interface ChatMessageProps {
  message: string;
  sender: 'user' | 'ai';
  timestamp: string;
}

const ChatMessage: React.FC<ChatMessageProps> = ({ message, sender, timestamp }) => {
  const isUser = sender === 'user';
  const formattedTime = new Date(timestamp).toLocaleTimeString([], {
    hour: '2-digit',
    minute: '2-digit'
  });
  
  return (
    <motion.div
      initial={{ opacity: 0, y: 10 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.3 }}
      className={`flex ${isUser ? 'justify-end' : 'justify-start'} mb-4`}
    >
      <div className={`max-w-[80%] rounded-2xl px-4 py-3 ${
        isUser 
          ? 'bg-blue-600 text-white ml-auto rounded-br-sm' 
          : 'bg-white shadow-md rounded-bl-sm'
      }`}>
        <p className="text-sm sm:text-base whitespace-pre-wrap">{message}</p>
        <div className={`text-xs mt-1 ${isUser ? 'text-blue-100' : 'text-gray-500'}`}>
          {formattedTime}  {isUser ? 'You' : 'AI Tutor'}
        </div>
      </div>
    </motion.div>
  );
};

export default ChatMessage;

====================================================================================================
FILE: src/components/VARKAssessment/TypingIndicator.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/VARKAssessment/TypingIndicator.tsx
SIZE: 605 bytes
SHA256: 08cfc976af8cf90556cba956fcf0234f9730f5255353f824e1fe3dbc125a0c9a
====================================================================================================
import React from 'react';
import { motion } from 'framer-motion';

const TypingIndicator: React.FC = () => {
  return (
    <div className="flex items-center gap-2 p-3 max-w-[100px] bg-white rounded-xl shadow-md mb-4">
      {[0, 1, 2].map((i) => (
        <motion.div
          key={i}
          initial={{ y: 0 }}
          animate={{ y: [-2, 2, -2] }}
          transition={{
            duration: 0.6,
            repeat: Infinity,
            delay: i * 0.2,
          }}
          className="w-2 h-2 bg-blue-600 rounded-full"
        />
      ))}
    </div>
  );
};

export default TypingIndicator;

====================================================================================================
FILE: src/components/VARKAssessment/VARKResults.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/components/VARKAssessment/VARKResults.tsx
SIZE: 3813 bytes
SHA256: 0f1e91d94c7502dde77546da9b7cb1f3de8e7e521af157f8bfa960046d3b533a
====================================================================================================
import React from 'react';
import { motion } from 'framer-motion';
import { Radar } from 'react-chartjs-2';
import {
  Chart as ChartJS,
  RadialLinearScale,
  PointElement,
  LineElement,
  Filler,
  Tooltip,
  Legend
} from 'chart.js';

// Register ChartJS components
ChartJS.register(
  RadialLinearScale,
  PointElement,
  LineElement,
  Filler,
  Tooltip,
  Legend
);

interface VARKResultsProps {
  results: {
    visual: number;
    auditory: number;
    readWrite: number;
    kinesthetic: number;
    primaryStyle: string;
  };
}

const VARKResults: React.FC<VARKResultsProps> = ({ results }) => {
  const { visual, auditory, readWrite, kinesthetic, primaryStyle } = results;
  
  const data = {
    labels: ['Visual', 'Auditory', 'Read/Write', 'Kinesthetic'],
    datasets: [
      {
        label: 'Your Learning Style',
        data: [visual, auditory, readWrite, kinesthetic],
        backgroundColor: 'rgba(59, 130, 246, 0.2)',
        borderColor: 'rgb(59, 130, 246)',
        borderWidth: 2,
        pointBackgroundColor: 'rgb(59, 130, 246)',
        pointHoverRadius: 6,
      },
    ],
  };

  const options = {
    scales: {
      r: {
        beginAtZero: true,
        max: 100,
        ticks: {
          stepSize: 20,
        },
      },
    },
    plugins: {
      legend: {
        display: false,
      },
    },
  };

  const getLearningTips = (style: string) => {
    const tips = {
      Visual: [
        'Use diagrams, charts, and mind maps',
        'Watch educational videos and demonstrations',
        'Highlight text in different colors',
        'Create visual summaries of concepts',
      ],
      Auditory: [
        'Record and replay lectures',
        'Participate in group discussions',
        'Use text-to-speech for reading materials',
        'Explain concepts out loud to yourself',
      ],
      'Read/Write': [
        'Take detailed notes during lectures',
        'Rewrite information in your own words',
        'Create lists and summaries',
        'Practice writing explanations',
      ],
      Kinesthetic: [
        'Use hands-on learning activities',
        'Take breaks to move around while studying',
        'Create physical models or diagrams',
        'Use role-playing to understand concepts',
      ],
    }[style] || [];

    return tips;
  };

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      transition={{ duration: 0.5 }}
      className="p-6 bg-white"
    >
      <h2 className="text-2xl font-bold text-center mb-6">Your VARK Learning Style Results</h2>
      
      <div className="grid md:grid-cols-2 gap-8">
        <div className="aspect-square">
          <Radar data={data} options={options} />
        </div>
        
        <div>
          <div className="mb-6">
            <h3 className="text-xl font-semibold mb-2">
              Your Primary Learning Style:
            </h3>
            <div className="text-2xl font-bold text-blue-600">
              {primaryStyle}
            </div>
          </div>

          <div>
            <h3 className="text-xl font-semibold mb-4">
              Recommended Learning Strategies:
            </h3>
            <ul className="space-y-3">
              {getLearningTips(primaryStyle).map((tip, index) => (
                <motion.li
                  key={index}
                  initial={{ opacity: 0, x: -20 }}
                  animate={{ opacity: 1, x: 0 }}
                  transition={{ delay: index * 0.1 }}
                  className="flex items-center gap-2"
                >
                  <span className="text-blue-600"></span>
                  {tip}
                </motion.li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </motion.div>
  );
};

export default VARKResults;

====================================================================================================
FILE: src/config/dbConfig.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/config/dbConfig.ts
SIZE: 1137 bytes
SHA256: 5730a3d7371f0ad3b7a560b32c9d55f31787ff61c7ba197465c15396b14035f1
====================================================================================================
// File: /src/config/dbConfig.ts
// Description: MongoDB configuration and connection setup
// Created: 2025-02-25

import mongoose from 'mongoose';
import dotenv from 'dotenv';

// Load environment variables
dotenv.config();

// MongoDB connection URI (use environment variable)
const MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/geaux-academy';

// Connection options
const options = {
  useNewUrlParser: true,
  useUnifiedTopology: true,
  autoIndex: true,
};

// Connect to MongoDB
export const connectToDatabase = async (): Promise<void> => {
  try {
    await mongoose.connect(MONGODB_URI);
    console.log('Connected to MongoDB successfully');
  } catch (error) {
    console.error('MongoDB connection error:', error);
    process.exit(1);
  }
};

// Close MongoDB connection
export const closeDatabaseConnection = async (): Promise<void> => {
  try {
    await mongoose.connection.close();
    console.log('MongoDB connection closed');
  } catch (error) {
    console.error('Error closing MongoDB connection:', error);
  }
};

// Export the mongoose instance for use in other files
export default mongoose;

====================================================================================================
FILE: src/config/env.js
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/config/env.js
SIZE: 618 bytes
SHA256: 55ca21ffbdc5e94e1335a8d1b477c611f30d5ce40b646f32418248d2a3b313ee
====================================================================================================
const config = {
  AZURE_ENDPOINT: process.env.REACT_APP_AZURE_ENDPOINT || 'https://ai-geauxacademy8942ai219453410909.openai.azure.com/',
  AZURE_COGNITIVE_ENDPOINT: process.env.REACT_APP_AZURE_COGNITIVE_ENDPOINT || 'https://ai-geauxacademy8942ai219453410909.cognitiveservices.azure.com/',
  AZURE_DEPLOYMENT_ENDPOINT: process.env.REACT_APP_AZURE_DEPLOYMENT_ENDPOINT || 'https://ai-geauxacademy8942ai219453410909.services.ai.azure.com/models',
  MODEL_NAME: process.env.REACT_APP_MODEL_NAME || 'gpt-4',
  AZURE_API_KEY: process.env.REACT_APP_AZURE_API_KEY || process.env.VITE_OPENAI_API_KEY
};

export default config;

====================================================================================================
FILE: src/config/firebase.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/config/firebase.ts
SIZE: 3475 bytes
SHA256: 487b98acaeee5a20e27142f2523bb92b4569cb824926dab95c15c11398fd6045
====================================================================================================
// File: /src/config/firebase.ts
// Description: Centralized Firebase initialization & singleton exports (app, auth, firestore)
// Author: GitHub Copilot
// Created: 2025-09-07

import { initializeApp, getApps, getApp } from 'firebase/app';
import {
  browserLocalPersistence,
  browserSessionPersistence,
  getAuth,
  inMemoryPersistence,
  setPersistence
} from 'firebase/auth';
import { getFirestore } from 'firebase/firestore';

// Validate required Firebase config (warn only in dev so UI still mounts)
function validateFirebaseConfig() {
  const requiredVars = [
    'VITE_FIREBASE_API_KEY',
    'VITE_FIREBASE_AUTH_DOMAIN',
    'VITE_FIREBASE_PROJECT_ID',
    'VITE_FIREBASE_STORAGE_BUCKET',
    'VITE_FIREBASE_MESSAGING_SENDER_ID',
    'VITE_FIREBASE_APP_ID'
  ];
  const missing = requiredVars.filter(v => !import.meta.env[v as keyof ImportMetaEnv]);
  if (missing.length) {
    // eslint-disable-next-line no-console
    console.warn('[firebase] Missing env vars (continuing for dev):', missing.join(', '));
  }
}

validateFirebaseConfig();

export const firebaseConfig = {
  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,
  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
  appId: import.meta.env.VITE_FIREBASE_APP_ID,
  measurementId: import.meta.env.VITE_FIREBASE_MEASUREMENT_ID,
  databaseURL: import.meta.env.VITE_FIREBASE_DATABASE_URL,
  vapidKey: import.meta.env.VITE_FIREBASE_VAPID_KEY
};

// Ensure single app instance
export const app = getApps().length ? getApp() : initializeApp(firebaseConfig);
export const auth = getAuth(app);
const withTimeout = <T,>(promise: Promise<T>, ms: number, label: string): Promise<T> =>
  Promise.race([
    promise,
    new Promise<T>((_, reject) => {
      setTimeout(() => reject(new Error(`${label} timeout`)), ms);
    })
  ]);

const DEV_PERSISTENCE_TIMEOUT_MS = 5000;

export const authInit = (async () => {
  if (!import.meta.env.DEV) {
    try {
      await setPersistence(auth, browserLocalPersistence);
    } catch {
      // ignore in production
    }
    return;
  }

  console.debug('[firebase] setPersistence start');
  try {
    await withTimeout(
      setPersistence(auth, browserLocalPersistence),
      DEV_PERSISTENCE_TIMEOUT_MS,
      'local persistence'
    );
    console.debug('[firebase] persistence=local');
    return;
  } catch (error) {
    console.warn('[firebase] local persistence failed:', error);
  }

  try {
    await withTimeout(
      setPersistence(auth, browserSessionPersistence),
      DEV_PERSISTENCE_TIMEOUT_MS,
      'session persistence'
    );
    console.debug('[firebase] persistence=session');
    return;
  } catch (error) {
    console.warn('[firebase] session persistence failed:', error);
  }

  try {
    await withTimeout(
      setPersistence(auth, inMemoryPersistence),
      DEV_PERSISTENCE_TIMEOUT_MS,
      'memory persistence'
    );
    console.debug('[firebase] persistence=memory');
  } catch (error) {
    console.warn('[firebase] persistence disabled (continuing):', error);
  }
})();
export const firestore = getFirestore(app);

if (import.meta.env.DEV) {
  console.debug('[firebase] app name', app.name);
  console.debug('[firebase] auth instance', auth.app.name);
}

// Default export kept for backward compatibility (legacy imports)
export default app;

====================================================================================================
FILE: src/contexts/AuthContext.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/contexts/AuthContext.tsx
SIZE: 6839 bytes
SHA256: a307b3fdb0d5b976b7587bce2407fb71ad5e932b814c8233c754458035952788
====================================================================================================
import React, { createContext, useContext, useEffect, useRef, useState } from 'react';
import {
  createUserWithEmailAndPassword,
  getRedirectResult,
  onAuthStateChanged,
  signInWithEmailAndPassword,
  User,
  UserCredential
} from 'firebase/auth';
import { auth, authInit } from '../config/firebase';
import { firebaseService } from '../services/firebaseService';
import type { AuthContextType } from '../types/auth';

export type AuthContextProps = AuthContextType;

export const AuthContext = createContext<AuthContextProps>({
  currentUser: null,
  user: null,
  loading: true,
  isLoading: true,
  isAuthReady: false,
  error: null,
  login: async () => {
    throw new Error('AuthProvider not initialized');
  },
  loginWithGoogle: async () => {
    throw new Error('AuthProvider not initialized');
  },
  signup: async () => {
    throw new Error('AuthProvider not initialized');
  },
  logout: async () => {
    throw new Error('AuthProvider not initialized');
  },
  clearError: () => undefined
});

export const useAuth = () => useContext(AuthContext);

export const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [currentUser, setCurrentUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [isAuthReady, setIsAuthReady] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const redirectHandledRef = useRef(false);
  const isDev = import.meta.env.DEV;

  useEffect(() => {
    if (isDev) {
      console.debug('[AuthProvider] mount');
    }
    return () => {
      if (isDev) {
        console.debug('[AuthProvider] unmount');
      }
    };
  }, [isDev]);

  useEffect(() => {
    let isMounted = true;
    let unsubscribe = () => undefined;
    let hasResolved = false;
    let authReadyTimeout: ReturnType<typeof setTimeout> | null = null;

    const initAuth = () => {
      if (isDev) {
        console.debug('[AuthProvider] starting authInit');
      }
      // Do not block auth readiness on persistence; Firebase can still report auth state.
      void authInit.catch((authError) => {
        console.warn('[AuthProvider] authInit failed (continuing):', authError);
      });

      if (!isMounted) return;
      if (isDev) {
        console.debug('[AuthProvider] subscribing onAuthStateChanged');
      }
      unsubscribe = onAuthStateChanged(
        auth,
        (user) => {
          console.log('[AuthProvider] onAuthStateChanged fired uid=', user?.uid ?? null);
          if (isDev) {
            console.debug('[AuthProvider] onAuthStateChanged', {
              userUid: user?.uid ?? null,
              currentUserUid: auth.currentUser?.uid ?? null,
              persistenceManager: (auth as { persistenceManager?: unknown }).persistenceManager
            });
          }
          setCurrentUser(user);
          setError(null);
          if (!hasResolved) {
            hasResolved = true;
            setLoading(false);
            setIsAuthReady(true);
            if (authReadyTimeout) {
              clearTimeout(authReadyTimeout);
              authReadyTimeout = null;
            }
          }
        },
        (authError) => {
          console.error('Auth state change error:', authError);
          setError(authError instanceof Error ? authError.message : 'Failed to determine auth state');
          if (!hasResolved) {
            hasResolved = true;
            setLoading(false);
            setIsAuthReady(true);
            if (authReadyTimeout) {
              clearTimeout(authReadyTimeout);
              authReadyTimeout = null;
            }
          }
        }
      );

      authReadyTimeout = setTimeout(() => {
        if (!hasResolved) {
          console.error('[AuthProvider] auth readiness timeout: forcing ready state');
          hasResolved = true;
          setIsAuthReady(true);
          setLoading(false);
        }
      }, 2000);
    };

    initAuth();

    return () => {
      isMounted = false;
      unsubscribe();
      if (authReadyTimeout) {
        clearTimeout(authReadyTimeout);
      }
    };
  }, [isDev]);

  useEffect(() => {
    if (redirectHandledRef.current) {
      return;
    }
    redirectHandledRef.current = true;

    const resolveRedirect = async () => {
      try {
        const result = await getRedirectResult(auth);
        console.log('getRedirectResult result=', result);
      } catch (redirectError) {
        console.error('getRedirectResult error:', redirectError);
        setError(
          redirectError instanceof Error
            ? redirectError.message
            : 'Failed to complete redirect sign-in'
        );
      }
    };

    resolveRedirect();
  }, []);

  const clearError = () => setError(null);

  const isPopupCancelled = (authError: unknown): boolean => {
    const firebaseError = authError as { code?: string };
    return firebaseError.code === 'auth/popup-closed-by-user';
  };

  const runWithAuthState = async <T,>(
    action: () => Promise<T>,
    fallbackMessage: string
  ): Promise<T> => {
    setLoading(true);
    setError(null);
    try {
      return await action();
    } catch (authError) {
      if (isPopupCancelled(authError)) {
        return null as T;
      }
      const message =
        authError instanceof Error ? authError.message : fallbackMessage;
      setError(message);
      throw authError instanceof Error ? authError : new Error(message);
    } finally {
      setLoading(false);
    }
  };

  const login = (email: string, password: string): Promise<UserCredential> =>
    runWithAuthState(async () => {
      const credential = await signInWithEmailAndPassword(auth, email, password);
      setCurrentUser(credential.user);
      return credential;
    }, 'Failed to log in');

  const signup = (email: string, password: string): Promise<UserCredential> =>
    runWithAuthState(async () => {
      const credential = await createUserWithEmailAndPassword(auth, email, password);
      setCurrentUser(credential.user);
      return credential;
    }, 'Failed to sign up');

  const loginWithGoogle = (): Promise<User | null> =>
    runWithAuthState(async () => {
      const user = await firebaseService.signInWithGoogle();
      if (user) {
        setCurrentUser(user);
      }
      return user;
    }, 'Failed to sign in with Google');

  const logout = (): Promise<void> =>
    runWithAuthState(async () => {
      await firebaseService.signOut();
    }, 'Failed to log out');

  return (
    <AuthContext.Provider
      value={{
        currentUser,
        user: currentUser,
        loading,
        isLoading: loading,
        isAuthReady,
        error,
        login,
        loginWithGoogle,
        signup,
        logout,
        clearError
      }}
    >
      {children}
    </AuthContext.Provider>
  );
};

export default AuthProvider;

====================================================================================================
FILE: src/contexts/ProfileContext.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/contexts/ProfileContext.tsx
SIZE: 1584 bytes
SHA256: f8fe663cc24c36ab127f9b1abbe0d33aa8f563b79e14ffadad74292de54a3257
====================================================================================================
import React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';
import { mongoService } from '../services/mongoService';
import { useAuth } from './AuthContext';

interface Profile {
  id?: string;
  name?: string;
  email?: string;
  role?: string;
  learningStyle?: string;
  grade?: string;
}

interface ProfileContextType {
  profile: Profile | null;
  updateProfile: (newProfile: Profile) => void;
}

const ProfileContext = createContext<ProfileContextType | undefined>(undefined);

export const useProfile = (): ProfileContextType => {
  const context = useContext(ProfileContext);
  if (!context) {
    throw new Error('useProfile must be used within a ProfileProvider');
  }
  return context;
};

interface ProfileProviderProps {
  children: ReactNode;
}

export const ProfileProvider: React.FC<ProfileProviderProps> = ({ children }) => {
  const { currentUser } = useAuth();
  const [profile, setProfile] = useState<Profile | null>(null);

  useEffect(() => {
    const fetchProfile = async () => {
      if (currentUser) {
        const userProfile = await mongoService.getUserProfile(currentUser.uid);
        setProfile(userProfile);
      }
    };

    fetchProfile();
  }, [currentUser]);

  const updateProfile = async (newProfile: Profile) => {
    if (currentUser) {
      const updatedProfile = await mongoService.updateUserProfile(currentUser.uid, newProfile);
      setProfile(updatedProfile);
    }
  };

  return (
    <ProfileContext.Provider value={{ profile, updateProfile }}>
      {children}
    </ProfileContext.Provider>
  );
};

====================================================================================================
FILE: src/env.d.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/env.d.ts
SIZE: 717 bytes
SHA256: 7a5e495f7bc226951f8ba74a569550c876a55c1ee9cf5128ebdce63b53a4fe87
====================================================================================================
/// <reference types="vite/client" />

interface ImportMetaEnv {
  readonly VITE_FIREBASE_API_KEY: string;
  readonly VITE_FIREBASE_AUTH_DOMAIN: string;
  readonly VITE_FIREBASE_DATABASE_URL: string;
  readonly VITE_FIREBASE_PROJECT_ID: string;
  readonly VITE_FIREBASE_STORAGE_BUCKET: string;
  readonly VITE_FIREBASE_MESSAGING_SENDER_ID: string;
  readonly VITE_FIREBASE_APP_ID: string;
  readonly VITE_FIREBASE_MEASUREMENT_ID: string;
  readonly VITE_MAX_AUTH_RETRIES: string;
  readonly VITE_USE_SECURE_COOKIES: string;
  readonly VITE_AUTH_PERSISTENCE: string;
  readonly VITE_AUTH_POPUP_FALLBACK: string;
  readonly VITE_SERVICE_WORKER_TIMEOUT: string;
}

interface ImportMeta {
  readonly env: ImportMetaEnv;
}

====================================================================================================
FILE: src/firebase/auth-service-worker.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/firebase/auth-service-worker.ts
SIZE: 5378 bytes
SHA256: eb7b2c238d222576665b08f113f529aa9be93b7b97f30a84a61db20f44113f1d
====================================================================================================
import { enableIndexedDbPersistence, type FirestoreSettings } from 'firebase/firestore';
import { firestore } from './config';

interface ServiceWorkerError extends Error {
  name: string;
  code?: string;
}

interface AuthServiceWorkerMessage {
  type: string;
  status?: number;
  ok?: boolean;
  fallbackToRedirect?: boolean;
  error?: string;
  secure?: boolean;
}

interface ServiceWorkerRegistrationResult {
  success: boolean;
  isSecure: boolean;
  supportsServiceWorker: boolean;
  error?: string;
}

const SW_TIMEOUT = Number(import.meta.env.VITE_SERVICE_WORKER_TIMEOUT) || 10000;
const MAX_RETRIES = Number(import.meta.env.VITE_MAX_AUTH_RETRIES) || 3;

const isSecureContext = (): boolean => {
  return window.isSecureContext && (
    window.location.protocol === 'https:' || 
    window.location.hostname === 'localhost' ||
    window.location.hostname === '127.0.0.1'
  );
};

let serviceWorkerRegistration: ServiceWorkerRegistration | null = null;
let retryCount = 0;

const registerWithRetry = async (): Promise<ServiceWorkerRegistration> => {
  try {
    const registration = await navigator.serviceWorker.register('/firebase-messaging-sw.js', {
      scope: '/__/auth',
      type: 'module',
      updateViaCache: 'none'
    });
    return registration;
  } catch (error) {
    if (retryCount < MAX_RETRIES) {
      retryCount++;
      await new Promise(resolve => setTimeout(resolve, 1000));
      return registerWithRetry();
    }
    throw error;
  }
};

export const registerAuthServiceWorker = async (): Promise<ServiceWorkerRegistrationResult> => {
  if (!('serviceWorker' in navigator)) {
    return {
      success: false,
      isSecure: false,
      supportsServiceWorker: false,
      error: 'Service workers are not supported in this browser'
    };
  }

  if (!isSecureContext()) {
    return {
      success: false,
      isSecure: false,
      supportsServiceWorker: true,
      error: 'Secure context required for authentication'
    };
  }

  try {
    const registrations = await navigator.serviceWorker.getRegistrations();
    await Promise.all(registrations.map(registration => registration.unregister()));

    serviceWorkerRegistration = await registerWithRetry();

    const activationPromise = new Promise<void>((resolve, reject) => {
      const timeout = setTimeout(() => {
        reject(new Error('Service worker activation timeout'));
      }, SW_TIMEOUT);

      if (serviceWorkerRegistration?.active) {
        clearTimeout(timeout);
        resolve();
        return;
      }

      serviceWorkerRegistration?.addEventListener('activate', () => {
        clearTimeout(timeout);
        resolve();
      });
    });

    await activationPromise;

    return {
      success: true,
      isSecure: isSecureContext(),
      supportsServiceWorker: true
    };

  } catch (error) {
    console.error('Service worker registration failed:', error);
    return {
      success: false,
      isSecure: isSecureContext(),
      supportsServiceWorker: true,
      error: error instanceof Error ? error.message : 'Service worker registration failed'
    };
  }
};

export const initAuthServiceWorker = async (): Promise<boolean> => {
  const result = await registerAuthServiceWorker();
  
  window.dispatchEvent(new CustomEvent('firebase-auth-worker-status', { 
    detail: result 
  }));

  if (!result.success) {
    console.warn('Auth service worker initialization failed:', result.error);
    return false;
  }

  // Initialize Firestore persistence after successful service worker registration
  try {
    const settings: FirestoreSettings = {
      cacheSizeBytes: 50000000, // 50 MB
    };
    
    await enableIndexedDbPersistence(db);
    
    return true;
  } catch (error) {
    console.error('Failed to enable persistence:', error);
    return false;
  }
};

function handleServiceWorkerMessage(event: MessageEvent<AuthServiceWorkerMessage>) {
  const { type, status, ok, fallbackToRedirect, error, secure } = event.data;

  const dispatch = (eventName: string, detail: any) => {
    window.dispatchEvent(new CustomEvent(eventName, { detail }));
  };

  switch (type) {
    case 'FIREBASE_SERVICE_WORKER_READY':
      console.debug('Firebase auth service worker ready');
      dispatch('firebase-auth-worker-ready', { secure });
      break;
      
    case 'FIREBASE_AUTH_POPUP_READY':
      console.debug('Firebase auth popup ready');
      dispatch('firebase-auth-popup-ready', { secure });
      break;
      
    case 'FIREBASE_AUTH_POPUP_ERROR':
      if (fallbackToRedirect && import.meta.env.VITE_AUTH_POPUP_FALLBACK === 'true') {
        console.warn('Popup authentication failed, falling back to redirect method');
      }
      dispatch('firebase-auth-error', { error, fallbackToRedirect });
      break;
      
    case 'AUTH_RESPONSE':
      if (!ok) {
        console.error('Authentication response error:', status);
        dispatch('firebase-auth-error', { status, error });
      } else {
        dispatch('firebase-auth-success', { status });
      }
      break;
      
    case 'SECURE_CONTEXT_CHECK':
      if (!secure) {
        console.warn('Authentication requires a secure context (HTTPS)');
        dispatch('firebase-auth-security', { secure: false });
      }
      break;
  }
}

navigator.serviceWorker?.addEventListener('message', handleServiceWorkerMessage);

export default initAuthServiceWorker;

====================================================================================================
FILE: src/firebase/auth-service.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/firebase/auth-service.ts
SIZE: 3225 bytes
SHA256: eafa99c2a8b5fdf1b17d0927548704f6080f63a284b0f58bc0b751ada06778b0
====================================================================================================
import { GoogleAuthProvider, signInWithPopup, signOut as firebaseSignOut, Auth, User } from "firebase/auth";
import { auth } from './config';

export class AuthService {
  private provider: GoogleAuthProvider;
  private initialized: boolean = false;
  private popupOpen: boolean = false;
  private _auth: Auth;

  constructor() {
    this.provider = new GoogleAuthProvider();
    this.provider.setCustomParameters({
      prompt: 'select_account',
      scope: 'email profile'
    });
    this._auth = auth;
  }

  get auth(): Auth {
    return this._auth;
  }

  private async ensureInitialized() {
    if (!this.initialized) {
      await new Promise<void>((resolve) => {
        const unsubscribe = this._auth.onAuthStateChanged(() => {
          unsubscribe();
          this.initialized = true;
          resolve();
        });
      });
    }
  }

  private async refreshUserToken(user: User): Promise<string> {
    try {
      const token = await user.getIdToken(true);
      return token;
    } catch (error: any) {
      console.error('Token refresh error:', error);
      throw new Error(error.message || 'Failed to refresh authentication token');
    }
  }

  async signInWithGoogle() {
    try {
      if (this.popupOpen) {
        throw new Error('Authentication popup is already open');
      }

      await this.ensureInitialized();
      this.popupOpen = true;

      const result = await signInWithPopup(this._auth, this.provider);
      const token = await this.refreshUserToken(result.user);
      
      // Store token in a secure way
      if (window.isSecureContext) {
        sessionStorage.setItem('authToken', token);
      }
      
      return result;
    } catch (error: any) {
      console.error('Google sign-in error:', error);
      if (error.code === 'auth/popup-closed-by-user') {
        throw new Error('Sign-in cancelled by user');
      } else if (error.code === 'auth/popup-blocked') {
        throw new Error('Sign-in popup was blocked. Please allow popups for this site');
      }
      throw new Error(error.message || 'Failed to sign in with Google');
    } finally {
      this.popupOpen = false;
    }
  }

  async signOut() {
    try {
      await this.ensureInitialized();
      if (window.isSecureContext) {
        sessionStorage.removeItem('authToken');
      }
      await firebaseSignOut(this._auth);
    } catch (error: any) {
      console.error('Sign out error:', error);
      throw new Error(error.message || 'Failed to sign out');
    }
  }

  async refreshToken(): Promise<string | null> {
    try {
      await this.ensureInitialized();
      const currentUser = this._auth.currentUser;
      
      if (!currentUser) {
        return null;
      }

      const token = await this.refreshUserToken(currentUser);
      
      if (window.isSecureContext) {
        sessionStorage.setItem('authToken', token);
      }
      
      return token;
    } catch (error: any) {
      console.error('Token refresh error:', error);
      throw new Error(error.message || 'Failed to refresh authentication token');
    }
  }

  getCurrentToken(): string | null {
    if (!window.isSecureContext) {
      return null;
    }
    return sessionStorage.getItem('authToken');
  }
}

====================================================================================================
FILE: src/firebase/firebase-messaging-sw.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/firebase/firebase-messaging-sw.ts
SIZE: 2245 bytes
SHA256: 3b41a516ab3f36c6e7c0c4b33e4bdbbe3414308f66e51db5b3327ac7d93c1b95
====================================================================================================
// File: /src/firebase/firebase-messaging-sw.ts
// Description: Firebase service worker configuration for handling background messages and notifications
// Author: GitHub Copilot
// Created: 2024-02-17

/// <reference lib="webworker" />

import { initializeApp } from 'firebase/app';
import { getMessaging, onBackgroundMessage, MessagePayload } from 'firebase/messaging/sw';
import { firebaseConfig } from '../config/firebase';

declare const self: ServiceWorkerGlobalScope;

// Initialize Firebase in the service worker
const app = initializeApp(firebaseConfig);
const messaging = getMessaging(app);

// Handle background messages
onBackgroundMessage(messaging, (payload: MessagePayload) => {
  console.log('[Firebase Messaging SW] Received background message:', payload);

  // Customize notification here
  const notificationTitle = payload.notification?.title || 'New Message';
  const notificationOptions: NotificationOptions = {
    body: payload.notification?.body,
    icon: '/images/logo.svg',
    badge: '/images/logo.svg',
    tag: payload.collapseKey || 'default',
    data: payload.data,
    requireInteraction: true,
    silent: false
  };

  return self.registration.showNotification(notificationTitle, notificationOptions);
});

// Handle notification click
self.addEventListener('notificationclick', (event) => {
  event.notification.close();
  
  // Add custom click handling here
  const clickAction = event.notification.data?.clickAction || '/';
  
  event.waitUntil(
    self.clients.matchAll({ type: 'window', includeUncontrolled: true })
      .then((windowClients) => {
        // If a window client is already open, focus it
        for (const client of windowClients) {
          if (client.url === clickAction && 'focus' in client) {
            return client.focus();
          }
        }
        // Otherwise open a new window
        if (self.clients.openWindow) {
          return self.clients.openWindow(clickAction);
        }
      })
  );
});

// Handle service worker activation
self.addEventListener('activate', (event) => {
  event.waitUntil(
    Promise.all([
      // Take control of all pages immediately
      self.clients.claim(),
      // Optional: Clean up old caches here if needed
    ])
  );
});

====================================================================================================
FILE: src/firebase/messaging-utils.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/firebase/messaging-utils.ts
SIZE: 1816 bytes
SHA256: 1797bd0ea481f16b348bfe9e7bc3009e2345b997c8e4819dc0c1cbc026f7b90a
====================================================================================================
// File: /src/firebase/messaging-utils.ts
// Description: Firebase messaging utilities with proper TypeScript support and error handling
// Author: GitHub Copilot
// Created: 2024-02-17

import { getToken, getMessaging } from 'firebase/messaging';
import { app } from './config';

const VAPID_KEY = 'YOUR_VAPID_KEY_HERE'; // TODO: Replace with actual VAPID key

export interface ServiceWorkerRegistrationResult {
  success: boolean;
  token?: string;
  error?: string;
}

export async function registerMessagingWorker(): Promise<ServiceWorkerRegistrationResult> {
  if (!window.isSecureContext) {
    return {
      success: false,
      error: 'Service Worker registration requires a secure context (HTTPS or localhost)'
    };
  }

  if (!('serviceWorker' in navigator)) {
    return {
      success: false,
      error: 'Service Worker is not supported in this browser'
    };
  }

  try {
    const registration = await navigator.serviceWorker.register('/firebase-messaging-sw.js', {
      scope: '/',
      type: 'module'
    });

    const messaging = getMessaging(app);
    const token = await getToken(messaging, {
      vapidKey: VAPID_KEY,
      serviceWorkerRegistration: registration
    });

    if (!token) {
      return {
        success: false,
        error: 'Failed to get messaging token'
      };
    }

    return {
      success: true,
      token
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Failed to register service worker'
    };
  }
}

export async function unregisterMessagingWorker(): Promise<void> {
  if ('serviceWorker' in navigator) {
    const registrations = await navigator.serviceWorker.getRegistrations();
    for (const registration of registrations) {
      await registration.unregister();
    }
  }
}

====================================================================================================
FILE: src/hooks/__tests__/useTaskWebSocket.test.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/hooks/__tests__/useTaskWebSocket.test.ts
SIZE: 2881 bytes
SHA256: 6f2333b91b18b98780c64c2ade4ce15cb0c91bc8582942085397062c5b1c046d
====================================================================================================
import { renderHook } from '@testing-library/react-hooks';
import { useTaskWebSocket } from '../useTaskWebSocket';
import websocketService from '../../services/websocketService';
import type { TaskStatus } from '../../types/task';

// Mock the websocketService module
jest.mock('../../services/websocketService', () => ({
  __esModule: true,
  default: {
    subscribe: jest.fn(),
    connect: jest.fn().mockResolvedValue(undefined),
    subscribeToTask: jest.fn(),
    hasActiveSubscriptions: jest.fn(),
    disconnect: jest.fn()
  }
}));

describe('useTaskWebSocket', () => {
  const mockWebsocketService = websocketService as jest.Mocked<typeof websocketService>;

  beforeEach(() => {
    jest.clearAllMocks();
  });

  it('should cleanup subscriptions on unmount', async () => {
    const mockUnsubscribe = jest.fn();
    mockWebsocketService.subscribe.mockReturnValue(mockUnsubscribe);
    mockWebsocketService.hasActiveSubscriptions.mockReturnValue(false);

    const { unmount } = renderHook(() => useTaskWebSocket('test-task-id'));

    // Trigger unmount
    unmount();

    // Should call unsubscribe for each event type
    expect(mockUnsubscribe).toHaveBeenCalledTimes(5);

    // Should check for active subscriptions
    expect(mockWebsocketService.hasActiveSubscriptions).toHaveBeenCalled();

    // Should disconnect if no active subscriptions
    expect(mockWebsocketService.disconnect).toHaveBeenCalled();
  });

  it('should not disconnect if there are other active subscriptions', () => {
    const mockUnsubscribe = jest.fn();
    mockWebsocketService.subscribe.mockReturnValue(mockUnsubscribe);
    mockWebsocketService.hasActiveSubscriptions.mockReturnValue(true);

    const { unmount } = renderHook(() => useTaskWebSocket('test-task-id'));

    unmount();

    expect(mockWebsocketService.disconnect).not.toHaveBeenCalled();
  });

  it('should reset state when taskId changes', () => {
    const mockUnsubscribe = jest.fn();
    mockWebsocketService.subscribe.mockReturnValue(mockUnsubscribe);

    const { result, rerender } = renderHook(
      (props: { taskId: string | null }) => useTaskWebSocket(props.taskId),
      { initialProps: { taskId: 'task-1' } }
    );

    // Get the task update callback that was registered
    const [[, taskUpdateCallback]] = (mockWebsocketService.subscribe as jest.Mock).mock.calls
      .filter(([eventName]: [string]) => eventName === 'task_update');

    // Simulate receiving a task update
    const mockStatus: TaskStatus = {
      status: 'in_progress',
      task_id: 'task-1'
    };
    taskUpdateCallback(mockStatus);

    expect(result.current.status).toEqual(mockStatus);

    // Change taskId
    rerender({ taskId: 'task-2' });

    // State should be reset
    expect(result.current.status).toBeNull();
    expect(result.current.result).toBeNull();
    expect(result.current.error).toBeNull();
  });
});

====================================================================================================
FILE: src/hooks/useAgentTask.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/hooks/useAgentTask.ts
SIZE: 1598 bytes
SHA256: df7c07969bbdd3d91fc95e6f659968a5b29df3b4f40f3cfa9fed46b82bad8391
====================================================================================================
// frontend/src/hooks/useAgentTask.ts
import { useState, useCallback } from 'react';
import { agentService } from '../services/agentService';
import { TaskRequest, TaskStatus, TaskResult } from '../types/task';

export const useAgentTask = () => {
  const [taskId, setTaskId] = useState<string | null>(null);
  const [status, setStatus] = useState<TaskStatus | null>(null);
  const [result, setResult] = useState<TaskResult | null>(null);
  const [loading, setLoading] = useState<boolean>(false);
  const [error, setError] = useState<Error | null>(null);
  
  const startTask = useCallback(async (taskRequest: TaskRequest) => {
    setLoading(true);
    setError(null);
    
    try {
      const newTaskId = await agentService.createTask(taskRequest);
      setTaskId(newTaskId);
      
      // Start polling for task status
      agentService.pollTaskStatus(
        newTaskId,
        (newStatus) => setStatus(newStatus),
        2000,  // Poll every 2 seconds
        30     // Max 30 attempts (60 seconds total)
      )
      .then((taskResult) => {
        setResult(taskResult);
        setLoading(false);
      })
      .catch((err) => {
        setError(err);
        setLoading(false);
      });
      
      return newTaskId;
    } catch (err) {
      setError(err as Error);
      setLoading(false);
      throw err;
    }
  }, []);
  
  const cancelTask = useCallback(() => {
    // Would implement task cancellation if the API supports it
    setLoading(false);
  }, []);
  
  return {
    taskId,
    status,
    result,
    loading,
    error,
    startTask,
    cancelTask
  };
};

====================================================================================================
FILE: src/hooks/useTaskWebSocket.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/hooks/useTaskWebSocket.ts
SIZE: 2097 bytes
SHA256: 57506394e1c64d7376c4f7377fd73fed24a5e408739f0ea48eeb5c4498a2b1d1
====================================================================================================
// frontend/src/hooks/useTaskWebSocket.ts
import { useState, useEffect, useCallback } from 'react';
import type { TaskStatus, TaskResult } from '../types/task';
import websocketService from '../services/websocketService';

export const useTaskWebSocket = (taskId: string | null) => {
  const [isConnected, setIsConnected] = useState(false);
  const [status, setStatus] = useState<TaskStatus | null>(null);
  const [result, setResult] = useState<TaskResult | null>(null);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    if (!taskId) return;

    // Set up event subscriptions
    const unsubscribeConnect = websocketService.subscribe('connect', () => {
      setIsConnected(true);
      setError(null);
      websocketService.subscribeToTask(taskId);
    });

    const unsubscribeDisconnect = websocketService.subscribe('disconnect', () => {
      setIsConnected(false);
    });

    const unsubscribeError = websocketService.subscribe('error', (error: Error) => {
      setError(error);
    });

    const unsubscribeTaskUpdate = websocketService.subscribe('task_update', (status: TaskStatus) => {
      setStatus(status);
    });

    const unsubscribeTaskResult = websocketService.subscribe('task_result', (result: TaskResult) => {
      setResult(result);
    });

    // Connect to WebSocket server
    websocketService.connect().catch(error => {
      setError(error);
    });

    // Cleanup function
    return () => {
      // Unsubscribe from all events
      unsubscribeConnect();
      unsubscribeDisconnect();
      unsubscribeError();
      unsubscribeTaskUpdate();
      unsubscribeTaskResult();

      // If we have no more active tasks, disconnect the WebSocket
      if (!websocketService.hasActiveSubscriptions()) {
        websocketService.disconnect();
      }
    };
  }, [taskId]);

  // Reset state when taskId changes
  useEffect(() => {
    setStatus(null);
    setResult(null);
    setError(null);
  }, [taskId]);

  // Expose WebSocket status and data to component
  return {
    isConnected,
    status,
    result,
    error
  };
};

====================================================================================================
FILE: src/hooks/useVARKAssessment.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/hooks/useVARKAssessment.ts
SIZE: 3635 bytes
SHA256: 2a2a1cff50e2b4c5206afd7b8c44c1f425c516211fba1011c81b0ceb692a2efb
====================================================================================================
import { useState, useEffect } from 'react';
import { useAuth } from '../contexts/AuthContext';
import { 
  saveAssessmentResults, 
  startAssessment, 
  sendUserResponse 
} from '../services/varkService';

interface Message {
  text: string;
  sender: 'user' | 'ai';
  timestamp: string;
}

interface Assessment {
  inProgress: boolean;
  currentQuestionIndex: number;
  assessmentId?: string;
  isComplete?: boolean;
  answers: Array<{
    question: string;
    answer: string;
  }>;
  results: {
    visual: number;
    auditory: number;
    readWrite: number;
    kinesthetic: number;
    primaryStyle: string;
  } | null;
}

export const useVARKAssessment = () => {
  const { currentUser } = useAuth();
  const [messages, setMessages] = useState<Message[]>([]);
  const [isLoading, setIsLoading] = useState(false);
  const [assessment, setAssessment] = useState<Assessment>({
    inProgress: false,
    currentQuestionIndex: 0,
    answers: [],
    results: null
  });

  // Initialize assessment when component mounts
  useEffect(() => {
    const initializeChat = async () => {
      if (currentUser && !assessment.inProgress) {
        setIsLoading(true);
        try {
          const response = await startAssessment(currentUser.uid);
          setMessages([{
            text: response.initialMessage,
            sender: 'ai',
            timestamp: new Date().toISOString()
          }]);
          
          setAssessment(prev => ({
            ...prev,
            inProgress: true,
            assessmentId: response.assessmentId
          }));
        } catch (error) {
          console.error('Error starting assessment:', error);
          setMessages([{
            text: 'Sorry, there was an error starting the assessment. Please try again.',
            sender: 'ai',
            timestamp: new Date().toISOString()
          }]);
        } finally {
          setIsLoading(false);
        }
      }
    };
    
    initializeChat();
  }, [currentUser]);

  const sendMessage = async (messageText: string) => {
    if (!currentUser?.uid || !assessment.assessmentId) return;

    const userMessage: Message = {
      text: messageText,
      sender: 'user',
      timestamp: new Date().toISOString()
    };
    
    setMessages(prev => [...prev, userMessage]);
    setIsLoading(true);
    
    try {
      const response = await sendUserResponse({
        userId: currentUser.uid,
        assessmentId: assessment.assessmentId,
        message: messageText,
        questionIndex: assessment.currentQuestionIndex
      });
      
      setMessages(prev => [...prev, {
        text: response.message,
        sender: 'ai',
        timestamp: new Date().toISOString()
      }]);
      
      setAssessment(prev => ({
        ...prev,
        currentQuestionIndex: response.nextQuestionIndex,
        answers: [...prev.answers, {
          question: response.currentQuestion,
          answer: messageText
        }],
        results: response.results || null,
        isComplete: response.isComplete
      }));
      
      if (response.isComplete && response.results) {
        await saveAssessmentResults(currentUser.uid, response.results);
      }
    } catch (error) {
      console.error('Error sending message:', error);
      setMessages(prev => [...prev, {
        text: "I'm sorry, there was an error processing your response. Please try again.",
        sender: 'ai',
        timestamp: new Date().toISOString()
      }]);
    } finally {
      setIsLoading(false);
    }
  };

  return {
    messages,
    sendMessage,
    isLoading,
    assessment,
    isComplete: assessment.isComplete || false
  };
};

====================================================================================================
FILE: src/index.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/index.css
SIZE: 1475 bytes
SHA256: 91a204430fdfc7701498295767926aacd9dfc6b64b9f95c689566758db25fe07
====================================================================================================
:root {
  font-family: 'Manrope', Inter, system-ui, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: light dark;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  --max-width: 1200px;
  --navbar-height: 64px;
}

:root,
:root[data-theme='light'] {
  --background-color: #F5F7FF;
  --surface-color: #FFFFFF;
  --text-primary: #101326;
  --text-secondary: #4B5563;
  --border-color: rgba(15, 23, 42, 0.12);
  --accent-color: #E1B354;
  --primary-color: #4654F6;
  --primary-dark: #2F3AC4;
}

:root[data-theme='dark'] {
  --background-color: #0B1020;
  --surface-color: #121A2F;
  --text-primary: #F8FAFF;
  --text-secondary: #B8C0E0;
  --border-color: rgba(148, 163, 184, 0.2);
  --accent-color: #E1B354;
  --primary-color: #7A86FF;
  --primary-dark: #4654F6;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  min-height: 100vh;
  margin: 0;
  padding: 0;
  background-color: var(--background-color);
  color: var(--text-primary);
}

a {
  color: inherit;
}

a:hover {
  color: var(--accent-color);
}

button {
  font-family: inherit;
}

button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
a:focus-visible {
  outline: 2px solid var(--accent-color);
  outline-offset: 2px;
}

#root {
  min-height: 100vh;
}

.container {
  width: 100%;
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 1.5rem;
}

====================================================================================================
FILE: src/index.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/index.tsx
SIZE: 1375 bytes
SHA256: 7e16a47f4243f3ba4e532fb3fade652b6310fe6f1c102476dd0dc1c66504915e
====================================================================================================
import React from 'react';
import ReactDOM from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import { AuthProvider } from './contexts/AuthContext';
import { ProfileProvider } from './contexts/ProfileContext';
import App from './App';
import ErrorBoundary from './components/shared/ErrorBoundary';
import './index.css';

// Listen for auth service worker status events
window.addEventListener('firebase-auth-worker-status', (event: Event) => {
  const { success, isSecure, error } = (event as CustomEvent).detail;
  if (!success) {
    console.warn(
      'Auth service worker initialization status:', 
      { success, isSecure, error }
    );
  }
});

// Listen for auth errors from service worker
window.addEventListener('firebase-auth-error', (event: Event) => {
  const { error, fallbackToRedirect } = (event as CustomEvent).detail;
  console.error('Firebase auth error:', error);
  if (fallbackToRedirect) {
    console.info('Falling back to redirect method for authentication');
  }
});

const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);

root.render(
  <React.StrictMode>
    <ErrorBoundary>
      <BrowserRouter>
        <AuthProvider>
          <ProfileProvider>
            <App />
          </ProfileProvider>
        </AuthProvider>
      </BrowserRouter>
    </ErrorBoundary>
  </React.StrictMode>
);

====================================================================================================
FILE: src/main.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/main.tsx
SIZE: 2367 bytes
SHA256: 2a9f8b5009fd28ab9d031f5085b6e8da73f75df1d225f99131093d11d512ca16
====================================================================================================
import React from 'react';
import ReactDOM from 'react-dom/client';
import { createBrowserRouter, RouterProvider } from 'react-router-dom';
import { AuthProvider } from './contexts/AuthContext';
import { ProfileProvider } from './contexts/ProfileContext';
import App from './App';
import ErrorBoundary from './components/shared/ErrorBoundary';
import './index.css';
import './styles/global.css';
// Firebase app initialized centrally in config/firebase.ts (tree-shaken singletons)
import './config/firebase';

if (import.meta.env.DEV) {
  const cspMeta = document.querySelector('meta[http-equiv="Content-Security-Policy"]');
  if (cspMeta) {
    cspMeta.remove();
    console.info('[CSP] Removed Content-Security-Policy meta tag in DEV for HMR.');
  }

  const metas = [
    'Cross-Origin-Embedder-Policy',
    'Cross-Origin-Opener-Policy',
    'Cross-Origin-Resource-Policy'
  ];
  metas.forEach((name) => {
    const el = document.querySelector(`meta[http-equiv="${name}"]`);
    if (el) {
      el.remove();
      console.warn(`[DEV] Removed ${name} meta tag for Firebase auth compatibility.`);
    }
  });
}

// Configure future flags for React Router v7
const future = {
  v7_startTransition: true,
  v7_relativeSplatPath: true
};

const router = createBrowserRouter([
  {
    path: "/*",
    element: (
      <ErrorBoundary>
        <AuthProvider>
          <ProfileProvider>
            <App />
          </ProfileProvider>
        </AuthProvider>
      </ErrorBoundary>
    ),
  }
], {
  future
});

// Listen for auth service worker status events
window.addEventListener('firebase-auth-worker-status', (event: Event) => {
  const { success, isSecure, error } = (event as CustomEvent).detail;
  if (!success) {
    console.warn(
      'Auth service worker initialization status:', 
      { success, isSecure, error }
    );
  }
});

// Listen for auth errors from service worker
window.addEventListener('firebase-auth-error', (event: Event) => {
  const { error, fallbackToRedirect } = (event as CustomEvent).detail;
  console.error('Firebase auth error:', error);
  if (fallbackToRedirect) {
    console.info('Falling back to redirect method for authentication');
  }
});

const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);

root.render(
  <React.StrictMode>
    <RouterProvider router={router} />
  </React.StrictMode>
);

====================================================================================================
FILE: src/models/Assessment.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/models/Assessment.ts
SIZE: 947 bytes
SHA256: fb3710f436ccea10c03cb9801202d9b12b7882c9d52e6a71f405b38ace790280
====================================================================================================
// File: /src/models/Assessment.ts
// Description: MongoDB schema model for assessments
// Created: 2025-02-25

import mongoose, { Schema, Document } from 'mongoose';

export interface IAssessment extends Document {
  studentId: string;
  assessmentType: string;
  score: number;
  details?: any;
  timestamp: Date;
  createdAt: Date;
  updatedAt: Date;
}

const AssessmentSchema: Schema = new Schema(
  {
    studentId: { type: String, required: true, ref: 'Student' },
    assessmentType: { type: String, required: true },
    score: { type: Number, required: true },
    details: { type: Schema.Types.Mixed },
    timestamp: { type: Date, default: Date.now },
  },
  {
    timestamps: true,
  }
);

// Create compound index for efficient queries by student and assessment type
AssessmentSchema.index({ studentId: 1, assessmentType: 1 });

export default mongoose.models.Assessment || mongoose.model<IAssessment>('Assessment', AssessmentSchema);

====================================================================================================
FILE: src/models/LearningPlan.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/models/LearningPlan.ts
SIZE: 1655 bytes
SHA256: 913c73fc554cb9f592e1bf8d4ee7248845967fb25ad00f3c033eda8d5018dda1
====================================================================================================
// File: /src/models/LearningPlan.ts
// Description: MongoDB schema model for learning plans
// Created: 2025-02-25

import mongoose, { Schema, Document } from 'mongoose';

export interface ISubject {
  name: string;
  topics: {
    name: string;
    activities: {
      title: string;
      description: string;
      type: string;
      duration: string;
      resources?: string[];
    }[];
  }[];
}

export interface ILearningPlan extends Document {
  studentId: string;
  grade: string;
  learningStyle: string;
  subjects: ISubject[];
  startDate: Date;
  endDate?: Date;
  status: 'active' | 'completed' | 'pending';
  createdAt: Date;
  updatedAt: Date;
}

const LearningPlanSchema: Schema = new Schema(
  {
    studentId: { type: String, required: true, ref: 'Student' },
    grade: { type: String, required: true },
    learningStyle: { type: String, required: true },
    subjects: [{
      name: { type: String, required: true },
      topics: [{
        name: { type: String, required: true },
        activities: [{
          title: { type: String, required: true },
          description: { type: String, required: true },
          type: { type: String, required: true },
          duration: { type: String, required: true },
          resources: [{ type: String }]
        }]
      }]
    }],
    startDate: { type: Date, default: Date.now },
    endDate: { type: Date },
    status: { 
      type: String,
      enum: ['active', 'completed', 'pending'],
      default: 'pending'
    }
  },
  {
    timestamps: true,
  }
);

export default mongoose.models.LearningPlan || mongoose.model<ILearningPlan>('LearningPlan', LearningPlanSchema);

====================================================================================================
FILE: src/models/Parent.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/models/Parent.ts
SIZE: 883 bytes
SHA256: 20314304647d3bd8276a60382b2faba94d38449e782c93d7390c8f74c5373235
====================================================================================================
// File: /src/models/Parent.ts
// Description: MongoDB schema model for parents
// Created: 2025-02-25

import mongoose, { Schema, Document } from 'mongoose';
import { IUser } from './User';

export interface IParent extends Document {
  uid: string;
  firstName: string;
  lastName: string;
  email: string;
  phone?: string;
  createdAt: Date;
  updatedAt: Date;
  students: string[]; // References to student IDs
}

const ParentSchema: Schema = new Schema(
  {
    uid: { type: String, required: true, unique: true, ref: 'User' },
    firstName: { type: String, required: true },
    lastName: { type: String, required: true },
    email: { type: String, required: true },
    phone: { type: String },
    students: [{ type: String, ref: 'Student' }],
  },
  {
    timestamps: true,
  }
);

export default mongoose.models.Parent || mongoose.model<IParent>('Parent', ParentSchema);

====================================================================================================
FILE: src/models/Student.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/models/Student.ts
SIZE: 1354 bytes
SHA256: 11008e8d72dc0f04389ab2673371cf3658db0bb8a69bdab91fa93ad5bdbac3b8
====================================================================================================
// File: /src/models/Student.ts
// Description: MongoDB schema model for students
// Created: 2025-02-25

import mongoose, { Schema, Document } from 'mongoose';

export interface IStudent extends Document {
  uid: string;
  firstName: string;
  lastName: string;
  grade: string;
  parentId: string;
  learningStyle?: {
    visual: number;
    auditory: number;
    reading: number;
    kinesthetic: number;
    primary: 'visual' | 'auditory' | 'reading' | 'kinesthetic';
  };
  createdAt: Date;
  updatedAt: Date;
}

const StudentSchema: Schema = new Schema(
  {
    uid: { type: String, required: true, unique: true },
    firstName: { type: String, required: true },
    lastName: { type: String, required: true },
    grade: { type: String, required: true },
    parentId: { type: String, required: true, ref: 'Parent' },
    learningStyle: {
      visual: { type: Number, min: 0, max: 100, default: 0 },
      auditory: { type: Number, min: 0, max: 100, default: 0 },
      reading: { type: Number, min: 0, max: 100, default: 0 },
      kinesthetic: { type: Number, min: 0, max: 100, default: 0 },
      primary: { 
        type: String, 
        enum: ['visual', 'auditory', 'reading', 'kinesthetic'],
      }
    }
  },
  {
    timestamps: true,
  }
);

export default mongoose.models.Student || mongoose.model<IStudent>('Student', StudentSchema);

====================================================================================================
FILE: src/models/User.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/models/User.ts
SIZE: 834 bytes
SHA256: e4b930f5f8ffec1bccc8431a4847453472e1a2e99f2550546d6d28287ef6294e
====================================================================================================
// File: /src/models/User.ts
// Description: MongoDB schema model for users
// Created: 2025-02-25

import mongoose, { Schema, Document } from 'mongoose';

export interface IUser extends Document {
  uid: string;
  email: string;
  displayName?: string;
  photoURL?: string;
  createdAt: Date;
  updatedAt: Date;
  role: 'admin' | 'parent' | 'student' | 'teacher';
}

const UserSchema: Schema = new Schema(
  {
    uid: { type: String, required: true, unique: true },
    email: { type: String, required: true, unique: true },
    displayName: { type: String },
    photoURL: { type: String },
    role: { 
      type: String, 
      enum: ['admin', 'parent', 'student', 'teacher'],
      default: 'parent'
    },
  },
  {
    timestamps: true,
  }
);

export default mongoose.models.User || mongoose.model<IUser>('User', UserSchema);

====================================================================================================
FILE: src/pages/__tests__/About.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/__tests__/About.test.tsx
SIZE: 692 bytes
SHA256: 2b45a14761ae3ef749e211bd8bf2c1a1d0a5f05171a3433e1b0d14e7aef37146
====================================================================================================
// File: /src/pages/__tests__/About.test.tsx
// Description: Unit test for About page component.

import { screen } from "@testing-library/react";
import '@testing-library/jest-dom';
import { renderWithProviders } from "../../test/testUtils";
import About from "../About";

describe('About Page', () => {
  beforeEach(() => {
    jest.clearAllMocks();
    renderWithProviders(<About />);
  });

  test("renders About component with correct content", () => {
    expect(screen.getByRole('heading', { name: /about geaux academy/i })).toBeInTheDocument();
    expect(screen.getByText(/education platform that blends AI insights with human-centered instruction/i)).toBeInTheDocument();
  });
});

====================================================================================================
FILE: src/pages/__tests__/Contact.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/__tests__/Contact.test.tsx
SIZE: 597 bytes
SHA256: c53c51ea86b0e7fd923660c50ff712eda25b5ffdffac934049cc17d35d0e2850
====================================================================================================
// File: /src/pages/__tests__/Contact.test.tsx
// Description: Unit test for Contact page component.

import { screen } from "@testing-library/react";
import { renderWithProviders } from "../../test/testUtils";
import Contact from "../Contact";

describe('Contact Component', () => {
  test("renders Contact component with correct content", () => {
    renderWithProviders(<Contact />);
    expect(screen.getByRole('heading', { name: /contact us/i })).toBeInTheDocument();
    expect(screen.getByText(/Feel free to reach out to us with any questions or feedback./i)).toBeInTheDocument();
  });
});

====================================================================================================
FILE: src/pages/__tests__/Curriculum.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/__tests__/Curriculum.test.tsx
SIZE: 789 bytes
SHA256: e63246944bad3070e690ee66a3ff31643148592847c9fe143967be23dbb85eee
====================================================================================================
// File: /src/pages/__tests__/Curriculum.test.tsx
// Description: Unit test for Curriculum page component.

import { screen } from "@testing-library/react";
import { renderWithProviders } from "../../test/testUtils";
import Curriculum from "../Curriculum";

describe('Curriculum Component', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  test("renders Curriculum component with correct content", () => {
    renderWithProviders(<Curriculum />);
    expect(screen.getByRole('heading', { name: /curriculum/i })).toBeInTheDocument();
    expect(screen.getByText(/Our curriculum is designed to adapt to your learning style and pace./i)).toBeInTheDocument();
    expect(screen.getByRole('button', { name: /sign in with google to get started/i })).toBeInTheDocument();
  });
});

====================================================================================================
FILE: src/pages/__tests__/Features.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/__tests__/Features.test.tsx
SIZE: 821 bytes
SHA256: 434dd090d76b54dae46b6c61eca58f30c2d3d244575e231baf1266bf254108d4
====================================================================================================
// File: /src/pages/__tests__/Features.test.tsx
// Description: Unit test for Features page component.

import { screen } from "@testing-library/react";
import { renderWithProviders } from "../../test/testUtils";
import Features from "../Features";

describe('Features Component', () => {
  test("renders Features component with correct content", () => {
    renderWithProviders(<Features />);
    expect(screen.getByText(/built for modern learning teams/i)).toBeInTheDocument();
    expect(screen.getByText(/AI-powered learning style assessment/i)).toBeInTheDocument();
    expect(screen.getByText(/Personalized learning paths/i)).toBeInTheDocument();
    expect(screen.getByText(/Real-time progress tracking/i)).toBeInTheDocument();
    expect(screen.getByText(/Interactive dashboard/i)).toBeInTheDocument();
  });
});

====================================================================================================
FILE: src/pages/__tests__/Home.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/__tests__/Home.test.tsx
SIZE: 1350 bytes
SHA256: 5167b0246847a6d78b4463ab939b5425cbaf23d619586bfdc7cfcd9265b40068
====================================================================================================
// File: /src/pages/__tests__/Home.test.tsx
// Description: Unit test for Home page component.

import { screen, fireEvent, waitFor } from "@testing-library/react";
import { renderWithProviders, mockLoginWithGoogle } from "../../test/testUtils";
import Home from "../Home";

const mockNavigate = jest.fn();

jest.mock('react-router-dom', () => ({
  ...jest.requireActual('react-router-dom'),
  useNavigate: () => mockNavigate,
}));

describe('Home Component', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  test("renders Home component with correct content", () => {
    renderWithProviders(<Home />, { withRouter: true });
    expect(screen.getByRole('heading', { name: /welcome to geaux academy/i })).toBeInTheDocument();
    expect(screen.getByText(/empowering personalized learning through ai/i)).toBeInTheDocument();
    expect(screen.getByRole('heading', { name: /ready to start your learning journey\?/i })).toBeInTheDocument();
  });

  test("handles Google login", async () => {
    renderWithProviders(<Home />, { withRouter: true });
    const loginButton = screen.getByRole('button', { name: /sign in with google/i });
    
    fireEvent.click(loginButton);
    
    expect(mockLoginWithGoogle).toHaveBeenCalled();
    await waitFor(() => {
      expect(mockNavigate).toHaveBeenCalledWith("/dashboard");
    });
  });
});

====================================================================================================
FILE: src/pages/__tests__/LearningStyles.test.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/__tests__/LearningStyles.test.tsx
SIZE: 689 bytes
SHA256: 4dde3c196fac0f725374f3f440b250684c9f368327f7c35fc89387efbf1c479f
====================================================================================================
// File: /src/pages/__tests__/LearningStyles.test.tsx
// Description: Unit test for Learning Styles page component.

import { screen } from "@testing-library/react";
import { renderWithProviders } from "../../test/testUtils";
import LearningStyles from "../LearningStyles";

describe('LearningStyles Component', () => {
  test("renders Learning Styles component with correct content", () => {
    renderWithProviders(<LearningStyles />, { withRouter: true });
    expect(screen.getByText("Learning Styles")).toBeInTheDocument();
    expect(screen.getByText("Discover your preferred learning style and how Geaux Academy can help you learn more effectively.")).toBeInTheDocument();
  });
});

====================================================================================================
FILE: src/pages/About.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/About.tsx
SIZE: 2004 bytes
SHA256: e42fc105d99f8dce334483ff46f9a3234c2749513b1d238eec8b5cb801d65253
====================================================================================================
// File: /src/pages/About.tsx
// Description: About page component providing information about Geaux Academy.
// Author: GitHub Copilot
// Created: 2023-10-10

import React from 'react';
import styled from 'styled-components';

const About: React.FC = () => {
  return (
    <Page>
      <Hero>
        <span className="badge">Our Mission</span>
        <h1>About Geaux Academy</h1>
        <p>
          Geaux Academy is an education platform that blends AI insights with human-centered
          instruction, helping every learner unlock confidence and clarity.
        </p>
      </Hero>

      <CardGrid>
        <InfoCard className="glass-card">
          <h2>Mission</h2>
          <p>Empower learners with personalized journeys that celebrate curiosity and growth.</p>
        </InfoCard>
        <InfoCard className="glass-card">
          <h2>Values</h2>
          <ul>
            <li>Equitable access to learning for every student.</li>
            <li>Evidence-based strategies grounded in research.</li>
            <li>Partnerships with families and educators.</li>
          </ul>
        </InfoCard>
        <InfoCard className="glass-card">
          <h2>Approach</h2>
          <p>
            We combine adaptive assessments, dynamic learning plans, and progress coaching
            to create a supportive, futuristic learning lab.
          </p>
        </InfoCard>
      </CardGrid>
    </Page>
  );
};

const Page = styled.div`
  display: flex;
  flex-direction: column;
  gap: 3rem;
`;

const Hero = styled.section`
  display: grid;
  gap: 1rem;

  h1 {
    font-size: clamp(2.4rem, 3vw, 3.2rem);
  }

  p {
    max-width: 720px;
    color: var(--text-secondary);
  }
`;

const CardGrid = styled.div`
  display: grid;
  gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
`;

const InfoCard = styled.div`
  padding: 1.75rem;
  display: grid;
  gap: 0.75rem;

  ul {
    padding-left: 1.2rem;
    color: var(--text-secondary);
  }
`;

export default About;

====================================================================================================
FILE: src/pages/Contact.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/Contact.tsx
SIZE: 2399 bytes
SHA256: e1be41f0abf31d213ab995d29ffd6573dfcccf542081de98f06b050a66a9b448
====================================================================================================
// File: /src/pages/Contact.tsx
// Description: Contact page component providing contact information and a contact form.
// Author: GitHub Copilot
// Created: 2023-10-10

import React from 'react';
import './styles/Contact.css';

const Contact: React.FC = () => {
  return (
    <section className="contact-container">
      <div className="contact-hero">
        <span className="badge">Contact</span>
        <h1>Lets build the future of learning together.</h1>
        <p>Questions, feedback, or partnership ideas? Wed love to hear from you.</p>
      </div>

      <div className="contact-grid">
        <form className="contact-form glass-card" aria-label="Contact form">
          <div className="form-group">
            <label htmlFor="name">Full name</label>
            <input id="name" name="name" type="text" placeholder="Enter your name" required />
          </div>
          <div className="form-group">
            <label htmlFor="email">Email address</label>
            <input id="email" name="email" type="email" placeholder="you@company.com" required />
          </div>
          <div className="form-group">
            <label htmlFor="message">Message</label>
            <textarea id="message" name="message" rows={5} placeholder="Tell us how we can help" required />
          </div>
          <button type="submit" className="btn btn-primary">Send message</button>
        </form>

        <div className="contact-info glass-card">
          <h2>Contact information</h2>
          <p>Reach the team anytime  we respond within one business day.</p>
          <div className="info-item">
            <strong>Email</strong>
            <span>support@geauxacademy.com</span>
          </div>
          <div className="info-item">
            <strong>Phone</strong>
            <span>(225) 555-0134</span>
          </div>
          <div className="info-item">
            <strong>Office</strong>
            <span>Baton Rouge, LA  Remote-first</span>
          </div>
          <div className="social-links">
            <a href="https://twitter.com" aria-label="Follow on Twitter">Twitter</a>
            <a href="https://linkedin.com" aria-label="Follow on LinkedIn">LinkedIn</a>
            <a href="https://instagram.com" aria-label="Follow on Instagram">Instagram</a>
          </div>
        </div>
      </div>
    </section>
  );
};

export default Contact;

====================================================================================================
FILE: src/pages/Curriculum.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/Curriculum.tsx
SIZE: 3600 bytes
SHA256: 0129eef083e7aa1954f40cc4684eeb0806ecde01e37bf9ebbd3d99861e2cbb87
====================================================================================================
// File: /src/pages/Curriculum.tsx
// Description: Curriculum page component outlining the learning curriculum.
// Author: GitHub Copilot
// Created: 2023-10-10

import React, { useState } from "react";
import { useNavigate } from 'react-router-dom';
import { useAuth } from "../contexts/AuthContext";
import { FcGoogle } from "react-icons/fc";
import CourseCard from "../components/CourseCard";

interface Course {
  id: string;
  title: string;
  description: string;
  level: string;
  duration: string;
  type: "Video Animated" | "Quiz" | "Mind Map";
  category: string;
  image?: string;
}

const Curriculum: React.FC = () => {
  const [selectedGrade, setSelectedGrade] = useState<'elementary' | 'middle' | 'high'>('middle');
  const { loginWithGoogle } = useAuth();
  const [error, setError] = useState<string>('');
  const navigate = useNavigate();

  const handleLogin = async (): Promise<void> => {
    try {
      setError('');
      await loginWithGoogle();
      navigate('/dashboard');
    } catch (error) {
      setError(error instanceof Error ? error.message : 'An error occurred');
      console.error('Login error:', error);
    }
  };

  const subjects: Course[] = [
    {
      id: '1',
      title: 'Mathematics',
      description: 'Core mathematics curriculum covering algebra, geometry, and more.',
      level: selectedGrade,
      duration: '9 months',
      type: 'Video Animated',
      category: 'math'
    },
    {
      id: '2',
      title: 'Science',
      description: 'Comprehensive science program including biology, chemistry, and physics.',
      level: selectedGrade,
      duration: '9 months',
      type: 'Video Animated',
      category: 'science'
    }
    // Add more courses as needed
  ];

  return (
    <div className="container mx-auto p-4">
      <h1 className="text-4xl font-bold">Curriculum</h1>
      <p className="mt-4">Our curriculum is designed to adapt to your learning style and pace.</p>

      <div className="flex justify-center gap-4 mt-8">
        <button 
          className={`px-4 py-2 rounded ${selectedGrade === 'elementary' ? 'bg-blue-500 text-white' : 'bg-white text-black'}`} 
          onClick={() => setSelectedGrade('elementary')}
        >
          Elementary School
        </button>
        <button 
          className={`px-4 py-2 rounded ${selectedGrade === 'middle' ? 'bg-blue-500 text-white' : 'bg-white text-black'}`} 
          onClick={() => setSelectedGrade('middle')}
        >
          Middle School
        </button>
        <button 
          className={`px-4 py-2 rounded ${selectedGrade === 'high' ? 'bg-blue-500 text-white' : 'bg-white text-black'}`} 
          onClick={() => setSelectedGrade('high')}
        >
          High School
        </button>
      </div>

      {error && <div className="text-red-500 bg-red-100 p-2 rounded mt-4">{error}</div>}

      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-8">
        {subjects.map((course) => (
          <CourseCard key={course.id} {...course} />
        ))}
      </div>

      <div className="text-center mt-16 p-8 bg-white rounded shadow">
        <h2 className="text-2xl font-bold">Ready to Start Learning?</h2>
        <p className="mt-4">Join our platform to access the full curriculum and personalized learning paths.</p>
        <button 
          className="flex items-center gap-2 px-4 py-2 border rounded mt-4" 
          onClick={handleLogin}
        >
          <FcGoogle />
          <span>Sign in with Google to Get Started</span>
        </button>
      </div>
    </div>
  );
};

export default Curriculum;

====================================================================================================
FILE: src/pages/Features.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/Features.tsx
SIZE: 2267 bytes
SHA256: ec733989667cab3c50695515488e63c4a7562b3a201a4ccb79b15f1d01828698
====================================================================================================
// File: /src/pages/Features.tsx
// Description: Features page component highlighting the key features of Geaux Academy.
// Author: GitHub Copilot
// Created: 2023-10-10

import React from 'react';
import styled from 'styled-components';
import { FaChartLine, FaLightbulb, FaRobot, FaUserFriends } from 'react-icons/fa';

const featureSections = [
  {
    title: 'AI-powered learning style assessment',
    description: 'Identify the learning signals that matter most for each student.',
    icon: <FaRobot />
  },
  {
    title: 'Personalized learning paths',
    description: 'Auto-generated plans that adapt with every milestone.',
    icon: <FaLightbulb />
  },
  {
    title: 'Real-time progress tracking',
    description: 'Dashboards that illuminate growth, mastery, and momentum.',
    icon: <FaChartLine />
  },
  {
    title: 'Interactive dashboard',
    description: 'A unified command center for students, parents, and educators.',
    icon: <FaUserFriends />
  }
];

const Features: React.FC = () => {
  return (
    <Page>
      <Hero>
        <span className="badge">Platform Features</span>
        <h1>Built for modern learning teams.</h1>
        <p>
          Every feature is crafted to make learning feel intuitive, engaging, and future-ready.
        </p>
      </Hero>

      <FeatureGrid>
        {featureSections.map((feature) => (
          <FeatureCard className="glass-card" key={feature.title}>
            <div className="icon">{feature.icon}</div>
            <h2>{feature.title}</h2>
            <p>{feature.description}</p>
          </FeatureCard>
        ))}
      </FeatureGrid>
    </Page>
  );
};

const Page = styled.div`
  display: flex;
  flex-direction: column;
  gap: 3rem;
`;

const Hero = styled.section`
  display: grid;
  gap: 1rem;

  h1 {
    font-size: clamp(2.4rem, 3vw, 3.2rem);
  }

  p {
    max-width: 720px;
    color: var(--text-secondary);
  }
`;

const FeatureGrid = styled.div`
  display: grid;
  gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
`;

const FeatureCard = styled.div`
  padding: 1.75rem;
  display: grid;
  gap: 0.75rem;

  .icon {
    font-size: 1.8rem;
    color: var(--primary-color);
  }

  p {
    color: var(--text-secondary);
  }
`;

export default Features;

====================================================================================================
FILE: src/pages/Home.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/Home.tsx
SIZE: 13016 bytes
SHA256: 2cae80013f6e1d52891977e46ade4d5f640d3014dfa388a74482507768bdd1ce
====================================================================================================
import React, { memo, useState } from 'react';
import { Link } from 'react-router-dom';
import styled from 'styled-components';
import { FaBolt, FaChalkboardTeacher, FaCompass, FaGraduationCap, FaLightbulb, FaShieldAlt } from 'react-icons/fa';
import { motion as m, useReducedMotion } from 'framer-motion';
import { pageTransitions, itemVariants } from '../utils/animations';

interface FeatureCard {
  title: string;
  description: string;
  icon: React.ReactNode;
}

interface StepCard {
  title: string;
  description: string;
  icon: React.ReactNode;
}

interface FaqItem {
  question: string;
  answer: string;
}

const featureCards: FeatureCard[] = [
  {
    title: 'Adaptive Learning Plans',
    description: 'AI-tailored learning paths that adjust as students grow.',
    icon: <FaCompass />
  },
  {
    title: 'Real-Time Progress',
    description: 'Visual dashboards for mastery, confidence, and momentum.',
    icon: <FaBolt />
  },
  {
    title: 'Expert-Led Support',
    description: 'Guidance from educators who champion every learner.',
    icon: <FaChalkboardTeacher />
  },
  {
    title: 'Future-Ready Skills',
    description: 'Project-based learning that prepares students for tomorrow.',
    icon: <FaLightbulb />
  }
];

const steps: StepCard[] = [
  {
    title: 'Take the Assessment',
    description: 'Identify learning preferences in minutes with guided prompts.',
    icon: <FaGraduationCap />
  },
  {
    title: 'Get a Personalized Plan',
    description: 'Receive a dynamic learning blueprint built around strengths.',
    icon: <FaCompass />
  },
  {
    title: 'Learn with Confidence',
    description: 'Engage with lessons that feel intuitive and motivating.',
    icon: <FaLightbulb />
  },
  {
    title: 'Track & Celebrate Wins',
    description: 'See progress milestones and celebrate every achievement.',
    icon: <FaBolt />
  }
];

const testimonials = [
  {
    name: 'Ava T.',
    role: 'Student, Grade 8',
    quote: 'I finally understand how I learn best. Everything feels clearer and more fun.'
  },
  {
    name: 'Mr. Cole',
    role: 'Educator',
    quote: 'Geaux Academy helps me meet learners exactly where they are.'
  },
  {
    name: 'Jasmine R.',
    role: 'Parent',
    quote: 'The insights and progress tracking are a game-changer for our family.'
  }
];

const faqs: FaqItem[] = [
  {
    question: 'Is Geaux Academy suitable for every learning style?',
    answer: 'Yes. Our assessment identifies preferences and adapts content across visual, auditory, reading/writing, and kinesthetic styles.'
  },
  {
    question: 'How long does the assessment take?',
    answer: 'Most learners complete it in under 10 minutes. Results are available instantly.'
  },
  {
    question: 'Can parents and educators track progress?',
    answer: 'Absolutely. Dashboards are built for families and teachers to see growth and celebrate milestones.'
  },
  {
    question: 'Is there support for struggling students?',
    answer: 'Yes. We highlight support strategies and provide guided interventions when learners need more help.'
  },
  {
    question: 'Does the platform work on mobile?',
    answer: 'Geaux Academy is optimized for mobile-first learning across devices.'
  }
];

const Home: React.FC = () => {
  const [openFaq, setOpenFaq] = useState<number | null>(0);
  const reduceMotion = useReducedMotion();
  const motionProps = reduceMotion
    ? {}
    : {
        initial: 'hidden',
        animate: 'visible',
        variants: pageTransitions
      };

  const handleToggleFaq = (index: number) => {
    setOpenFaq(prev => (prev === index ? null : index));
  };

  return (
    <Page as={m.div} {...motionProps}>
      <Hero>
        <HeroContent>
          <HeroBadge>Futuristic Learning Lab</HeroBadge>
          <h1>Personalized learning that feels effortless.</h1>
          <p>
            Geaux Academy brings together adaptive learning, real-time feedback, and
            human-friendly guidance so every learner thrives.
          </p>
          <HeroActions>
            <Link className="btn btn-primary" to="/login">Take Assessment</Link>
            <Link className="btn btn-secondary" to="/learning-styles">Explore Learning Styles</Link>
          </HeroActions>
          <HeroHighlights>
            <HighlightCard className="glass-card">
              <FaShieldAlt />
              <div>
                <h4>Safe &amp; Guided</h4>
                <span>Privacy-first learning journeys for every family.</span>
              </div>
            </HighlightCard>
            <HighlightCard className="glass-card">
              <FaBolt />
              <div>
                <h4>Real-Time Insights</h4>
                <span>See progress, engagement, and confidence in one view.</span>
              </div>
            </HighlightCard>
          </HeroHighlights>
        </HeroContent>
        <HeroVisual className="glass-card" aria-hidden="true">
          <VisualGrid>
            <VisualTile className="accent">Assessment</VisualTile>
            <VisualTile>Learning Plan</VisualTile>
            <VisualTile>Feedback Loop</VisualTile>
            <VisualTile className="accent">Progress</VisualTile>
          </VisualGrid>
          <VisualGlow />
        </HeroVisual>
      </Hero>

      <Section as={m.section} variants={reduceMotion ? undefined : itemVariants}>
        <SectionHeader>
          <h2>How it works</h2>
          <p>Each step is crafted to reduce friction and elevate learner confidence.</p>
        </SectionHeader>
        <CardGrid>
          {steps.map((step, index) => (
            <InfoCard
              className="glass-card"
              key={step.title}
              as={m.div}
              variants={reduceMotion ? undefined : itemVariants}
              whileHover={reduceMotion ? undefined : 'hover'}
            >
              <span className="badge">Step {index + 1}</span>
              <div className="icon">{step.icon}</div>
              <h3>{step.title}</h3>
              <p>{step.description}</p>
            </InfoCard>
          ))}
        </CardGrid>
      </Section>

      <Section as={m.section} variants={reduceMotion ? undefined : itemVariants}>
        <SectionHeader>
          <h2>Features designed for growth</h2>
          <p>Modern tools and a warm learning vibe to support every pathway.</p>
        </SectionHeader>
        <CardGrid>
          {featureCards.map((feature) => (
            <FeatureCardStyled
              className="glass-card"
              key={feature.title}
              as={m.div}
              variants={reduceMotion ? undefined : itemVariants}
              whileHover={reduceMotion ? undefined : 'hover'}
            >
              <div className="icon">{feature.icon}</div>
              <h3>{feature.title}</h3>
              <p>{feature.description}</p>
            </FeatureCardStyled>
          ))}
        </CardGrid>
      </Section>

      <Section as={m.section} variants={reduceMotion ? undefined : itemVariants}>
        <SectionHeader>
          <h2>Trusted by learners, loved by families</h2>
          <p>Real stories from our community of curious, motivated learners.</p>
        </SectionHeader>
        <TestimonialGrid>
          {testimonials.map((testimonial) => (
            <TestimonialCard
              className="glass-card"
              key={testimonial.name}
              as={m.div}
              variants={reduceMotion ? undefined : itemVariants}
              whileHover={reduceMotion ? undefined : 'hover'}
            >
              <p>{testimonial.quote}</p>
              <strong>{testimonial.name}</strong>
              <span>{testimonial.role}</span>
            </TestimonialCard>
          ))}
        </TestimonialGrid>
      </Section>

      <Section as={m.section} variants={reduceMotion ? undefined : itemVariants}>
        <SectionHeader>
          <h2>Frequently asked questions</h2>
          <p>Everything you need to feel confident starting with Geaux Academy.</p>
        </SectionHeader>
        <FaqList>
          {faqs.map((faq, index) => (
            <FaqItemRow key={faq.question}>
              <FaqButton
                type="button"
                onClick={() => handleToggleFaq(index)}
                aria-expanded={openFaq === index}
              >
                <span>{faq.question}</span>
                <span className="indicator">{openFaq === index ? '' : '+'}</span>
              </FaqButton>
              {openFaq === index && <FaqAnswer>{faq.answer}</FaqAnswer>}
            </FaqItemRow>
          ))}
        </FaqList>
      </Section>

      <FinalCta>
        <div>
          <h2>Ready to spark a love of learning?</h2>
          <p>Start with a quick assessment and let us build the rest.</p>
        </div>
        <Link className="btn btn-primary" to="/login">Take Assessment</Link>
      </FinalCta>
    </Page>
  );
};

const Page = styled.div`
  display: flex;
  flex-direction: column;
  gap: 4rem;
`;

const Hero = styled.section`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2.5rem;
  align-items: center;
  padding: 3.5rem 0 1rem;
`;

const HeroContent = styled.div`
  display: flex;
  flex-direction: column;
  gap: 1.5rem;

  h1 {
    font-size: clamp(2.4rem, 3vw, 3.6rem);
    line-height: 1.1;
  }

  p {
    color: var(--text-secondary);
    font-size: 1.1rem;
  }
`;

const HeroBadge = styled.span`
  align-self: flex-start;
  padding: 0.35rem 0.9rem;
  border-radius: 999px;
  background: rgba(225, 179, 84, 0.15);
  color: var(--text-primary);
  font-weight: 600;
  font-size: 0.8rem;
`;

const HeroActions = styled.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
`;

const HeroHighlights = styled.div`
  display: grid;
  gap: 1rem;
`;

const HighlightCard = styled.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.25rem;

  svg {
    font-size: 1.5rem;
    color: var(--accent-color);
  }

  h4 {
    margin-bottom: 0.25rem;
  }

  span {
    color: var(--text-secondary);
    font-size: 0.9rem;
  }
`;

const HeroVisual = styled.div`
  position: relative;
  padding: 2.5rem;
  min-height: 280px;
  overflow: hidden;
`;

const VisualGrid = styled.div`
  display: grid;
  grid-template-columns: repeat(2, minmax(120px, 1fr));
  gap: 1rem;
  position: relative;
  z-index: 1;
`;

const VisualTile = styled.div`
  padding: 1rem;
  border-radius: 16px;
  border: 1px solid var(--border-color);
  background: rgba(255, 255, 255, 0.65);
  font-weight: 600;
  color: var(--text-primary);

  &.accent {
    background: rgba(70, 84, 246, 0.15);
  }

  :root[data-theme='dark'] & {
    background: rgba(18, 26, 47, 0.8);
  }
`;

const VisualGlow = styled.div`
  position: absolute;
  width: 180px;
  height: 180px;
  border-radius: 50%;
  background: rgba(70, 84, 246, 0.3);
  filter: blur(40px);
  top: -40px;
  right: -40px;
`;

const Section = styled.section`
  display: flex;
  flex-direction: column;
  gap: 2rem;
`;

const SectionHeader = styled.div`
  max-width: 720px;

  h2 {
    font-size: clamp(1.8rem, 2.5vw, 2.6rem);
    margin-bottom: 0.5rem;
  }

  p {
    color: var(--text-secondary);
  }
`;

const CardGrid = styled.div`
  display: grid;
  gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
`;

const InfoCard = styled.div`
  display: grid;
  gap: 0.75rem;
  padding: 1.5rem;

  .icon {
    font-size: 1.6rem;
    color: var(--accent-color);
  }

  p {
    color: var(--text-secondary);
  }
`;

const FeatureCardStyled = styled(InfoCard)`
  .icon {
    font-size: 1.8rem;
    color: var(--primary-color);
  }
`;

const TestimonialGrid = styled.div`
  display: grid;
  gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
`;

const TestimonialCard = styled.div`
  padding: 1.5rem;
  display: grid;
  gap: 0.75rem;

  p {
    color: var(--text-secondary);
  }

  strong {
    font-size: 1rem;
  }

  span {
    font-size: 0.9rem;
    color: var(--text-secondary);
  }
`;

const FaqList = styled.div`
  display: grid;
  gap: 1rem;
`;

const FaqItemRow = styled.div`
  border-radius: 16px;
  border: 1px solid var(--border-color);
  background: rgba(255, 255, 255, 0.65);

  :root[data-theme='dark'] & {
    background: rgba(18, 26, 47, 0.7);
  }
`;

const FaqButton = styled.button`
  width: 100%;
  border: none;
  background: transparent;
  color: inherit;
  padding: 1rem 1.25rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
  cursor: pointer;

  .indicator {
    font-size: 1.4rem;
    color: var(--accent-color);
  }
`;

const FaqAnswer = styled.div`
  padding: 0 1.25rem 1rem;
  color: var(--text-secondary);
`;

const FinalCta = styled.section`
  background: rgba(70, 84, 246, 0.15);
  border-radius: 24px;
  padding: 2.5rem;
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
  align-items: center;
  justify-content: space-between;

  h2 {
    margin-bottom: 0.5rem;
  }

  p {
    color: var(--text-secondary);
  }
`;

export default memo(Home);

====================================================================================================
FILE: src/pages/LearningPlan.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/LearningPlan.tsx
SIZE: 5453 bytes
SHA256: f644d496fe65a3cec68778e166f99bf163711302ab5134253b7e15b3d5ef9597
====================================================================================================
import React, { useEffect, useState } from 'react';
import { getDoc, doc, updateDoc } from 'firebase/firestore';
import { firestore } from '../config/firebase';
import { useAuth } from "../contexts/AuthContext";
import LoadingSpinner from "../components/common/LoadingSpinner";
import { FcGoogle } from "react-icons/fc";
import { useNavigate } from "react-router-dom";

interface Subject {
  name: string;
  description: string;
  activities: string[];
}

interface UserData {
  learningStyle: string;
  grade: string;
  learningPlan: Subject[];
}

const API_KEY = import.meta.env.VITE_OPENAI_API_KEY;

const LearningPlan: React.FC = () => {
  const { currentUser, loginWithGoogle } = useAuth();
  const navigate = useNavigate();
  const [learningStyle, setLearningStyle] = useState<string>("");
  const [grade, setGrade] = useState<string>("");
  const [subjects, setSubjects] = useState<Subject[]>([]);
  const [loading, setLoading] = useState<boolean>(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    fetchUserProfile();
  }, [currentUser]);

  const fetchUserProfile = async (): Promise<void> => {
    if (!currentUser?.uid) return;
    
    try {
      const userRef = doc(firestore, "users", currentUser.uid);
      const userSnap = await getDoc(userRef);

      if (userSnap.exists()) {
        const userData = userSnap.data() as UserData;
        setLearningStyle(userData.learningStyle || "");
        setGrade(userData.grade || "");
        setSubjects(userData.learningPlan || []);
      }
    } catch (error) {
      setError("Failed to load user profile");
      console.error("Error:", error);
    }
  };

  const generateLearningPlan = async (): Promise<void> => {
    if (!currentUser) {
      setError("Please sign in first");
      return;
    }
    
    if (!learningStyle || !grade) {
      setError("Please complete your profile first");
      return;
    }

    setLoading(true);
    setError(null);

    try {
      const response = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${API_KEY}`,
        },
        body: JSON.stringify({
          model: "gpt-4",
          messages: [{
            role: "system",
            content: `Create a learning plan for a ${grade} grade student with ${learningStyle} learning style.`
          }],
          temperature: 0.7,
        }),
      });

      if (!response.ok) throw new Error('API request failed');

      const data = await response.json();
      const newPlan = JSON.parse(data.choices[0].message.content);
      
      await saveToFirestore(newPlan);
      setSubjects(newPlan);
    } catch (error) {
      setError("Failed to generate learning plan");
      console.error("Error:", error);
    } finally {
      setLoading(false);
    }
  };

  const saveToFirestore = async (plan: Subject[]): Promise<void> => {
    if (!currentUser) {
      throw new Error("User must be signed in");
    }
    
    try {
      const userRef = doc(firestore, "users", currentUser.uid);
      await updateDoc(userRef, {
        learningPlan: plan
      });
    } catch (error) {
      throw new Error("Failed to save learning plan");
    }
  };

  const handleGoogleLogin = async (): Promise<void> => {
    try {
      setError("");
      await loginWithGoogle();
      navigate("/dashboard");
    } catch (error) {
      setError(error.message);
      console.error("Login error:", error);
    }
  };

  return (
    <div className="container mx-auto px-4 py-8">
      <h1 className="text-3xl font-bold mb-6">Personalized Learning Plan</h1>
      
      {error && (
        <div className="bg-red-100 border-red-400 text-red-700 px-4 py-3 rounded mb-4">
          {error}
        </div>
      )}

      <div className="bg-white shadow rounded-lg p-6 mb-6">
        <div className="mb-4">
          <p>Learning Style: <span className="font-semibold">{learningStyle}</span></p>
          <p>Grade Level: <span className="font-semibold">{grade}</span></p>
        </div>

        <button
          onClick={generateLearningPlan}
          disabled={loading}
          className="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded"
        >
          {loading ? "Generating..." : "Generate Learning Plan"}
        </button>
      </div>

      <button
        onClick={handleGoogleLogin}
        className="w-full flex items-center justify-center gap-2 bg-white border border-gray-300 rounded-lg px-6 py-3 text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
      >
        <FcGoogle className="text-xl" />
        Sign in with Google
      </button>

      {loading ? (
        <LoadingSpinner />
      ) : (
        <div className="grid gap-6">
          {subjects.map((subject, index) => (
            <div key={index} className="bg-white shadow rounded-lg p-6">
              <h3 className="text-xl font-semibold mb-3">{subject.name}</h3>
              <p className="text-gray-600 mb-2">{subject.description}</p>
              <ul className="list-disc list-inside">
                {subject.activities.map((activity, idx) => (
                  <li key={idx} className="text-gray-700">{activity}</li>
                ))}
              </ul>
            </div>
          ))}
        </div>
      )}
    </div>
  );
};

export default LearningPlan;

====================================================================================================
FILE: src/pages/LearningStyles.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/LearningStyles.tsx
SIZE: 2878 bytes
SHA256: 0917bd76f684854695e89b7d35359af506dcb7e202f92fecb15fdabaaf6d4b21
====================================================================================================
// File: /src/pages/LearningStyles.tsx
// Description: Learning Styles page component explaining different learning styles.
// Author: GitHub Copilot
// Created: 2023-10-10

import React from 'react';
import styled from 'styled-components';
import { Link } from 'react-router-dom';
import { FaHeadphones, FaBook, FaRunning, FaBrain, FaUsers, FaEye } from 'react-icons/fa';

const learningStyles = [
  { title: 'Visual', description: 'Learn through seeing and watching demonstrations.', icon: <FaEye /> },
  { title: 'Auditory', description: 'Learn through listening, speaking, and dialogue.', icon: <FaHeadphones /> },
  { title: 'Reading/Writing', description: 'Learn through reading text and writing notes.', icon: <FaBook /> },
  { title: 'Kinesthetic', description: 'Learn through doing, moving, and hands-on work.', icon: <FaRunning /> },
  { title: 'Logical', description: 'Learn through reasoning, data, and problem-solving.', icon: <FaBrain /> },
  { title: 'Social', description: 'Learn through collaboration and peer interaction.', icon: <FaUsers /> }
];

const LearningStyles: React.FC = () => {
  return (
    <Page>
      <Hero>
        <span className="badge">Learning Styles</span>
        <h1>Discover how you learn best.</h1>
        <p>
          Knowing your learning style unlocks better strategies, stronger confidence, and faster growth.
        </p>
      </Hero>

      <StylesGrid>
        {learningStyles.map((style) => (
          <StyleCard className="glass-card" key={style.title}>
            <div className="icon">{style.icon}</div>
            <h3>{style.title}</h3>
            <p>{style.description}</p>
          </StyleCard>
        ))}
      </StylesGrid>

      <CTASection className="glass-card">
        <div>
          <h2>Want to know your learning style?</h2>
          <p>Start the quick assessment and get personalized insights.</p>
        </div>
        <Link to="/login" className="btn btn-primary">Take the Assessment</Link>
      </CTASection>
    </Page>
  );
};

const Page = styled.div`
  display: flex;
  flex-direction: column;
  gap: 3rem;
`;

const Hero = styled.section`
  display: grid;
  gap: 1rem;

  h1 {
    font-size: clamp(2.4rem, 3vw, 3.2rem);
  }

  p {
    max-width: 720px;
    color: var(--text-secondary);
  }
`;

const StylesGrid = styled.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1.5rem;
`;

const StyleCard = styled.div`
  padding: 1.75rem;
  display: grid;
  gap: 0.75rem;
  text-align: center;

  .icon {
    font-size: 2rem;
    color: var(--primary-color);
  }

  p {
    color: var(--text-secondary);
  }
`;

const CTASection = styled.section`
  padding: 2rem;
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
  align-items: center;
  justify-content: space-between;

  p {
    color: var(--text-secondary);
  }
`;

export default LearningStyles;

====================================================================================================
FILE: src/pages/Login.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/Login.tsx
SIZE: 2128 bytes
SHA256: cda03d0359654f6435e6bf0cd089d7c7845dd69fefecd6691cc37585882bfb7f
====================================================================================================
import React from 'react';
import { Link } from 'react-router-dom';
import styled from 'styled-components';
import LoginForm from '../components/auth/LoginForm';

const Login: React.FC = () => {
  return (
    <LoginContainer>
      <LoginContent className="glass-card">
        <LoginCopy>
          <span className="badge">Welcome back</span>
          <h1>Continue your learning journey.</h1>
          <p>Access your personalized dashboard, progress insights, and learning plan.</p>
          <InfoList>
            <li>Secure, one-tap Google sign in</li>
            <li>Instant access to your assessment results</li>
            <li>Personalized learning plan updates</li>
          </InfoList>
        </LoginCopy>

        <LoginBox>
          <Title>Sign in</Title>
          <LoginForm />
          <SignUpPrompt>
            Don't have an account? <StyledLink to="/signup">Sign up</StyledLink>
          </SignUpPrompt>
        </LoginBox>
      </LoginContent>
    </LoginContainer>
  );
};

const LoginContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: calc(100vh - 80px);
  padding: 20px;
`;

const LoginContent = styled.div`
  width: 100%;
  max-width: 900px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 2rem;
  padding: 2rem;
`;

const LoginCopy = styled.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;

  p {
    color: var(--text-secondary);
  }
`;

const InfoList = styled.ul`
  display: grid;
  gap: 0.5rem;
  padding-left: 1.2rem;
  color: var(--text-secondary);
`;

const LoginBox = styled.div`
  width: 100%;
  background: rgba(255, 255, 255, 0.85);
  border-radius: 16px;
  padding: 2rem;
  border: 1px solid var(--border-color);
`;

const Title = styled.h1`
  text-align: left;
  color: var(--text-primary);
  margin-bottom: 2rem;
`;

const SignUpPrompt = styled.p`
  text-align: center;
  margin-top: 1rem;
  color: #666;
`;

const StyledLink = styled(Link)`
  color: var(--primary-color);
  text-decoration: none;
  
  &:hover {
    text-decoration: underline;
  }
`;

export default Login;

====================================================================================================
FILE: src/pages/NotFound.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/NotFound.tsx
SIZE: 2160 bytes
SHA256: 491e80b4aece759205c950c01b923b6274baabcc64b0b6fe0618aed6bc795f1a
====================================================================================================
import React, { useState } from 'react';
import styled from 'styled-components';
import { Link, useNavigate } from 'react-router-dom';
import { useAuth } from '../contexts/AuthContext';
import { FcGoogle } from 'react-icons/fc';

const NotFound: React.FC = () => {
  const { loginWithGoogle } = useAuth();
  const navigate = useNavigate();
  const [error, setError] = useState<string>('');

  const handleGoogleLogin = async (): Promise<void> => {
    try {
      setError('');
      await loginWithGoogle();
      navigate('/dashboard');
    } catch (err) {
      setError(err instanceof Error ? err.message : 'An error occurred');
      console.error('Login error:', err);
    }
  };

  return (
    <NotFoundContainer>
      <h1>404 - Page Not Found</h1>
      <p>The page you are looking for might have been removed or doesn't exist.</p>
      <StyledLink to="/">Return to Home</StyledLink>
      <GoogleButton onClick={handleGoogleLogin}>
        <FcGoogle className="text-xl" />
        Sign in with Google
      </GoogleButton>
      {error && <ErrorMessage>{error}</ErrorMessage>}
    </NotFoundContainer>
  );
};

const NotFoundContainer = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 60vh;
  text-align: center;
  padding: 2rem;

  h1 {
    color: var(--primary-color);
    margin-bottom: 1rem;
  }

  p {
    margin-bottom: 2rem;
    color: var(--text-color);
  }
`;

const StyledLink = styled(Link)`
  padding: 0.75rem 1.5rem;
  background-color: var(--primary-color);
  color: white;
  text-decoration: none;
  border-radius: 4px;
  transition: background-color 0.2s;

  &:hover {
    background-color: var(--secondary-color);
  }
`;

const GoogleButton = styled.button`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background-color: white;
  color: #333;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f0f0f0;
  }
`;

const ErrorMessage = styled.div`
  margin-top: 1rem;
  color: red;
`;

export default NotFound;

====================================================================================================
FILE: src/pages/profile/components/LearningStyleInsights.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/components/LearningStyleInsights.tsx
SIZE: 1130 bytes
SHA256: 5b3af8aa016fb872ef139c64b16a68745990c15c846b611b73a28db7ce1f966a
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import { Student } from '../../../types/student';

interface LearningStyleInsightsProps {
  studentData?: Student[];
}

const LearningStyleInsights: React.FC<LearningStyleInsightsProps> = ({ studentData }) => {
  return (
    <InsightsContainer>
      <h3>Learning Style Analytics</h3>
      {studentData?.map(student => (
        <InsightCard key={student.id}>
          <h4>{student.name}</h4>
          <InsightContent>
            <div>Learning Style: {student.learningStyle || 'Not assessed'}</div>
            <div>Recommended Activities: {student.recommendedActivities?.length || 0}</div>
          </InsightContent>
        </InsightCard>
      ))}
    </InsightsContainer>
  );
};

const InsightsContainer = styled.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
`;

const InsightCard = styled.div`
  margin: 15px 0;
  padding: 15px;
  border: 1px solid #eee;
  border-radius: 4px;
`;

const InsightContent = styled.div`
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
`;

export default LearningStyleInsights;

====================================================================================================
FILE: src/pages/profile/ParentProfile/components/StudentProgressTracker.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/ParentProfile/components/StudentProgressTracker.tsx
SIZE: 1128 bytes
SHA256: ca744a560ab731b6e85d294f9401a6f857daee8fe48fd399f0bedb0f2683166f
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import { Student } from '../../../../types/student';

interface StudentProgressTrackerProps {
  studentData?: Student[];
}

const StudentProgressTracker: React.FC<StudentProgressTrackerProps> = ({ studentData }) => {
  return (
    <ProgressContainer>
      <h3>Student Progress Overview</h3>
      {studentData?.map(student => (
        <ProgressCard key={student.id}>
          <h4>{student.name}</h4>
          <ProgressBar>
            <Progress width={75} />
          </ProgressBar>
        </ProgressCard>
      ))}
    </ProgressContainer>
  );
};

const ProgressContainer = styled.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
  margin-bottom: 20px;
`;

const ProgressCard = styled.div`
  margin: 15px 0;
`;

const ProgressBar = styled.div`
  width: 100%;
  height: 10px;
  background: #eee;
  border-radius: 5px;
  overflow: hidden;
`;

const Progress = styled.div<{ width: number }>`
  width: ${props => props.width}%;
  height: 100%;
  background: #4CAF50;
  transition: width 0.3s ease;
`;

export default StudentProgressTracker;

====================================================================================================
FILE: src/pages/profile/ParentProfile/CreateStudent.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/ParentProfile/CreateStudent.tsx
SIZE: 4050 bytes
SHA256: c286b7cb6467c6393f44c0ff68bd2d8536eae77d859f19b3c09aaf471d6db3db
====================================================================================================
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import styled from 'styled-components';
import { addStudentProfile } from '../../../services/profileService';
import { useAuth } from '../../../contexts/AuthContext';
import StudentCard from '../../../components/student/StudentCard';

interface NewStudent {
  name: string;
  grade: string;
  parentId: string;
  hasTakenAssessment: boolean;
}

const CreateStudent: React.FC = () => {
  const [studentName, setStudentName] = useState<string>('');
  const [grade, setGrade] = useState<string>('');
  const [error, setError] = useState<string>('');
  const [loading, setLoading] = useState<boolean>(false);
  const { currentUser } = useAuth();

  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    if (!currentUser) {
      setError('Please sign in to add a student.');
      return;
    }

    setLoading(true);
    setError('');

    try {
      const newStudent: NewStudent = { 
        name: studentName, 
        grade, 
        parentId: currentUser.uid,
        hasTakenAssessment: false
      };

      await addStudentProfile(currentUser.uid, newStudent);
      setStudentName('');
      setGrade('');
      navigate('/dashboard');
    } catch (err) {
      setError('Failed to create student profile. Please try again.');
      console.error('Error creating student:', err);
    } finally {
      setLoading(false);
    }
  };

  return (
    <FormContainer>
      <h2>Add a New Student</h2>
      {error && <ErrorMessage>{error}</ErrorMessage>}
      
      <Form onSubmit={handleSubmit}>
        <FormGroup>
          <Label>
            Student Name:
            <Input
              type="text"
              value={studentName}
              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setStudentName(e.target.value)}
              placeholder="Enter student's name"
              required
            />
          </Label>
        </FormGroup>

        <FormGroup>
          <Label>
            Grade Level:
            <Select 
              value={grade} 
              onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setGrade(e.target.value)}
              required
            >
              <option value="">Select Grade</option>
              <option value="K">Kindergarten</option>
              {Array.from({ length: 12 }, (_, i) => (
                <option key={i + 1} value={String(i + 1)}>
                  Grade {i + 1}
                </option>
              ))}
            </Select>
          </Label>
        </FormGroup>

        <SubmitButton type="submit" disabled={loading}>
          {loading ? 'Creating Profile...' : 'Save Profile'}
        </SubmitButton>
      </Form>
    </FormContainer>
  );
};

const FormContainer = styled.div`
  max-width: 500px;
  margin: 2rem auto;
  padding: 2rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

  h2 {
    margin-bottom: 1.5rem;
    color: var(--primary-color);
  }
`;

const Form = styled.form`
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
`;

const FormGroup = styled.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`;

const Label = styled.label`
  font-weight: 500;
  color: #333;
`;

const Input = styled.input`
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`;

const Select = styled.select`
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
  background: white;
`;

const SubmitButton = styled.button`
  background: var(--primary-color);
  color: white;
  padding: 0.75rem;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  &:hover:not(:disabled) {
    background: var(--primary-dark);
  }
`;

const ErrorMessage = styled.div`
  color: #dc2626;
  background: #fee2e2;
  padding: 0.75rem;
  border-radius: 4px;
  margin-bottom: 1rem;
`;

export default CreateStudent;

====================================================================================================
FILE: src/pages/profile/ParentProfile/dashboard/components/CurriculumApproval.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/ParentProfile/dashboard/components/CurriculumApproval.tsx
SIZE: 1286 bytes
SHA256: 6edbdfcc58457847f7f2580f84893e1e28cddbb26a997901084489190fe15689
====================================================================================================
import React from 'react';
import styled from 'styled-components';
import { Student } from '../../../../../types/auth';

interface CurriculumApprovalProps {
  studentData?: Student[];
}

const CurriculumApproval: React.FC<CurriculumApprovalProps> = ({ studentData }) => {
  return (
    <ApprovalContainer>
      <h3>Pending Curriculum Approvals</h3>
      {studentData?.map(student => (
        <ApprovalCard key={student.id}>
          <h4>{student.name}</h4>
          <ApprovalActions>
            <button className="approve">Approve</button>
            <button className="review">Review</button>
          </ApprovalActions>
        </ApprovalCard>
      ))}
    </ApprovalContainer>
  );
};

const ApprovalContainer = styled.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
`;

const ApprovalCard = styled.div`
  margin: 15px 0;
  padding: 15px;
  border: 1px solid #eee;
  border-radius: 4px;
`;

const ApprovalActions = styled.div`
  display: flex;
  gap: 10px;
  margin-top: 10px;

  button {
    padding: 5px 15px;
    border-radius: 4px;
    border: none;
    cursor: pointer;

    &.approve {
      background: #4CAF50;
      color: white;
    }

    &.review {
      background: #FFA726;
      color: white;
    }
  }
`;

export default CurriculumApproval;

====================================================================================================
FILE: src/pages/profile/ParentProfile/dashboard/components/NotificationCenter.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/ParentProfile/dashboard/components/NotificationCenter.tsx
SIZE: 776 bytes
SHA256: 1a1fc98b44afdea90d082387762b80e90fb250bb86b137a3d80b56fcb7b07aa1
====================================================================================================
import React from 'react';
import styled from 'styled-components';

const NotificationCenter: React.FC = () => {
  return (
    <NotificationContainer>
      <h3>Notifications</h3>
      <NotificationList>
        {/* Placeholder for notifications */}
        <NotificationItem>
          <span>No new notifications</span>
        </NotificationItem>
      </NotificationList>
    </NotificationContainer>
  );
};

const NotificationContainer = styled.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
  margin-bottom: 20px;
`;

const NotificationList = styled.div`
  margin-top: 15px;
`;

const NotificationItem = styled.div`
  padding: 10px;
  border-bottom: 1px solid #eee;
  &:last-child {
    border-bottom: none;
  }
`;

export default NotificationCenter;

====================================================================================================
FILE: src/pages/profile/ParentProfile/ParentDashboard.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/ParentProfile/ParentDashboard.tsx
SIZE: 7426 bytes
SHA256: c21dec862c14584f06df50d7b0311824ea4e4c549362fde603cfa10990ceef15
====================================================================================================
import React, { useState, useEffect } from 'react';
import StudentProgressTracker from './components/StudentProgressTracker';
import NotificationCenter from './dashboard/components/NotificationCenter';
import LearningStyleInsights from '../components/LearningStyleInsights';
import CurriculumApproval from './dashboard/components/CurriculumApproval';
import styled from 'styled-components';
import { useAuth } from "../../../contexts/AuthContext";
import { getParentProfile } from '../../../services/profileService';
import { Parent, Student } from '../../../types/auth';
import { useNavigate } from 'react-router-dom';

interface ParentProfile extends Omit<Parent, 'students'> {
  name: string;
  students: Student[];
  createdAt: string;
  updatedAt: string;
}

const ParentDashboard: React.FC = () => {
  const [activeTab, setActiveTab] = useState<'overview' | 'progress' | 'curriculum' | 'insights'>('overview');
  const [parentProfile, setParentProfile] = useState<ParentProfile | null>(null);
  const [selectedStudent, setSelectedStudent] = useState<string | null>(null);
  const { currentUser: user, loginWithGoogle } = useAuth();
  const [error, setError] = useState<string>("");
  const navigate = useNavigate();

  useEffect(() => {
    const fetchProfile = async () => {
      if (user) {
        try {
          const profile = await getParentProfile(user.uid);
          if (profile) {
            setParentProfile({
              ...profile,
              name: profile.displayName,
              id: profile.id || user.uid,
              students: profile.students.map((student: string) => ({
                id: student,
                name: '',
                age: 0,
                grade: '',
                parentId: profile.id || user.uid,
                hasTakenAssessment: false,
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
              })) || [],
              createdAt: profile.createdAt || new Date().toISOString(),
              updatedAt: profile.updatedAt || new Date().toISOString()
            });
          }
        } catch (error) {
          console.error("Error fetching profile:", error);
        }
      }
    };
    fetchProfile();
  }, [user]);

  const handleGoogleLogin = async () => {
    try {
      setError("");
      await loginWithGoogle();
    } catch (error) {
      setError("Login failed. Please try again.");
      console.error("Login error:", error);
    }
  };

  const handleProfileSwitch = (studentId: string) => {
    setSelectedStudent(studentId);
    navigate(`/student-dashboard/${studentId}`);
  };

  return (
    <DashboardContainer>
      <DashboardHeader>
        <h1>Parent Dashboard</h1>
      </DashboardHeader>

      <ProfileSection>
        <h2>Account Details</h2>
        <p>Name: {parentProfile?.name || "Parent"}</p>
        <p>Email: {user?.email}</p>
        {!user && (
          <GoogleButton onClick={handleGoogleLogin}>
            Sign in with Google
          </GoogleButton>
        )}
      </ProfileSection>

      {user && (
        <>
          <StudentManagement>
            <h2>Student Profiles</h2>
            <AddStudentButton> Add Student</AddStudentButton>
            
            <StudentList>
              {parentProfile?.students?.map((student) => (
                <StudentCard key={student.id} onClick={() => handleProfileSwitch(student.id)}>
                  <h3>{student.name}</h3>
                  <p>Grade: {student.grade}</p>
                  <p>Assessment: {student.hasTakenAssessment ? 'Completed' : 'Pending'}</p>
                  <ViewProfileButton>View Profile</ViewProfileButton>
                </StudentCard>
              ))}
            </StudentList>
          </StudentManagement>

          <TabContainer>
            <TabList>
              <Tab active={activeTab === 'overview'} onClick={() => setActiveTab('overview')}>Overview</Tab>
              <Tab active={activeTab === 'progress'} onClick={() => setActiveTab('progress')}>Progress</Tab>
              <Tab active={activeTab === 'curriculum'} onClick={() => setActiveTab('curriculum')}>Curriculum</Tab>
              <Tab active={activeTab === 'insights'} onClick={() => setActiveTab('insights')}>Insights</Tab>
            </TabList>

            <TabContent>
              {activeTab === 'overview' && <OverviewTab />}
              {activeTab === 'progress' && <StudentProgressTracker />}
              {activeTab === 'curriculum' && <CurriculumApproval />}
              {activeTab === 'insights' && <LearningStyleInsights />}
            </TabContent>
          </TabContainer>

          <NotificationSection>
            <NotificationCenter />
          </NotificationSection>
        </>
      )}
    </DashboardContainer>
  );
};

// Styled components
const DashboardContainer = styled.div`
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
`;

const DashboardHeader = styled.div`
  margin-bottom: 2rem;
  h1 {
    font-size: 2rem;
    color: var(--primary-color);
  }
`;

const ProfileSection = styled.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 2rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
`;

const StudentManagement = styled.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 2rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
`;

const AddStudentButton = styled.button`
  background: var(--primary-color);
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background: var(--primary-dark);
  }
`;

const StudentList = styled.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
`;

const StudentCard = styled.div`
  background: #f8fafc;
  padding: 1rem;
  border-radius: 4px;
  border: 1px solid #e2e8f0;
  cursor: pointer;
`;

const TabContainer = styled.div`
  margin-top: 2rem;
`;

const TabList = styled.div`
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
`;

interface TabProps {
  active: boolean;
}

const Tab = styled.button<TabProps>`
  padding: 0.5rem 1rem;
  border: none;
  background: ${props => props.active ? 'var(--primary-color)' : 'transparent'};
  color: ${props => props.active ? 'white' : 'var(--text-color)'};
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background: ${props => props.active ? 'var(--primary-dark)' : '#f0f0f0'};
  }
`;

const TabContent = styled.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
`;

const NotificationSection = styled.div`
  margin-top: 2rem;
`;

const GoogleButton = styled.button`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: white;
  border: 1px solid #ddd;
  padding: 0.75rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background: #f8f8f8;
  }
`;

const OverviewTab = styled.div`
  // Add specific styles for the overview tab content
`;

const ViewProfileButton = styled.button`
  margin-top: 1rem;
  padding: 0.5rem 1rem;
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: var(--primary-dark);
  }
`;

export default ParentDashboard;

====================================================================================================
FILE: src/pages/profile/ParentProfile/ParentProfile.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/ParentProfile/ParentProfile.tsx
SIZE: 5001 bytes
SHA256: e24b4239e4d52100ac5fec8316adb7eace17712c9f9a58b0a2d0bc53a27baba3
====================================================================================================
import React, { useState, useEffect } from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { addStudent } from '../../../store/slices/profileSlice';
import { RootState } from '../../../store';
import { Student } from '../../../types/auth';  // Using the auth Student type consistently
import { useAuth } from '../../../contexts/AuthContext';
import { FcGoogle } from 'react-icons/fc';
import styled from 'styled-components';
import { getStudentProfile } from '../../../services/profileService';

const ParentProfile: React.FC = () => {
  const dispatch = useDispatch();
  const parent = useSelector((state: RootState) => state.profile.parent);
  const [showAddStudent, setShowAddStudent] = useState(false);
  const [newStudent, setNewStudent] = useState<Partial<Student>>({});
  const { loginWithGoogle } = useAuth();
  const [error, setError] = useState("");
  const [studentsData, setStudentsData] = useState<Student[]>([]);

  const handleAddStudent = () => {
    if (newStudent.name) {
      dispatch(addStudent({
        id: Date.now().toString(),
        name: newStudent.name || '',
        grade: newStudent.grade || '',
        parentId: parent?.id || '',
        hasTakenAssessment: false,
        createdAt: new Date().toISOString(),
        updatedAt: new Date().toISOString()
      }));
      setShowAddStudent(false);
      setNewStudent({});
    }
  };

  const handleGoogleLogin = async () => {
    try {
      setError("");
      await loginWithGoogle();
    } catch (err) {
      setError(err instanceof Error ? err.message : "Failed to login");
      console.error("Login error:", err);
    }
  };

  useEffect(() => {
    const fetchStudentsData = async () => {
      if (parent?.students) {
        try {
          const studentsPromises = parent.students.map(async studentId => {
            const student = await getStudentProfile(studentId);
            return student as Student;  // Ensure type consistency
          });
          const fetchedStudents = await Promise.all(studentsPromises);
          setStudentsData(fetchedStudents.filter((s): s is Student => s !== null));
        } catch (error) {
          console.error('Error fetching students:', error);
        }
      }
    };

    fetchStudentsData();
  }, [parent?.students]);

  return (
    <Container>
      <ProfileBox>
        <Title>Parent Profile</Title>
        
        {error && <ErrorMessage>{error}</ErrorMessage>}

        <GoogleButton onClick={handleGoogleLogin}>
          <FcGoogle className="text-xl" />
          Sign in with Google
        </GoogleButton>

        <div className="students-section">
          <h3>My Students</h3>
          <button onClick={() => setShowAddStudent(true)}>Add Student</button>

          {showAddStudent && (
            <div className="add-student-form">
              <input
                type="text"
                placeholder="Student Name"
                value={newStudent.name || ''}
                onChange={(e) => setNewStudent({...newStudent, name: e.target.value})}
              />
              <input
                type="text"
                placeholder="Grade"
                value={newStudent.grade || ''}
                onChange={(e) => setNewStudent({...newStudent, grade: e.target.value})}
              />
              <button onClick={handleAddStudent}>Save</button>
              <button onClick={() => setShowAddStudent(false)}>Cancel</button>
            </div>
          )}

          <div className="students-list">
            {studentsData.map((student) => (
              <div key={student.id} className="student-card">
                <h4>{student.name}</h4>
                {student.grade && <p>Grade: {student.grade}</p>}
                <p>Learning Style: {student.learningStyle || 'Not assessed'}</p>
                <div className="progress-summary">
                  {student.hasTakenAssessment ? (
                    <div className="assessment-status">Assessment Complete</div>
                  ) : (
                    <div className="assessment-status">Assessment Needed</div>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>
      </ProfileBox>
    </Container>
  );
};

const Container = styled.div`
  padding: 2rem;
`;

const ProfileBox = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;

const Title = styled.h1`
  text-align: center;
  margin-bottom: 2rem;
`;

const GoogleButton = styled.button`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  background: white;
  cursor: pointer;
  margin-bottom: 2rem;

  &:hover {
    background: #f5f5f5;
  }
`;

const ErrorMessage = styled.div`
  color: #dc2626;
  background: #fee2e2;
  padding: 0.75rem;
  border-radius: 4px;
  margin-bottom: 1rem;
`;

export default ParentProfile;

====================================================================================================
FILE: src/pages/profile/ParentProfile/ParentProfileForm.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/ParentProfile/ParentProfileForm.tsx
SIZE: 4752 bytes
SHA256: 971993729fbcc058b4fde876826e12c061dc1b1666b51761741cac9074ce1299
====================================================================================================
import React, { useState } from 'react';
import { useAuth } from '../../../contexts/AuthContext';
import { createParentProfile } from '../../../services/profileService';
import styled from 'styled-components';

interface FormData {
  displayName: string;
  phone: string;
  email: string;
}

export const ParentProfileForm: React.FC = () => {
  const { currentUser } = useAuth();
  const [formData, setFormData] = useState<FormData>({
    displayName: currentUser?.displayName || '',
    phone: '',
    email: currentUser?.email || ''
  });
  const [loading, setLoading] = useState<boolean>(false);
  const [error, setError] = useState<string>('');
  const [success, setSuccess] = useState<boolean>(false);

  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    if (!currentUser) {
      setError('You must be logged in to create a profile');
      return;
    }

    setLoading(true);
    setError('');
    try {
      console.log(' Creating parent profile for:', currentUser.uid);
      await createParentProfile({
        uid: currentUser.uid,
        email: formData.email,
        displayName: formData.displayName,
        phone: formData.phone
      });
      setSuccess(true);
      console.log(' Parent profile created successfully');
    } catch (err) {
      console.error(' Error creating parent profile:', err);
      setError('Failed to create profile. Please try again.');
    } finally {
      setLoading(false);
    }
  };

  if (success) {
    return (
      <SuccessMessage>
        Profile created successfully! You can now add students to your account.
      </SuccessMessage>
    );
  }

  return (
    <FormContainer>
      <h2>Complete Your Parent Profile</h2>
      {error && <ErrorMessage>{error}</ErrorMessage>}
      
      <Form onSubmit={handleSubmit}>
        <FormGroup>
          <Label htmlFor="displayName">Full Name</Label>
          <Input
            id="displayName"
            type="text"
            placeholder="Your full name"
            value={formData.displayName}
            onChange={(e: React.ChangeEvent<HTMLInputElement>) => setFormData({
              ...formData,
              displayName: e.target.value
            })}
            required
          />
        </FormGroup>

        <FormGroup>
          <Label htmlFor="phone">Phone Number</Label>
          <Input
            id="phone"
            type="tel"
            placeholder="Your phone number"
            value={formData.phone}
            onChange={(e: React.ChangeEvent<HTMLInputElement>) => setFormData({
              ...formData,
              phone: e.target.value
            })}
            required
          />
        </FormGroup>

        <FormGroup>
          <Label htmlFor="email">Email</Label>
          <Input
            id="email"
            type="email"
            placeholder="Your email"
            value={formData.email}
            onChange={(e: React.ChangeEvent<HTMLInputElement>) => setFormData({
              ...formData,
              email: e.target.value
            })}
            required
            disabled={!!currentUser?.email}
          />
        </FormGroup>

        <SubmitButton type="submit" disabled={loading}>
          {loading ? 'Creating Profile...' : 'Create Profile'}
        </SubmitButton>
      </Form>
    </FormContainer>
  );
};

const FormContainer = styled.div`
  max-width: 500px;
  margin: 0 auto;
  padding: 2rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);

  h2 {
    margin-bottom: 1.5rem;
    color: var(--primary-color);
    text-align: center;
  }
`;

const Form = styled.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;

const FormGroup = styled.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`;

const Label = styled.label`
  font-weight: 500;
  color: #333;
`;

const Input = styled.input`
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;

  &:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
  }
`;

const SubmitButton = styled.button`
  background: var(--primary-color);
  color: white;
  padding: 0.75rem;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  margin-top: 1rem;

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  &:hover:not(:disabled) {
    background: var(--primary-dark);
  }
`;

const ErrorMessage = styled.div`
  color: #dc2626;
  background: #fee2e2;
  padding: 0.75rem;
  border-radius: 4px;
  margin-bottom: 1rem;
`;

const SuccessMessage = styled.div`
  color: #059669;
  background: #d1fae5;
  padding: 1rem;
  border-radius: 4px;
  text-align: center;
  margin: 1rem 0;
`;

export default ParentProfileForm;

====================================================================================================
FILE: src/pages/profile/StudentProfile/StudentDashboard.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/StudentProfile/StudentDashboard.tsx
SIZE: 6789 bytes
SHA256: c567d3ebf17d8038d955a745f985a4e4692543b385aea991787d9febf6556e5f
====================================================================================================
import React, { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { motion as m } from 'framer-motion';
import styled from 'styled-components';
import { FaGraduationCap, FaChartLine, FaBook } from 'react-icons/fa';
import { useAuth } from '../../../contexts/AuthContext';
import { getStudentProfile } from '../../../services/profileService';
import { Student } from '../../../types/auth';
import LoadingSpinner from '../../../components/common/LoadingSpinner';
import LearningStyleChat from '../../../components/chat/LearningStyleChat';
import { DefaultTheme } from 'styled-components';

interface ThemeProps {
  theme: DefaultTheme;
}

interface StudentData extends Student {
  recentActivities: Array<{
    id?: string;
    type: string;
    name: string;
    date: string;
  }>;
  progress: Array<{
    type: string;
    value: number;
  }>;
}

const StudentDashboard: React.FC = () => {
  const { id } = useParams<{ id: string }>();
  const navigate = useNavigate();
  const { currentUser } = useAuth();
  const [studentData, setStudentData] = useState<StudentData | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string>('');
  const [needsSetup, setNeedsSetup] = useState(false);
  const [reloadToken, setReloadToken] = useState(0);

  const logDebug = (...args: unknown[]) => {
    if (import.meta.env.DEV) {
      console.debug(...args);
    }
  };

  const fetchWithTimeout = async <T,>(promise: Promise<T>, timeoutMs: number) => {
    let timeoutId: number | undefined;
    const timeoutPromise = new Promise<T>((_, reject) => {
      timeoutId = window.setTimeout(() => {
        reject(new Error('Timed out loading dashboard data'));
      }, timeoutMs);
    });

    return Promise.race([promise, timeoutPromise]).finally(() => {
      if (timeoutId) {
        window.clearTimeout(timeoutId);
      }
    });
  };

  const handleRetry = () => {
    setLoading(true);
    setError('');
    setNeedsSetup(false);
    setReloadToken((value) => value + 1);
  };

  useEffect(() => {
    const fetchStudentData = async () => {
      const studentId = id ?? currentUser?.uid;
      setError('');
      setNeedsSetup(false);

      if (!studentId) {
        setError('Student ID not found');
        setLoading(false);
        return;
      }

      try {
        logDebug('Dashboard load start', studentId);
        const data = await fetchWithTimeout(getStudentProfile(studentId), 8000);
        if (data) {
          setStudentData({
            ...data,
            id: data.id || studentId,
            recentActivities: [],
            progress: []
          } as StudentData);
          logDebug('Dashboard load success', { data });
        } else {
          setStudentData(null);
          setNeedsSetup(true);
          logDebug('Dashboard load success', { data: null });
        }
      } catch (err) {
        logDebug('Dashboard load error', err);
        const message = err instanceof Error ? err.message : 'Failed to load student data';
        setError(message);
      } finally {
        setLoading(false);
      }
    };

    fetchStudentData();
  }, [currentUser?.uid, id, reloadToken]);

  if (loading) {
    return (
      <StyledLoadingContainer>
        <LoadingSpinner />
      </StyledLoadingContainer>
    );
  }

  if (error) {
    return (
      <StyledErrorContainer>
        <p>{error}</p>
        <StyledRetryButton type="button" onClick={handleRetry}>Retry</StyledRetryButton>
      </StyledErrorContainer>
    );
  }

  if (needsSetup) {
    return (
      <StyledSetupContainer>
        <h2>Finish setting up your dashboard</h2>
        <p>No student profile was found yet. Complete your setup to start tracking progress.</p>
        <StyledRetryButton type="button" onClick={handleRetry}>Retry</StyledRetryButton>
      </StyledSetupContainer>
    );
  }

  return (
    <m.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      transition={{ duration: 0.3 }}
    >
      <StyledHeader>
        <StyledHeaderLeft>
          <h1>Welcome, {studentData?.name}!</h1>
          <p>Grade {studentData?.grade}</p>
        </StyledHeaderLeft>
      </StyledHeader>

      <DashboardGrid>
        <MainSection>
          {!studentData?.hasTakenAssessment && (
            <AssessmentSection>
              <h2>Learning Style Assessment</h2>
              <p>Take your learning style assessment to get personalized recommendations.</p>
              <LearningStyleChat />
            </AssessmentSection>
          )}

          {studentData?.hasTakenAssessment && studentData.learningStyle && (
            <LearningStyleSection>
              <h2>Your Learning Style: {studentData.learningStyle}</h2>
              <p>Based on your assessment, we've customized your learning experience.</p>
            </LearningStyleSection>
          )}

          <ProgressSection>
            <h2>Recent Progress</h2>
            {/* Add progress visualization here */}
          </ProgressSection>
        </MainSection>
      </DashboardGrid>
    </m.div>
  );
};

const DashboardContainer = styled(m.div)`
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
`;

const StyledLoadingContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 400px;
`;

const StyledErrorContainer = styled.div`
  text-align: center;
  color: red;
  padding: 2rem;
  display: grid;
  gap: 1rem;
`;

const StyledSetupContainer = styled.div`
  text-align: center;
  padding: 2rem;
  background: #fff7ed;
  border: 1px solid #fdba74;
  border-radius: 12px;
  display: grid;
  gap: 0.75rem;
  color: #9a3412;
`;

const StyledRetryButton = styled.button`
  margin: 0 auto;
  padding: 0.6rem 1.5rem;
  border-radius: 999px;
  border: none;
  background: var(--primary-color);
  color: white;
  cursor: pointer;
  font-weight: 600;

  &:hover {
    background: var(--primary-dark);
  }
`;

const StyledHeader = styled(m.header)`
  margin-bottom: 2rem;
`;

const StyledHeaderLeft = styled.div`
  h1 {
    margin: 0;
    color: var(--primary-color);
  }
  p {
    margin: 0.5rem 0 0;
    color: var(--text-secondary);
  }
`;

const DashboardGrid = styled.div`
  display: grid;
  gap: 2rem;
`;

const MainSection = styled.div`
  display: grid;
  gap: 2rem;
`;

const AssessmentSection = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
`;

const LearningStyleSection = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
`;

const ProgressSection = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
`;

export default StudentDashboard;

====================================================================================================
FILE: src/pages/profile/StudentProfile/StudentProfile.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/StudentProfile/StudentProfile.tsx
SIZE: 1883 bytes
SHA256: 06ad7e92df041a2780e213275822c04b356b3bd901d15719840362a3d1083496
====================================================================================================
import React, { useState } from "react";
import styled from "styled-components";
import CourseCard from "../../../components/CourseCard";

interface Course {
  title: string;
  type: "Video Animated" | "Quiz" | "Mind Map";
  category: string;
}

const StudentProfile: React.FC = () => {
  const [filter, setFilter] = useState<string>("");

  const courses: Course[] = [
    { title: "Introduction to Learning Styles", type: "Video Animated", category: "Learning Fundamentals" },
    { title: "Learning Style Quiz", type: "Quiz", category: "Assessment" },
    { title: "Visual Learning Techniques", type: "Mind Map", category: "Learning Techniques" }
  ];

  return (
    <Container>
      <ProfileBox>
        <Title>Student Profile</Title>
        
        {/* Search Filter */}
        <input
          type="text"
          placeholder="Search courses..."
          className="border px-4 py-2 w-full mb-4 rounded-lg"
          value={filter}
          onChange={(e) => setFilter(e.target.value)}
        />

        {/* Course List */}
        <div className="grid grid-cols-3 gap-4">
          {courses
            .filter((course) => course.title.toLowerCase().includes(filter.toLowerCase()))
            .map((course, index) => (
              <CourseCard key={index} {...course} />
            ))}
        </div>
      </ProfileBox>
    </Container>
  );
};

const Container = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
  background-color: #f5f5f5;
`;

const ProfileBox = styled.div`
  width: 100%;
  max-width: 400px;
  background: white;
  border-radius: 8px;
  padding: 2rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`;

const Title = styled.h2`
  text-align: center;
  color: #2C3E50;
  margin-bottom: 1.5rem;
  font-size: 1.75rem;
`;

export default StudentProfile;

====================================================================================================
FILE: src/pages/profile/StudentProfile/StudentProfileForm.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/profile/StudentProfile/StudentProfileForm.tsx
SIZE: 5436 bytes
SHA256: fbad39c9806a80ed63d4f88ce42635596ff1edc0c6176da7ac0df10b81b6d957
====================================================================================================
import React, { useState } from 'react';
import { addDoc, collection } from 'firebase/firestore';
import { auth, firestore as db } from '../../../config/firebase';
import styled from 'styled-components';

interface StudentFormData {
  firstName: string;
  lastName: string;
  age: string;
  grade: string;
}

interface FormState {
  loading: boolean;
  error: string | null;
  success: boolean;
}

export const StudentProfileForm: React.FC = () => {
  const [formData, setFormData] = useState<StudentFormData>({
    firstName: '',
    lastName: '',
    age: '',
    grade: ''
  });

  const [formState, setFormState] = useState<FormState>({
    loading: false,
    error: null,
    success: false
  });

  const resetForm = () => {
    setFormData({
      firstName: '',
      lastName: '',
      age: '',
      grade: ''
    });
    setFormState({
      loading: false,
      error: null,
      success: false
    });
  };

  const validateForm = (): boolean => {
    if (!formData.firstName.trim() || !formData.lastName.trim()) {
      setFormState(prev => ({ ...prev, error: 'First and last name are required' }));
      return false;
    }
    if (!formData.age || parseInt(formData.age) < 4 || parseInt(formData.age) > 18) {
      setFormState(prev => ({ ...prev, error: 'Age must be between 4 and 18' }));
      return false;
    }
    if (!formData.grade.trim()) {
      setFormState(prev => ({ ...prev, error: 'Grade is required' }));
      return false;
    }
    return true;
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    const parentId = auth.currentUser?.uid;
    
    if (!parentId) {
      setFormState(prev => ({ ...prev, error: 'Parent authentication required' }));
      return;
    }

    if (!validateForm()) return;

    setFormState(prev => ({ ...prev, loading: true, error: null }));
    
    try {
      await addDoc(collection(db, 'students'), {
        ...formData,
        parentId,
        createdAt: new Date().toISOString()
      });
      
      setFormState({ loading: false, error: null, success: true });
      setTimeout(resetForm, 3000);
    } catch (error) {
      setFormState({
        loading: false,
        error: error instanceof Error ? error.message : 'An error occurred',
        success: false
      });
    }
  };

  return (
    <FormContainer>
      {formState.success && (
        <SuccessMessage>Student added successfully!</SuccessMessage>
      )}
      {formState.error && (
        <ErrorMessage>{formState.error}</ErrorMessage>
      )}
      <Form onSubmit={handleSubmit}>
        <FormGroup>
          <Label>First Name *</Label>
          <Input
            type="text"
            value={formData.firstName}
            onChange={(e) => setFormData({...formData, firstName: e.target.value})}
            disabled={formState.loading}
            required
          />
        </FormGroup>
        <FormGroup>
          <Label>Last Name *</Label>
          <Input
            type="text"
            value={formData.lastName}
            onChange={(e) => setFormData({...formData, lastName: e.target.value})}
            disabled={formState.loading}
            required
          />
        </FormGroup>
        <FormGroup>
          <Label>Age *</Label>
          <Input
            type="number"
            min="4"
            max="18"
            value={formData.age}
            onChange={(e) => setFormData({...formData, age: e.target.value})}
            disabled={formState.loading}
            required
          />
        </FormGroup>
        <FormGroup>
          <Label>Grade *</Label>
          <Input
            type="text"
            value={formData.grade}
            onChange={(e) => setFormData({...formData, grade: e.target.value})}
            disabled={formState.loading}
            required
          />
        </FormGroup>
        <SubmitButton type="submit" disabled={formState.loading}>
          {formState.loading ? 'Adding Student...' : 'Add Student'}
        </SubmitButton>
      </Form>
    </FormContainer>
  );
};

const FormContainer = styled.div`
  max-width: 500px;
  margin: 2rem auto;
  padding: 2rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;

const Form = styled.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;

const FormGroup = styled.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`;

const Label = styled.label`
  font-weight: 500;
  color: var(--text-color);
`;

const Input = styled.input`
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;

  &:focus {
    outline: none;
    border-color: var(--primary-color);
  }

  &:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
  }
`;

const SubmitButton = styled.button`
  padding: 0.75rem;
  background: var(--primary-color);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.2s;

  &:hover:not(:disabled) {
    background: var(--secondary-color);
  }

  &:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
`;

const Message = styled.div`
  padding: 1rem;
  margin-bottom: 1rem;
  border-radius: 4px;
`;

const SuccessMessage = styled(Message)`
  background: var(--success-color);
  color: white;
`;

const ErrorMessage = styled(Message)`
  background: var(--danger-color);
  color: white;
`;

export default StudentProfileForm;

====================================================================================================
FILE: src/pages/styles/Contact.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/styles/Contact.css
SIZE: 1366 bytes
SHA256: 754636fcf906300e8144285dfc0bd6733f849b8adc9c81c3b9f4d2eec8c99873
====================================================================================================
.contact-container {
  padding: 2rem 0 3rem;
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.form-group input,
.form-group textarea {
  padding: 0.75rem 1rem;
  border-radius: 12px;
  border: 1px solid var(--border-color);
  background: rgba(255, 255, 255, 0.8);
  color: var(--text-primary);
  font-family: inherit;
}

.form-group input:focus,
.form-group textarea:focus {
  outline: 2px solid var(--accent-color);
  outline-offset: 2px;
}

.contact-hero {
  display: grid;
  gap: 0.75rem;
}

.contact-hero h1 {
  font-size: clamp(2.2rem, 3vw, 3.2rem);
}

.contact-hero p {
  color: var(--text-secondary);
  max-width: 720px;
}

.contact-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.social-links {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
  flex-wrap: wrap;
}

.contact-form {
  padding: 1.5rem;
}

.contact-info {
  padding: 1.5rem;
  display: grid;
  gap: 1rem;
}

.contact-info p {
  color: var(--text-secondary);
}

.info-item {
  display: grid;
  gap: 0.25rem;
}

.social-links a {
  color: inherit;
  text-decoration: none;
  font-weight: 600;
  padding: 0.4rem 0.75rem;
  border-radius: 999px;
  border: 1px solid var(--border-color);
}

====================================================================================================
FILE: src/pages/TakeAssessment.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/TakeAssessment.tsx
SIZE: 4284 bytes
SHA256: 6d5d6d1edec35f3f5d8206eca20a2322965c66e2e2c6d6da518901435419bb44
====================================================================================================
import React, { useState, useEffect } from 'react';
import { useAuth } from "../contexts/AuthContext";
import { useParams } from "react-router-dom";
import { getStudentProfile, updateStudentAssessmentStatus } from "../services/profileService";
import type { Student } from '../types/student';
import styled from 'styled-components';
import LearningStyleChat from '../components/chat/LearningStyleChat';

const TakeAssessment: React.FC = () => {
  const { currentUser } = useAuth();
  const { studentId } = useParams<{ studentId: string }>();
  const [student, setStudent] = useState<Student | null>(null);
  const [loading, setLoading] = useState<boolean>(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchStudent = async (): Promise<void> => {
      if (!studentId || !currentUser) {
        setLoading(false);
        return;
      }
      
      try {
        const studentProfile = await getStudentProfile(studentId);
        if (!studentProfile || !studentProfile.id) {
          setError("Student profile not found");
        } else {
          setStudent({
            ...studentProfile,
            id: studentProfile.id
          });
        }
      } catch (error) {
        console.error("Error fetching student profile:", error);
        setError("Failed to load student profile");
      } finally {
        setLoading(false);
      }
    };

    fetchStudent();
  }, [currentUser, studentId]);

  const handleAssessmentCompletion = async (): Promise<void> => {
    if (!studentId) {
      setError("Student ID is required");
      return;
    }

    try {
      setLoading(true);
      await updateStudentAssessmentStatus(studentId, "completed");
      setStudent(prev => prev ? { ...prev, hasTakenAssessment: true } : null);
    } catch (error) {
      console.error("Error completing assessment:", error);
      setError("Failed to complete assessment");
    } finally {
      setLoading(false);
    }
  };

  if (loading) {
    return <LoadingContainer>Loading assessment...</LoadingContainer>;
  }

  if (error) {
    return <ErrorContainer>{error}</ErrorContainer>;
  }

  if (!student) {
    return <ErrorContainer>No student found</ErrorContainer>;
  }

  return (
    <AssessmentContainer>
      <Header>
        <h1>Learning Style Assessment</h1>
        <StudentName>for {student.name}</StudentName>
      </Header>

      <ContentSection>
        <p>Chat with our AI assistant to help determine your learning style. The assistant will ask you questions and analyze your responses to identify the learning style that best suits you.</p>
        <LearningStyleChat />
      </ContentSection>

      <ActionSection>
        <CompleteButton 
          onClick={handleAssessmentCompletion}
          disabled={loading}
        >
          {loading ? "Completing..." : "Complete Assessment"}
        </CompleteButton>
      </ActionSection>
    </AssessmentContainer>
  );
};

const AssessmentContainer = styled.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
`;

const Header = styled.div`
  text-align: center;
  margin-bottom: 2rem;

  h1 {
    color: var(--primary-color);
    margin-bottom: 0.5rem;
  }
`;

const StudentName = styled.h2`
  font-size: 1.25rem;
  color: var(--text-color);
`;

const ContentSection = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  margin-bottom: 2rem;
`;

const ActionSection = styled.div`
  display: flex;
  justify-content: center;
`;

const CompleteButton = styled.button`
  padding: 0.75rem 1.5rem;
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: var(--primary-dark);
  }

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
`;

const LoadingContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 200px;
  font-size: 1.1rem;
  color: var(--text-color);
`;

const ErrorContainer = styled.div`
  text-align: center;
  padding: 2rem;
  color: #dc2626;
  background-color: #fee2e2;
  border-radius: 8px;
  margin: 2rem auto;
  max-width: 600px;
`;

export default TakeAssessment;

====================================================================================================
FILE: src/pages/Todos.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/Todos.tsx
SIZE: 777 bytes
SHA256: 925a40bf6f91689984955dbfb5be73e5b8cf03424e759ec61ffa32d619b8c439
====================================================================================================
import { useState, useEffect } from 'react';
import supabase from '../utils/supabase';

interface Todo {
  id: number;
  title: string;
  // Add other todo properties as needed
}

function Todos() {
  const [todos, setTodos] = useState<Todo[]>([]);

  useEffect(() => {
    async function getTodos() {
      const { data, error } = await supabase.from('todos').select('*');
      
      if (error) {
        console.error('Error fetching todos:', error);
        return;
      }

      if (data && data.length > 0) {
        setTodos(data);
      }
    }

    getTodos();
  }, []);

  return (
    <div>
      <h1>Todos</h1>
      <ul>
        {todos.map((todo) => (
          <li key={todo.id}>{todo.title}</li>
        ))}
      </ul>
    </div>
  );
}

export default Todos;

====================================================================================================
FILE: src/pages/values/Collaboration.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/values/Collaboration.tsx
SIZE: 2532 bytes
SHA256: f57496e1b516f87b4ab5f327c7e43bd43376ea04a056ae7bfa687715c45ae974
====================================================================================================
import React, { useState } from 'react';
import styled from 'styled-components';
import { motion as m } from 'framer-motion';
import { FaUsers } from 'react-icons/fa';
import { useAuth } from '../../contexts/AuthContext';
import { DefaultTheme } from 'styled-components';

interface ThemeProps {
  theme: DefaultTheme;
}

const Collaboration: React.FC = () => {
  const { loginWithGoogle } = useAuth();
  const [error, setError] = useState<string>('');

  const handleGoogleLogin = async () => {
    try {
      setError('');
      await loginWithGoogle();
      // Handle navigation to /dashboard after successful login
    } catch (err) {
      // Handle error as string per user preference
      setError(err instanceof Error ? err.message : 'An error occurred during login');
    }
  };

  return (
    <ValueContainer
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
    >
      <ValueHeader>
        <FaUsers size={40} />
        <h1>Collaboration</h1>
      </ValueHeader>
      <ValueContent>
        <p>We believe in the power of working together:</p>
        <ValuePoints>
          <li>Fostering partnerships between teachers, students, and parents</li>
          <li>Creating supportive learning communities</li>
          <li>Encouraging peer-to-peer learning</li>
          <li>Building strong educational networks</li>
        </ValuePoints>
        <button onClick={handleGoogleLogin}>Sign in with Google</button>
        {error && <ErrorMessage>{error}</ErrorMessage>}
      </ValueContent>
    </ValueContainer>
  );
};

const ValueContainer = styled(m.div)`
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
  padding: 2rem;
  margin-bottom: 2rem;
`;

const ValueHeader = styled.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;

  h1 {
    font-size: 2rem;
    color: var(--primary-color);
  }

  svg {
    color: var(--primary-color);
  }
`;

const ValueContent = styled.div`
  p {
    font-size: 1.2rem;
    color: var(--text-color);
    margin-bottom: 1rem;
  }
`;

const ValuePoints = styled.ul`
  list-style: none;
  padding: 0;

  li {
    font-size: 1rem;
    color: var(--text-color);
    margin-bottom: 0.5rem;
    padding-left: 1.5rem;
    position: relative;

    &::before {
      content: '';
      color: var(--primary-color);
      position: absolute;
      left: 0;
    }
  }
`;

const ErrorMessage = styled.div`
  color: red;
  margin-top: 1rem;
`;

export default Collaboration;

====================================================================================================
FILE: src/pages/values/Excellence.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/values/Excellence.tsx
SIZE: 2845 bytes
SHA256: 49b9628cef598f0e2f24afd3ab6f26483449be42816e65f4421481b490213523
====================================================================================================
import React, { useState } from 'react';
import styled, { DefaultTheme } from 'styled-components';
import { motion as m } from 'framer-motion';
import { FaTrophy } from 'react-icons/fa';
import { useAuth } from '../../contexts/AuthContext';

interface ThemeProps {
  theme: DefaultTheme;
}

const Excellence: React.FC = () => {
  const { loginWithGoogle } = useAuth();
  const [error, setError] = useState<string>('');

  const handleGoogleLogin = async () => {
    try {
      setError('');
      await loginWithGoogle();
      // Handle navigation to /dashboard after successful login
    } catch (err) {
      setError(err instanceof Error ? err.message : 'An error occurred during login');
      console.error('Login error:', err);
    }
  };

  return (
    <ValueContainer
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
    >
      <ValueHeader>
        <FaTrophy size={40} />
        <h1>Excellence</h1>
      </ValueHeader>
      <ValueContent>
        <p>We strive for excellence in every aspect of education:</p>
        <ValuePoints>
          <li>Setting high academic standards while supporting individual growth</li>
          <li>Continuously improving our teaching methodologies</li>
          <li>Providing top-quality educational resources</li>
          <li>Measuring and celebrating student achievements</li>
        </ValuePoints>
        <GoogleButton onClick={handleGoogleLogin}>
          Sign in with Google
        </GoogleButton>
        {error && <ErrorMessage>{error}</ErrorMessage>}
      </ValueContent>
    </ValueContainer>
  );
};

const ValueContainer = styled(m.div)`
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
  padding: 2rem;
  margin-bottom: 2rem;
`;

const ValueHeader = styled.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;

  h1 {
    font-size: 2rem;
    color: var(--primary-color);
  }

  svg {
    color: var(--primary-color);
  }
`;

const ValueContent = styled.div`
  p {
    font-size: 1.2rem;
    color: var(--text-color);
    margin-bottom: 1rem;
  }
`;

const ValuePoints = styled.ul`
  list-style: none;
  padding: 0;
  margin: 0;

  li {
    font-size: 1rem;
    color: var(--text-color);
    margin-bottom: 0.5rem;
    padding-left: 1rem;
    position: relative;

    &::before {
      content: '';
      color: var(--primary-color);
      position: absolute;
      left: 0;
    }
  }
`;

const GoogleButton = styled.button`
  margin-top: 1rem;
  padding: 0.5rem 1rem;
  background-color: #4285f4;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1rem;

  &:hover {
    background-color: #357ae8;
  }
`;

const ErrorMessage = styled.div`
  margin-top: 1rem;
  color: red;
  font-size: 0.875rem;
`;

export default Excellence;

====================================================================================================
FILE: src/pages/values/Innovation.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/values/Innovation.tsx
SIZE: 3209 bytes
SHA256: d767d2f5641349a4aa36fb996e4ec7d5f75ee2a986cf7b5a5cdb1be3749b9229
====================================================================================================
import React, { useState } from 'react';
import styled from 'styled-components';
import { motion as m } from 'framer-motion';
import { FaLightbulb } from 'react-icons/fa';
import { useAuth } from '../../contexts/AuthContext';
import { FcGoogle } from 'react-icons/fc';
import { useNavigate } from 'react-router-dom';

const Innovation: React.FC = () => {
  const { loginWithGoogle } = useAuth();
  const navigate = useNavigate();
  const [error, setError] = useState<string>('');

  const handleGoogleLogin = async (): Promise<void> => {
    try {
      setError('');
      await loginWithGoogle();
      navigate('/dashboard');
    } catch (err) {
      setError(err instanceof Error ? err.message : 'An error occurred');
      console.error('Login error:', err);
    }
  };

  return (
    <ValueContainer
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
    >
      <ValueHeader>
        <FaLightbulb size={40} />
        <h1>Innovation</h1>
      </ValueHeader>
      <ValueContent>
        <p>Innovation drives our approach to personalized learning:</p>
        <ValuePoints>
          <li>Leveraging cutting-edge educational technology</li>
          <li>Developing adaptive learning pathways</li>
          <li>Creating interactive and engaging content</li>
          <li>Implementing data-driven teaching methods</li>
        </ValuePoints>
        {error && (
          <ErrorMessage>{error}</ErrorMessage>
        )}
        <GoogleButton onClick={handleGoogleLogin}>
          <FcGoogle className="text-xl" />
          Sign in with Google
        </GoogleButton>
      </ValueContent>
    </ValueContainer>
  );
};

const ValueContainer = styled(m.div)`
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
  margin-bottom: 2rem;
`;

const ValueHeader = styled.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;

  h1 {
    font-size: 2rem;
    color: var(--primary-color);
  }

  svg {
    color: var(--primary-color);
  }
`;

const ValueContent = styled.div`
  p {
    font-size: 1.2rem;
    color: var(--text-color);
    margin-bottom: 1rem;
  }
`;

const ValuePoints = styled.ul`
  list-style: none;
  padding: 0;

  li {
    font-size: 1rem;
    color: var(--text-color);
    margin-bottom: 0.5rem;
    padding-left: 1.5rem;
    position: relative;

    &::before {
      content: '';
      position: absolute;
      left: 0;
      color: var(--primary-color);
    }
  }
`;

const ErrorMessage = styled.div`
  background-color: #fee2e2;
  color: #dc2626;
  padding: 0.75rem;
  border-radius: 4px;
  margin-bottom: 1rem;
  font-size: 0.875rem;
  text-align: center;
`;

const GoogleButton = styled.button`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  border: 1px solid #e2e8f0;
  border-radius: 0.5rem;
  background-color: white;
  color: #333;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f8fafc;
  }

  &:focus {
    outline: none;
    ring: 2px;
    ring-offset: 2px;
    ring-blue-500;
  }
`;

export default Innovation;

====================================================================================================
FILE: src/pages/values/Integrity.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/values/Integrity.tsx
SIZE: 3154 bytes
SHA256: 2ac52e864d65bd5c0e79f8c662b646fb78f6cbf8246bd1426ce82730eaf2302c
====================================================================================================
import React, { useState } from 'react';
import styled from 'styled-components';
import { motion } from 'framer-motion';
import { FaBalanceScale } from 'react-icons/fa';
import { useNavigate } from 'react-router-dom';
import { useAuth } from '../../contexts/AuthContext';
import { FcGoogle } from 'react-icons/fc';

const Integrity: React.FC = () => {
  const { loginWithGoogle } = useAuth();
  const navigate = useNavigate();
  const [error, setError] = useState<string>("");

  const handleGoogleLogin = async (): Promise<void> => {
    try {
      setError("");
      await loginWithGoogle();
      navigate("/dashboard");
    } catch (err) {
      setError(err instanceof Error ? err.message : "An error occurred");
      console.error("Login error:", err);
    }
  };

  return (
    <ValueContainer
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
    >
      <ValueHeader>
        <FaBalanceScale size={40} />
        <h1>Integrity</h1>
      </ValueHeader>
      <ValueContent>
        <p>At Geaux Academy, integrity is the foundation of everything we do. We believe in:</p>
        <ValuePoints>
          <li>Maintaining the highest ethical standards in education</li>
          <li>Being transparent with our teaching methods and student progress</li>
          <li>Creating a safe and honest learning environment</li>
          <li>Delivering on our promises to students and parents</li>
        </ValuePoints>
        {error && (
          <ErrorMessage>{error}</ErrorMessage>
        )}
        <GoogleButton onClick={handleGoogleLogin}>
          <FcGoogle className="text-xl" />
          Sign in with Google
        </GoogleButton>
      </ValueContent>
    </ValueContainer>
  );
};

const ValueContainer = styled(motion.div)`
  max-width: 800px;
  margin: 80px auto;
  padding: 2rem;
`;

const ValueHeader = styled.div`
  text-align: center;
  margin-bottom: 2rem;
  color: var(--primary-color);

  h1 {
    margin-top: 1rem;
    font-size: 2.5rem;
  }
`;

const ValueContent = styled.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
`;

const ValuePoints = styled.ul`
  list-style-type: none;
  padding: 0;
  margin-top: 1rem;

  li {
    padding: 1rem;
    margin-bottom: 1rem;
    background: var(--background-alt);
    border-radius: 4px;
    
    &:hover {
      transform: translateX(5px);
      transition: transform 0.2s;
    }
  }
`;

const ErrorMessage = styled.div`
  background-color: #fee2e2;
  color: #dc2626;
  padding: 0.75rem;
  border-radius: 4px;
  margin-bottom: 1rem;
  font-size: 0.875rem;
  text-align: center;
`;

const GoogleButton = styled.button`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  border: 1px solid #e2e8f0;
  border-radius: 0.5rem;
  background-color: white;
  color: #333;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f8fafc;
  }

  &:focus {
    outline: none;
    ring: 2px;
    ring-offset: 2px;
    ring-blue-500;
  }
`;

export default Integrity;

====================================================================================================
FILE: src/pages/VarkStyles.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/pages/VarkStyles.tsx
SIZE: 6306 bytes
SHA256: 800cde282652cc202f8851b33f958f50bcd1dfbe63e607aa683cd2a66b50a8e4
====================================================================================================
import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import styled from 'styled-components';
import { motion as m } from 'framer-motion';
import { FaEye, FaHeadphones, FaBookReader, FaRunning } from 'react-icons/fa';
import { useAuth } from '../contexts/AuthContext';

interface LearningStyle {
  icon: JSX.Element;
  title: string;
  description: string;
  characteristics: string[];
}

const VarkStyles: React.FC = () => {
  const { loginWithGoogle } = useAuth();
  const navigate = useNavigate();
  const [error, setError] = useState<string>("");

  const handleGoogleLogin = async (): Promise<void> => {
    try {
      setError("");
      await loginWithGoogle();
      navigate("/dashboard");
    } catch (err) {
      setError(err instanceof Error ? err.message : "An error occurred");
      console.error("Login error:", err);
    }
  };

  const styles: LearningStyle[] = [
    {
      icon: <FaEye />,
      title: "Visual Learning",
      description: "Learn through seeing and observing",
      characteristics: [
        "Prefer diagrams and charts",
        "Remember visual details",
        "Benefit from visual aids",
        "Excel with graphic organizers"
      ]
    },
    {
      icon: <FaHeadphones />,
      title: "Auditory Learning",
      description: "Learn through listening and speaking",
      characteristics: [
        "Excel in discussions",
        "Remember spoken information",
        "Benefit from lectures",
        "Learn through verbal repetition"
      ]
    },
    {
      icon: <FaBookReader />,
      title: "Read/Write Learning",
      description: "Learn through written words",
      characteristics: [
        "Enjoy reading materials",
        "Take detailed notes",
        "Prefer written instructions",
        "Learn through writing summaries"
      ]
    },
    {
      icon: <FaRunning />,
      title: "Kinesthetic Learning",
      description: "Learn through doing and experiencing",
      characteristics: [
        "Learn by doing",
        "Prefer hands-on activities",
        "Remember through practice",
        "Benefit from role-playing"
      ]
    }
  ];

  return (
    <Container>
      <Header>
        <m.h1
          initial={{ opacity: 0, y: -20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5 }}
        >
          Discover Your VARK Learning Style
        </m.h1>
        <m.p
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ delay: 0.2, duration: 0.5 }}
        >
          Understanding how you learn best is the first step to academic success
        </m.p>
      </Header>

      <StylesGrid>
        {styles.map((style, index) => (
          <StyleCard
            key={index}
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: index * 0.1 + 0.3 }}
          >
            <IconWrapper>{style.icon}</IconWrapper>
            <h2>{style.title}</h2>
            <p>{style.description}</p>
            <CharacteristicsList>
              {style.characteristics.map((item, i) => (
                <li key={i}>{item}</li>
              ))}
            </CharacteristicsList>
          </StyleCard>
        ))}
      </StylesGrid>

      <CTASection>
        <h2>Ready to optimize your learning journey?</h2>
        <p>Take our assessment to discover your learning style and get personalized recommendations.</p>
        <ButtonGroup>
          <PrimaryButton to="/signup">Get Started Now</PrimaryButton>
          <SecondaryButton to="/about">Learn More</SecondaryButton>
        </ButtonGroup>
      </CTASection>

      <GoogleLoginSection>
        <GoogleButton onClick={handleGoogleLogin}>
          Sign in with Google
        </GoogleButton>
        {error && <ErrorMessage>{error}</ErrorMessage>}
      </GoogleLoginSection>
    </Container>
  );
};

const Container = styled(m.div)`
  max-width: 1200px;
  margin: 0 auto;
  padding: 4rem 2rem;
`;

const Header = styled(m.header)`
  text-align: center;
  margin-bottom: 3rem;

  h1 {
    font-size: 2.5rem;
    color: var(--primary-color);
  }

  p {
    font-size: 1.25rem;
    color: var(--text-color);
  }
`;

const StylesGrid = styled.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  margin: 3rem 0;
`;

const StyleCard = styled(m.div)`
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
  }
`;

const IconWrapper = styled.div`
  font-size: 2.5rem;
  color: var(--primary-color);
  margin-bottom: 1rem;
`;

const CharacteristicsList = styled.ul`
  list-style: none;
  padding: 0;
  margin-top: 1rem;

  li {
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    position: relative;

    &:before {
      content: "";
      color: var(--primary-color);
      position: absolute;
      left: 0;
    }
  }
`;

const CTASection = styled.div`
  text-align: center;
  margin-top: 4rem;
  padding: 3rem;
  background: var(--background-alt);
  border-radius: 12px;

  h2 {
    color: var(--primary-color);
    margin-bottom: 1rem;
  }

  p {
    margin-bottom: 2rem;
  }
`;

const ButtonGroup = styled.div`
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
`;

const Button = styled(Link)`
  padding: 1rem 2rem;
  border-radius: 8px;
  font-weight: 600;
  text-decoration: none;
  transition: transform 0.2s ease;

  &:hover {
    transform: scale(1.05);
  }
`;

const PrimaryButton = styled(Button)`
  background-color: var(--primary-color);
  color: white;
`;

const SecondaryButton = styled(Button)`
  background-color: transparent;
  color: var(--primary-color);
  border: 2px solid var(--primary-color);
`;

const GoogleLoginSection = styled.div`
  text-align: center;
  margin-top: 2rem;
`;

const GoogleButton = styled.button`
  background-color: #4285f4;
  color: white;
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.2s;

  &:hover {
    background-color: #357ae8;
  }
`;

const ErrorMessage = styled.div`
  color: red;
  margin-top: 1rem;
`;

export default VarkStyles;

====================================================================================================
FILE: src/server/main.py
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/server/main.py
SIZE: 510 bytes
SHA256: 4cb543190933dd7965fce9c1c579633dc3caf9cfc00aeed3c10d63024d052ec1
====================================================================================================

from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from routes.student_routes import router as student_router

app = FastAPI()

# Configure CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:5173"],  # Your Vue.js dev server
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

app.include_router(student_router, prefix="/api")

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)

====================================================================================================
FILE: src/server/routes/student_routes.py
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/server/routes/student_routes.py
SIZE: 1749 bytes
SHA256: f02bdc842913c029bda8008fb192d9a0be866d7d46e7f05e955b228f8fee8aef
====================================================================================================
from fastapi import APIRouter, HTTPException
from pydantic import BaseModel
from datetime import datetime
import time

router = APIRouter()

class StudentCreate(BaseModel):
    name: str

class StudentUpdate(BaseModel):
    name: str

class Student(StudentCreate):
    id: int
    created_at: datetime

students_db = {}

@router.post("/students", response_model=Student)
async def create_student(student: StudentCreate):
    try:
        new_student = Student(
            id=int(time.time()),
            name=student.name,
            created_at=datetime.now()
        )
        students_db[new_student.id] = new_student
        return new_student
    except Exception as e:
        raise HTTPException(status_code=500, detail="Failed to create student profile")

@router.get("/students/{student_id}", response_model=Student)
async def get_student(student_id: int):
    student = students_db.get(student_id)
    if not student:
        raise HTTPException(status_code=404, detail="Student not found")
    return student

@router.put("/students/{student_id}", response_model=Student)
async def update_student(student_id: int, student_update: StudentUpdate):
    student = students_db.get(student_id)
    if not student:
        raise HTTPException(status_code=404, detail="Student not found")
    updated_student = Student(id=student_id, name=student_update.name, created_at=student.created_at)
    students_db[student_id] = updated_student
    return updated_student

@router.delete("/students/{student_id}")
async def delete_student(student_id: int):
    student = students_db.pop(student_id, None)
    if not student:
        raise HTTPException(status_code=404, detail="Student not found")
    return {"detail": "Student deleted successfully"}

====================================================================================================
FILE: src/server/routes/studentRoutes.js
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/server/routes/studentRoutes.js
SIZE: 1950 bytes
SHA256: 0ae48eddd6edc495940597fc608ffb6e82588dbb48a3e01d378a9c32bc204277
====================================================================================================
const express = require('express');
const router = express.Router();

// ...existing code...

router.post('/students', async (req, res) => {
  try {
    const { name } = req.body;
    // Here you would typically create a new student in your database
    // This is a mock response
    const newStudent = {
      id: Date.now(),
      name,
      createdAt: new Date()
    };
    res.status(201).json(newStudent);
  } catch (error) {
    res.status(500).json({ error: `Failed to create student profile: ${error.message}` });
  }
});

router.get('/students/:student_id', async (req, res) => {
  try {
    const { student_id } = req.params;
    // Here you would typically fetch the student from your database
    // This is a mock response
    const student = {
      id: student_id,
      name: 'John Doe',
      createdAt: new Date()
    };
    res.status(200).json(student);
  } catch (error) {
    res.status(500).json({ error: `Failed to get student profile: ${error.message}` });
  }
});

router.put('/students/:student_id', async (req, res) => {
  try {
    const { student_id } = req.params;
    const { name } = req.body;
    // Here you would typically update the student in your database
    // This is a mock response
    const updatedStudent = {
      id: student_id,
      name,
      createdAt: new Date()
    };
    res.status(200).json(updatedStudent);
  } catch (error) {
    res.status(500).json({ error: `Failed to update student profile: ${error.message}` });
  }
});

router.delete('/students/:student_id', async (req, res) => {
  try {
    const { student_id } = req.params;
    // Here you would typically delete the student from your database
    // This is a mock response
    res.status(200).json({ detail: `Student ${student_id} deleted successfully` });
  } catch (error) {
    res.status(500).json({ error: `Failed to delete student profile: ${error.message}` });
  }
});

// ...existing code...

module.exports = router;

====================================================================================================
FILE: src/services/__tests__/websocketService.reconnect.test.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/__tests__/websocketService.reconnect.test.ts
SIZE: 3700 bytes
SHA256: cc1aa12566017de566840cc8e7689a1e6dccca0afa1db7d0ad8989ecdd4735b0
====================================================================================================
// File: /src/services/__tests__/websocketService.reconnect.test.ts
import websocketService from '../websocketService';
import { WebSocketMock } from '../../test/mocks/WebSocketMock';

describe('WebSocketService - Reconnection', () => {
  let mockWebSocket: WebSocketMock;
  
  beforeEach(() => {
    jest.useFakeTimers();
    localStorage.getItem = jest.fn().mockResolvedValue('test-token');
    
    mockWebSocket = new WebSocketMock('ws://test.com');
    
    // Assign the mock constructor to global WebSocket
    (global as any).WebSocket = jest.fn().mockImplementation(() => mockWebSocket);
  });

  afterEach(() => {
    jest.useRealTimers();
    jest.restoreAllMocks();
  });

  it('should attempt reconnection with exponential backoff', async () => {
    const connectSpy = jest.spyOn(websocketService as any, 'connect');
    await websocketService.connect();

    // Simulate connection error and close
    mockWebSocket.mockError();
    mockWebSocket.mockClose();

    // First reconnect attempt (1s  30% jitter)
    jest.advanceTimersByTime(1000);
    expect(connectSpy).toHaveBeenCalledTimes(2);

    // Second reconnect attempt (2s  30% jitter)
    jest.advanceTimersByTime(2000);
    expect(connectSpy).toHaveBeenCalledTimes(3);

    // Third reconnect attempt (4s  30% jitter)
    jest.advanceTimersByTime(4000);
    expect(connectSpy).toHaveBeenCalledTimes(4);
  });

  it('should stop reconnecting after max attempts', async () => {
    const connectSpy = jest.spyOn(websocketService as any, 'connect');
    const errorHandler = jest.fn();
    websocketService.subscribe('error', errorHandler);
    
    await websocketService.connect();

    // Simulate multiple connection failures
    for (let i = 0; i < 6; i++) {
      mockWebSocket.mockError();
      mockWebSocket.mockClose();
      jest.advanceTimersByTime(30000);
    }

    expect(connectSpy).toHaveBeenCalledTimes(6); // Initial + 5 retries
    expect(errorHandler).toHaveBeenCalledWith(
      expect.any(Error)
    );
    expect(errorHandler.mock.calls[0][0].message).toMatch(/Failed to reconnect/);
  });

  it('should reset reconnection attempts on successful connection', async () => {
    await websocketService.connect();

    // Simulate two failed connections
    mockWebSocket.mockError();
    mockWebSocket.mockClose();
    jest.advanceTimersByTime(1000);
    
    mockWebSocket.mockError();
    mockWebSocket.mockClose();
    jest.advanceTimersByTime(2000);

    // Simulate successful connection
    mockWebSocket.mockSetReadyState(WebSocketMock.OPEN);
    mockWebSocket.mockOpen();

    // Verify attempts were reset by checking next reconnection
    mockWebSocket.mockError();
    mockWebSocket.mockClose();

    const reconnectSpy = jest.spyOn(websocketService as any, 'attemptReconnect');
    jest.advanceTimersByTime(1000);

    expect(reconnectSpy).toHaveBeenCalled();
    expect(websocketService as any).toHaveProperty('reconnectAttempts', 1);
  });

  it('should maintain message queue during reconnection', async () => {
    await websocketService.connect();
    
    // Queue a message while disconnected
    mockWebSocket.mockSetReadyState(WebSocketMock.CLOSED);
    websocketService.subscribeToTask('test-task');

    // Create new mock for reconnection
    const newMockWebSocket = new WebSocketMock('ws://test.com');
    const sendSpy = jest.spyOn(newMockWebSocket, 'send');
    
    // Update the mock WebSocket constructor
    (global as any).WebSocket = jest.fn().mockImplementation(() => newMockWebSocket);
    
    await websocketService.connect();
    newMockWebSocket.mockOpen();

    expect(sendSpy).toHaveBeenCalledWith(
      expect.stringContaining('test-task')
    );
  });
});

====================================================================================================
FILE: src/services/__tests__/websocketService.test.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/__tests__/websocketService.test.ts
SIZE: 4880 bytes
SHA256: 3784ace07b3283fa4c1af0ee72ac1fa07e81862eea7be0fb122f70177e6084e0
====================================================================================================
// File: /src/services/__tests__/websocketService.test.ts
// Description: Unit tests for WebSocket service

import { WebSocketService } from '../websocketService';
import { TaskStatus, TaskResult } from '../../types/task';

// Mock WebSocket
class MockWebSocket {
  private listeners: Record<string, Function[]> = {
    open: [],
    message: [],
    close: [],
    error: []
  };
  public readyState = 0;

  constructor(public url: string) {
    setTimeout(() => {
      this.readyState = 1;
      this.listeners.open.forEach(listener => listener());
    }, 0);
  }

  addEventListener(event: string, listener: Function) {
    this.listeners[event].push(listener);
  }

  send(data: string) {}

  close() {
    this.readyState = 3;
    this.listeners.close.forEach(listener => listener());
  }

  // Helper to simulate incoming messages
  _receiveMessage(data: any) {
    this.listeners.message.forEach(listener => 
      listener({ data: JSON.stringify(data) })
    );
  }

  // Helper to simulate errors
  _triggerError() {
    this.listeners.error.forEach(listener => listener());
  }
}

// Mock localStorage
const mockLocalStorage = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  clear: jest.fn()
};

Object.defineProperty(window, 'localStorage', {
  value: mockLocalStorage
});

describe('WebSocketService', () => {
  let service: WebSocketService;
  const baseUrl = 'ws://test.com';

  beforeEach(() => {
    // Reset mocks
    mockLocalStorage.getItem.mockReset();
    mockLocalStorage.setItem.mockReset();
    mockLocalStorage.clear.mockReset();

    // Create new service instance
    service = new WebSocketService(baseUrl);

    // Mock WebSocket global
    (global as any).WebSocket = MockWebSocket;
  });

  it('should connect to WebSocket server with auth token', async () => {
    const mockToken = 'test-token';
    mockLocalStorage.getItem.mockResolvedValue(mockToken);

    let connected = false;
    service.subscribe('connect', () => {
      connected = true;
    });

    await service.connect();
    expect(connected).toBe(true);
  });

  it('should handle task updates correctly', async () => {
    mockLocalStorage.getItem.mockResolvedValue('test-token');
    await service.connect();

    const mockStatus: TaskStatus = {
      status: 'in_progress',
      task_id: 'test-123',
      last_updated: new Date().toISOString()
    };

    let receivedStatus: TaskStatus | null = null;
    service.subscribe('task_update', (status) => {
      receivedStatus = status;
    });

    // Simulate incoming task update
    (global as any).WebSocket.prototype._receiveMessage({
      type: 'task_update',
      status: mockStatus
    });

    expect(receivedStatus).toEqual(mockStatus);
  });

  it('should handle task results correctly', async () => {
    mockLocalStorage.getItem.mockResolvedValue('test-token');
    await service.connect();

    const mockResult: TaskResult = {
      content: { test: 'data' }
    };

    let receivedResult: TaskResult | null = null;
    service.subscribe('task_result', (result) => {
      receivedResult = result;
    });

    // Simulate incoming task result
    (global as any).WebSocket.prototype._receiveMessage({
      type: 'task_result',
      result: mockResult
    });

    expect(receivedResult).toEqual(mockResult);
  });

  it('should attempt reconnection on disconnect', async () => {
    mockLocalStorage.getItem.mockResolvedValue('test-token');
    await service.connect();

    let disconnectCount = 0;
    let connectCount = 0;

    service.subscribe('disconnect', () => {
      disconnectCount++;
    });

    service.subscribe('connect', () => {
      connectCount++;
    });

    // Simulate disconnect
    (global as any).WebSocket.prototype._triggerError();

    // Wait for reconnect attempt
    await new Promise(resolve => setTimeout(resolve, 2000));

    expect(disconnectCount).toBeGreaterThan(0);
    expect(connectCount).toBeGreaterThan(1);
  });

  it('should handle subscription acknowledgments', async () => {
    mockLocalStorage.getItem.mockResolvedValue('test-token');
    await service.connect();

    let receivedAck: { task_id: string } | null = null;
    service.subscribe('subscription_ack', (ack) => {
      receivedAck = ack;
    });

    const mockTaskId = 'test-123';
    service.subscribeToTask(mockTaskId);

    // Simulate subscription acknowledgment
    (global as any).WebSocket.prototype._receiveMessage({
      type: 'subscription_ack',
      task_id: mockTaskId
    });

    expect(receivedAck).toEqual({ task_id: mockTaskId });
  });

  it('should clean up resources on disconnect', async () => {
    mockLocalStorage.getItem.mockResolvedValue('test-token');
    await service.connect();

    let disconnected = false;
    service.subscribe('disconnect', () => {
      disconnected = true;
    });

    service.disconnect();
    expect(disconnected).toBe(true);
  });
});

====================================================================================================
FILE: src/services/agentService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/agentService.ts
SIZE: 1728 bytes
SHA256: 4597ef12c8c3532bc50e25ef488f9a4597f40063e3aec3cfdf29f20bb3fa69b7
====================================================================================================
// frontend/src/services/agentService.ts
import { apiClient } from '../utils/apiClient';
import { TaskRequest, TaskStatus, TaskResult } from '../types/task';

export const agentService = {
  /**
   * Create a new agent task
   */
  createTask: async (taskRequest: TaskRequest): Promise<string> => {
    const response = await apiClient.post('/api/tasks', taskRequest);
    return response.data.task_id;
  },
  
  /**
   * Get the status of a task
   */
  getTaskStatus: async (taskId: string): Promise<TaskStatus> => {
    const response = await apiClient.get(`/api/tasks/${taskId}/status`);
    return response.data;
  },
  
  /**
   * Poll for task status until completion or error
   */
  pollTaskStatus: async (
    taskId: string, 
    onStatusUpdate: (status: TaskStatus) => void,
    intervalMs: number = 2000,
    maxAttempts: number = 30
  ): Promise<TaskResult | null> => {
    let attempts = 0;
    
    return new Promise((resolve, reject) => {
      const interval = setInterval(async () => {
        try {
          const status = await agentService.getTaskStatus(taskId);
          onStatusUpdate(status);
          
          if (status.status === 'completed') {
            clearInterval(interval);
            resolve(status.result);
          } else if (status.status === 'failed') {
            clearInterval(interval);
            reject(new Error(status.details || 'Task failed'));
          }
          
          attempts++;
          if (attempts >= maxAttempts) {
            clearInterval(interval);
            reject(new Error('Task polling timed out'));
          }
        } catch (error) {
          clearInterval(interval);
          reject(error);
        }
      }, intervalMs);
    });
  }
};

====================================================================================================
FILE: src/services/api.js
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/api.js
SIZE: 2727 bytes
SHA256: d32c536931e71b3672518f9cfec572ce1d01b708ff634ddfe2582074e2d748e8
====================================================================================================
import axios from 'axios';
import { auth } from '@/config/firebase';

const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL || 'https://learn.geaux.app',
  headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json',
  },
  timeout: 10000, // 10 second timeout
  withCredentials: true // Enable sending cookies in cross-origin requests
});

// Add request interceptor for auth headers
api.interceptors.request.use(
  async (config) => {
    const user = auth.currentUser;
    if (user) {
      try {
        const token = await user.getIdToken(true); // Get a fresh token
        config.headers.Authorization = `Bearer ${token}`;
      } catch (error) {
        console.error("Error refreshing token:", error);
        localStorage.removeItem('token');
      }
    }
    return config;
  },
  (error) => Promise.reject(error)
);

// Add response interceptor with enhanced error handling
api.interceptors.response.use(
  (response) => response,
  async (error) => {
    const originalRequest = error.config;

    // Handle unauthorized errors and try token refresh
    if (error.response?.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true;

      try {
        const user = auth.currentUser;
        if (user) {
          const newToken = await user.getIdToken(true);
          localStorage.setItem('token', newToken);
          originalRequest.headers.Authorization = `Bearer ${newToken}`;
          return api(originalRequest);
        }
      } catch (refreshError) {
        console.error("Token refresh failed. Logging out...", refreshError);
        localStorage.removeItem('token');
        window.location.href = '/login'; // Redirect to login
      }
    }

    // Handle other error cases
    console.error('API Error:', {
      status: error.response?.status,
      data: error.response?.data,
      request: error.request,
      message: error.message
    });

    // Enhanced error handling
    let errorMessage = "An error occurred. Please try again.";
    switch (error.response?.status) {
      case 400:
        errorMessage = "Bad request. Please check your input.";
        break;
      case 403:
        errorMessage = "You don't have permission to perform this action.";
        break;
      case 404:
        errorMessage = "The requested resource was not found.";
        break;
      case 500:
        errorMessage = "Internal server error. Please try again later.";
        break;
      case 503:
        errorMessage = "Service unavailable. Please try again later.";
        break;
      default:
        errorMessage = `Error: ${error.message}`;
    }

    return Promise.reject(new Error(errorMessage));
  }
);

export default api;

====================================================================================================
FILE: src/services/auth-service.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/auth-service.ts
SIZE: 426 bytes
SHA256: a4786773aafccb654be40945e2d8be5a709074d21c991d89d5d696c2cec5306b
====================================================================================================
import { signInWithPopup, GoogleAuthProvider } from 'firebase/auth';
import { auth } from '../config/firebase';

export const signInWithGoogle = async () => {
  const provider = new GoogleAuthProvider();
  try {
    const result = await signInWithPopup(auth, provider);
    return result.user;
  } catch (error) {
    console.error('Google sign-in error:', error);
    throw new Error('Failed to sign in with Google');
  }
};

====================================================================================================
FILE: src/services/cheshireService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/cheshireService.ts
SIZE: 6552 bytes
SHA256: 2fa43efc4698d312db3ba3aa04a5ba67653283e45592aa0e7b2831ee5482a885
====================================================================================================
import axios, { AxiosInstance } from 'axios';
import { auth } from '../config/firebase';

// Use environment variable if set, otherwise fall back to the production URL
const CHESHIRE_API_URL = import.meta.env.VITE_CHESHIRE_API_URL || 'https://cheshire.geaux.app';
const CHESHIRE_DEBUG = import.meta.env.VITE_CHESHIRE_DEBUG === 'true';

// Create axios instance with default configuration
const cheshireAxios: AxiosInstance = axios.create({
  baseURL: CHESHIRE_API_URL,
  headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json'
  },
  withCredentials: true,
  timeout: 30000
});

// Add authentication interceptor
cheshireAxios.interceptors.request.use(async (config) => {
  try {
    const user = auth.currentUser;
    if (user) {
      const token = await user.getIdToken();
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  } catch (error) {
    console.error('Auth interceptor error:', error);
    return Promise.reject(error);
  }
});

// Add response interceptor for better error handling
cheshireAxios.interceptors.response.use(
  (response) => response,
  (error) => {
    if (CHESHIRE_DEBUG) {
      console.error('Cheshire API Error:', {
        message: error.message,
        code: error.code,
        status: error.response?.status,
        data: error.response?.data,
        config: {
          url: error.config?.url,
          method: error.config?.method,
          headers: error.config?.headers
        }
      });
    }

    if (error.code === 'ERR_NETWORK') {
      console.error('Network error - Unable to connect to Cheshire API:', error);
      console.error('Please ensure the TIPI container is running and accessible at:', CHESHIRE_API_URL);
    }
    return Promise.reject(error);
  }
);

interface CheshireResponse {
  text: string;
  response: string;
  memories?: Array<{
    metadata?: {
      learning_style?: string;
    };
  }>;
}

interface CheshireUser {
  username: string;
  permissions: {
    CONVERSATION: string[];
    MEMORY: string[];
    STATIC: string[];
    STATUS: string[];
  };
}

interface AuthResponse {
  access_token: string;
  token_type: string;
}

interface CheshireError {
  message: string;
  code?: string;
  response?: {
    status: number;
    data: unknown;
  };
  config?: {
    url: string;
    method: string;
    headers: Record<string, string>;
  };
}

export class CheshireService {
  private static async getAuthHeaders() {
    const user = auth.currentUser;
    if (!user) {
      throw new Error('Authentication required');
    }
    const token = await user.getIdToken();
    return {
      Authorization: `Bearer ${token}`
    };
  }

  private static async getFirebaseToken(): Promise<string | null> {
    try {
      const user = auth.currentUser;
      if (!user) {
        throw new Error('No user logged in');
      }
      return await user.getIdToken();
    } catch (error) {
      console.error('Error getting Firebase token:', error);
      return null;
    }
  }

  static async checkTipiHealth(): Promise<{ status: string; version: string }> {
    try {
      const response = await cheshireAxios.get('/');
      return {
        status: 'healthy',
        version: response.data.version || 'unknown'
      };
    } catch (error) {
      const err = error as CheshireError;
      console.error('TIPI health check failed:', err);
      if (err.code === 'ERR_NETWORK') {
        throw new Error('TIPI container is not accessible. Please ensure it is running.');
      }
      throw err;
    }
  }

  static async initialize(): Promise<void> {
    try {
      // Check TIPI container health
      await this.checkTipiHealth();
      
      console.log(' Cheshire Cat service initialized successfully');
    } catch (error) {
      console.error(' Failed to initialize Cheshire Cat service:', error);
      throw error;
    }
  }

  static async checkConnection(): Promise<boolean> {
    try {
      const headers = await this.getAuthHeaders();
      await cheshireAxios.get('/', { headers });
      return true;
    } catch (error) {
      console.error('Cheshire API Connection Error:', error);
      return false;
    }
  }

  static async sendChatMessage(message: string, userId: string, chatId: string) {
    try {
      const headers = await this.getAuthHeaders();
      const response = await cheshireAxios.post<CheshireResponse>(
        '/message',
        { text: message },
        { headers }
      );
      
      return {
        data: response.data.response,
        memories: response.data.memories
      };
    } catch (error) {
      console.error('Error sending chat message:', error);
      throw this.getErrorMessage(error as CheshireError);
    }
  }

  static async createCheshireUser(firebaseUid: string, email: string): Promise<void> {
    try {
      const headers = await this.getAuthHeaders();
      const payload: CheshireUser = {
        username: email,
        permissions: {
          CONVERSATION: ["WRITE", "EDIT", "LIST", "READ", "DELETE"],
          MEMORY: ["READ", "LIST"],
          STATIC: ["READ"],
          STATUS: ["READ"]
        }
      };

      await cheshireAxios.post('/users/', payload, { headers });
    } catch (error) {
      console.error('Error creating Cheshire user:', error);
      throw this.getErrorMessage(error as CheshireError);
    }
  }

  static getErrorMessage(error: CheshireError): string {
    if (error.message === 'Authentication required') {
      return "Please log in to continue.";
    }
    if (error.message === 'Failed to obtain Cheshire auth token') {
      return "Unable to connect to the chat service. Please try again later.";
    }
    if (error.code === 'ECONNABORTED') {
      return "The request timed out. Please try again.";
    }
    if (error.code === 'ERR_NETWORK') {
      if (error.message.includes('CORS')) {
        return "Unable to connect to the chat service due to CORS restrictions. Please contact support.";
      }
      return "Network error - Unable to connect to the chat service. Please check your connection and try again.";
    }
    if (error.response?.status === 401) {
      return "Your session has expired. Please try again.";
    }
    if (error.response?.status === 403) {
      return "You don't have permission to perform this action.";
    }
    if (error.response?.status === 404) {
      return "The chat service is not available. Please check if the service is running.";
    }
    return "Sorry, I'm having trouble connecting to the chat service. Please try again later.";
  }
}

====================================================================================================
FILE: src/services/dataService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/dataService.ts
SIZE: 703 bytes
SHA256: d59625d58981eeeebc317fffdb6d593bbd99ad743aebca84826980e7a5508b29
====================================================================================================
import { supabase } from '@/supabaseClient';

export const fetchData = async () => {
  const { data, error } = await supabase.from('users').select('*');
  if (error) throw error;
  return data;
};

export const insertData = async (table: string, data: object) => {
  const { error } = await supabase.from(table).insert(data);
  if (error) throw error;
};

export const updateData = async (table: string, id: number, data: object) => {
  const { error } = await supabase.from(table).update(data).eq('id', id);
  if (error) throw error;
};

export const deleteData = async (table: string, id: number) => {
  const { error } = await supabase.from(table).delete().eq('id', id);
  if (error) throw error;
};

====================================================================================================
FILE: src/services/firebaseService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/firebaseService.ts
SIZE: 1357 bytes
SHA256: 2f88073b465db912ede258202d405ca5e0d612f15273a46d20b91e74a9dfc623
====================================================================================================
// frontend/src/services/firebaseService.ts
// Using relative import until TS path mapping for @/config resolves in tooling
import { auth } from '../config/firebase';
import {
  signInWithRedirect,
  GoogleAuthProvider,
  onAuthStateChanged,
  signOut,
  User
} from 'firebase/auth';
const googleProvider = new GoogleAuthProvider();
googleProvider.setCustomParameters({
  prompt: 'select_account'
});

export const firebaseService = {
  // Firebase Authentication
  signInWithGoogle: async () => {
    try {
      await signInWithRedirect(auth, googleProvider);
      return null;
    } catch (error) {
      console.error('Error signing in with Google:', error);
      throw error;
    }
  },
  
  signOut: async () => {
    try {
      await signOut(auth);
    } catch (error) {
      console.error('Error signing out:', error);
      throw error;
    }
  },
  
  getCurrentUser: (): Promise<User | null> => {
    return new Promise((resolve) => {
      const unsubscribe = onAuthStateChanged(auth, (user) => {
        unsubscribe();
        resolve(user);
      });
    });
  },
  
  getIdToken: async (): Promise<string | null> => {
    const user = auth.currentUser;
    if (!user) return null;
    try {
      return await user.getIdToken();
    } catch (error) {
      console.error('Error getting ID token:', error);
      return null;
    }
  }
};

====================================================================================================
FILE: src/services/firestore.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/firestore.ts
SIZE: 573 bytes
SHA256: 6ed585d13683bd008f5de87ccb88e4f481be0e29a033e3218b729083d7cbc46f
====================================================================================================
import { doc, getDoc, setDoc } from 'firebase/firestore';
import { firestore } from '../config/firebase';

export async function getData(collectionName: string, docId: string) {
  const docRef = doc(firestore, collectionName, docId);
  const docSnap = await getDoc(docRef);
  return docSnap.exists() ? docSnap.data() : null;
}

export async function setData(collectionName: string, docId: string, data: any) {
  const docRef = doc(firestore, collectionName, docId);
  await setDoc(docRef, data, { merge: true });
  return true;
}

// ...other helper functions as needed...

====================================================================================================
FILE: src/services/mongodbService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/mongodbService.ts
SIZE: 2649 bytes
SHA256: b70773132e53b4d207663b7511fe7fbcbcb97f184abff398423f76af7199a8d6
====================================================================================================
// File: /src/services/mongodbService.ts
// Description: Service for MongoDB operations replacing Firestore functionality
// Created: 2025-02-25

import { connectToDatabase } from '../config/dbConfig';

// Connect to MongoDB when the service is imported
connectToDatabase()
  .then(() => console.log('MongoDB service initialized'))
  .catch(err => console.error('Failed to initialize MongoDB service:', err));

// Generic get document function
export async function getData<T>(model: any, id: string): Promise<T | null> {
  try {
    const document = await model.findOne({ uid: id }).lean();
    return document as T | null;
  } catch (error) {
    console.error(`Error getting document with ID ${id}:`, error);
    throw error;
  }
}

// Generic get documents function
export async function getDocuments<T>(model: any, filter = {}): Promise<T[]> {
  try {
    const documents = await model.find(filter).lean();
    return documents as T[];
  } catch (error) {
    console.error(`Error getting documents:`, error);
    throw error;
  }
}

// Generic set document function
export async function setData<T>(model: any, id: string, data: Partial<T>): Promise<T> {
  try {
    const update = { ...data };
    const options = { new: true, upsert: true, setDefaultsOnInsert: true };
    
    const document = await model.findOneAndUpdate(
      { uid: id }, 
      update, 
      options
    ).lean();
    
    return document as T;
  } catch (error) {
    console.error(`Error setting document with ID ${id}:`, error);
    throw error;
  }
}

// Generic create document function
export async function createData<T>(model: any, data: T): Promise<T> {
  try {
    const newDocument = new model(data);
    await newDocument.save();
    return newDocument.toObject() as T;
  } catch (error) {
    console.error(`Error creating document:`, error);
    throw error;
  }
}

// Generic update document function
export async function updateData<T>(model: any, id: string, data: Partial<T>): Promise<T | null> {
  try {
    const updatedDocument = await model.findOneAndUpdate(
      { uid: id }, 
      { $set: { ...data, updatedAt: new Date() } }, 
      { new: true }
    ).lean();
    
    return updatedDocument as T | null;
  } catch (error) {
    console.error(`Error updating document with ID ${id}:`, error);
    throw error;
  }
}

// Generic delete document function
export async function deleteData(model: any, id: string): Promise<boolean> {
  try {
    const result = await model.deleteOne({ uid: id });
    return result.deletedCount > 0;
  } catch (error) {
    console.error(`Error deleting document with ID ${id}:`, error);
    throw error;
  }
}

====================================================================================================
FILE: src/services/mongoService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/mongoService.ts
SIZE: 1919 bytes
SHA256: 85c5b252ceef51ed74c9df384411442d91e7c36d925cd3b092290e0260892d10
====================================================================================================
import axios from 'axios';
import { firebaseService } from './firebaseService';

const API_BASE_URL = process.env.REACT_APP_API_BASE_URL;

// Create axios instance
const apiClient = axios.create({
  baseURL: API_BASE_URL,
  headers: {
    'Content-Type': 'application/json'
  }
});

// Add auth token to requests
apiClient.interceptors.request.use(async (config) => {
  const token = await firebaseService.getIdToken();
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

export const mongoService = {
  // User profile operations
  getUserProfile: async (userId: string) => {
    const response = await apiClient.get(`/users/${userId}`);
    return response.data;
  },
  
  updateUserProfile: async (userId: string, profileData: any) => {
    const response = await apiClient.put(`/users/${userId}`, profileData);
    return response.data;
  },
  
  // Learning style operations
  saveLearningStyle: async (userId: string, learningStyle: string, assessmentResults: any) => {
    const response = await apiClient.post(`/users/${userId}/learning-style`, {
      style: learningStyle,
      results: assessmentResults
    });
    return response.data;
  },
  
  getLearningStyle: async (userId: string) => {
    const response = await apiClient.get(`/users/${userId}/learning-style`);
    return response.data;
  },
  
  // Curriculum operations
  saveCurriculum: async (userId: string, curriculum: any) => {
    const response = await apiClient.post(`/users/${userId}/curriculum`, curriculum);
    return response.data;
  },
  
  getCurriculumList: async (userId: string) => {
    const response = await apiClient.get(`/users/${userId}/curriculum`);
    return response.data;
  },
  
  getCurriculumById: async (userId: string, curriculumId: string) => {
    const response = await apiClient.get(`/users/${userId}/curriculum/${curriculumId}`);
    return response.data;
  }
};

====================================================================================================
FILE: src/services/openai.js
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/openai.js
SIZE: 264 bytes
SHA256: a9da6aec7efa732853d3e858eef89993b0d3f9911c0d69e2620c8f10bca45aa4
====================================================================================================

import axios from 'axios';

const openaiClient = axios.create({
  baseURL: 'https://api.openai.com/v1',
  headers: {
    'Authorization': `Bearer ${import.meta.env.VITE_OPENAI_API_KEY}`,
    'Content-Type': 'application/json'
  }
});

export default openaiClient;

====================================================================================================
FILE: src/services/profileService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/profileService.ts
SIZE: 7017 bytes
SHA256: 0b2ee658361e60562965a6b2375cce14341d06c27baaf6e8f8b3e6d81f502335
====================================================================================================
import { doc, getDoc, setDoc, updateDoc, collection, addDoc } from 'firebase/firestore';
import { firestore } from '../config/firebase';
import { Parent, Student, LearningStyle } from "../types/profiles";

// Cache for storing profiles
const profileCache = new Map();

// Helper to check online status
const isOnline = () => navigator.onLine;

// Helper to handle offline errors
const handleOfflineError = (operation: string) => {
  const error = new Error(`Cannot ${operation} while offline`);
  error.name = 'OfflineError';
  return error;
};

//  Create Parent Profile
export const createParentProfile = async (parentData: Partial<Parent>): Promise<string> => {
  try {
    if (!parentData.uid) throw new Error('User ID is required');
    
    const parentRef = doc(firestore, 'parents', parentData.uid);
    await setDoc(parentRef, {
      ...parentData,
      createdAt: new Date().toISOString(),
      updatedAt: new Date().toISOString(),
      students: []
    });
    
    console.log(' Parent profile created successfully:', parentData.uid);
    return parentData.uid;
  } catch (error) {
    console.error(' Error creating parent profile:', error);
    throw error;
  }
};

//  Fetch Parent Profile
export const getParentProfile = async (userId: string): Promise<Parent | null> => {
  try {
    console.log(' Fetching parent profile for:', userId);

    // Check cache first
    if (profileCache.has(`parent_${userId}`)) {
      return profileCache.get(`parent_${userId}`);
    }

    const docRef = doc(firestore, 'parents', userId);
    const docSnap = await getDoc(docRef);
    
    if (docSnap.exists()) {
      const data = docSnap.data();
      const parentProfile: Parent = {
        uid: data.uid || userId,
        email: data.email || '',
        displayName: data.displayName || '',
        students: data.students || [],
        createdAt: data.createdAt || new Date().toISOString(),
        updatedAt: data.updatedAt || new Date().toISOString()
      };
      console.log(' Parent profile found:', parentProfile);
      // Cache the result
      profileCache.set(`parent_${userId}`, parentProfile);
      return parentProfile;
    }
    
    console.log(' No parent profile found, creating one...');
    // If no profile exists, create one
    await createParentProfile({ uid: userId });
    return getParentProfile(userId); // Retry fetch after creation
    
  } catch (error) {
    if (!isOnline()) {
      console.warn('Offline: Using cached data if available');
      return profileCache.get(`parent_${userId}`) || null;
    }
    console.error(' Error fetching parent profile:', error);
    throw error;
  }
};

//  Fetch Student Profile
export const getStudentProfile = async (studentId: string): Promise<Student> => {
  try {
    // Check cache first
    if (profileCache.has(`student_${studentId}`)) {
      return profileCache.get(`student_${studentId}`);
    }

    const studentRef = doc(firestore, "students", studentId);
    const studentDoc = await getDoc(studentRef);

    if (!studentDoc.exists()) {
      throw new Error("Student profile not found");
    }

    const studentData = studentDoc.data() as Student;
    // Cache the result
    profileCache.set(`student_${studentId}`, studentData);
    return studentData;
  } catch (error) {
    if (!isOnline()) {
      console.warn('Offline: Using cached data if available');
      return profileCache.get(`student_${studentId}`) || null;
    }
    throw error;
  }
};

//  Add Student Profile
export const addStudentProfile = async (parentId: string, studentData: {
  name: string;
  grade: string;
  parentId: string;
  hasTakenAssessment: boolean;
}) => {
  try {
    console.log(' Adding student profile for parent:', parentId);
    
    // Add the student to the students collection
    const studentRef = await addDoc(collection(firestore, 'students'), {
      ...studentData,
      createdAt: new Date().toISOString(),
      updatedAt: new Date().toISOString()
    });

    // Update the parent's students array
    const parentRef = doc(firestore, 'parents', parentId);
    const parentDoc = await getDoc(parentRef);

    if (parentDoc.exists()) {
      const currentStudents = parentDoc.data().students || [];
      await updateDoc(parentRef, {
        students: [...currentStudents, studentRef.id],
        updatedAt: new Date().toISOString()
      });
    }

    console.log(' Student profile added successfully:', studentRef.id);
    return studentRef.id;
  } catch (error) {
    console.error(' Error adding student profile:', error);
    throw error;
  }
};

//  Update Student's Assessment Status
export const updateStudentAssessmentStatus = async (studentId: string, status: string) => {
  if (!isOnline()) {
    throw handleOfflineError('update assessment status');
  }

  const studentRef = doc(firestore, "students", studentId);
  try {
    await updateDoc(studentRef, {
      hasTakenAssessment: status === 'completed',
      assessmentStatus: status,
      updatedAt: new Date().toISOString(),
    });

    // Update cache
    const cachedData = profileCache.get(`student_${studentId}`);
    if (cachedData) {
      profileCache.set(`student_${studentId}`, {
        ...cachedData,
        hasTakenAssessment: status === 'completed',
        assessmentStatus: status,
        updatedAt: new Date().toISOString()
      });
    }
    console.log(`Assessment status updated to: ${status}`);
  } catch (error) {
    console.error("Error updating assessment status:", error);
    throw new Error("Failed to update assessment status");
  }
};

//  Save Learning Style
export const saveLearningStyle = async (studentId: string, learningStyle: LearningStyle): Promise<void> => {
  if (!isOnline()) {
    throw handleOfflineError('save learning style');
  }

  try {
    console.log(' Saving learning style for student:', studentId);
    const studentRef = doc(firestore, 'students', studentId);
    
    await updateDoc(studentRef, {
      learningStyle,
      updatedAt: new Date().toISOString()
    });

    // Update cache
    const cachedData = profileCache.get(`student_${studentId}`);
    if (cachedData) {
      profileCache.set(`student_${studentId}`, {
        ...cachedData,
        learningStyle,
        updatedAt: new Date().toISOString()
      });
    }
    
    console.log(' Learning style saved successfully');
  } catch (error) {
    console.error(' Error saving learning style:', error);
    throw error;
  }
};

// Listen for online/offline events to manage cache
window.addEventListener('online', () => {
  console.info('Back online. Syncing data...');
  // Could add sync logic here if needed
});

window.addEventListener('offline', () => {
  console.warn('Gone offline. Using cached data...');
});

export class ProfileService {
  async getUserProfile(userId: string): Promise<any> {
    // ...existing API call logic...
    // Example:
    const response = await fetch(`/api/profiles/${userId}`);
    return response.json();
  }
}

====================================================================================================
FILE: src/services/userService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/userService.ts
SIZE: 1530 bytes
SHA256: d83bdd102b05de8cb5cf092aaa6b3cd0f1627836cf1731698fb3f220c96b8ae7
====================================================================================================
// File: /src/services/userService.ts
// Description: MongoDB service for user operations
// Created: 2025-02-25

import User, { IUser } from '../models/User';
import { getData, getDocuments, setData, updateData, deleteData } from './mongodbService';

// Get user by Firebase Auth UID
export const getUserById = async (uid: string): Promise<IUser | null> => {
  return await getData<IUser>(User, uid);
};

// Get users by role
export const getUsersByRole = async (role: string): Promise<IUser[]> => {
  return await getDocuments<IUser>(User, { role });
};

// Create or update user
export const createOrUpdateUser = async (userData: Partial<IUser>): Promise<IUser> => {
  if (!userData.uid) {
    throw new Error('User ID is required');
  }
  
  return await setData<IUser>(User, userData.uid, userData);
};

// Update user profile
export const updateUserProfile = async (uid: string, userData: Partial<IUser>): Promise<IUser | null> => {
  return await updateData<IUser>(User, uid, userData);
};

// Delete user
export const deleteUser = async (uid: string): Promise<boolean> => {
  return await deleteData(User, uid);
};

// Create user profile from Firebase Auth user
export const createUserFromAuth = async (firebaseUser: any): Promise<IUser> => {
  const userData: Partial<IUser> = {
    uid: firebaseUser.uid,
    email: firebaseUser.email,
    displayName: firebaseUser.displayName || '',
    photoURL: firebaseUser.photoURL || '',
    role: 'parent', // Default role
  };
  
  return await createOrUpdateUser(userData);
};

====================================================================================================
FILE: src/services/varkService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/varkService.ts
SIZE: 2134 bytes
SHA256: 489df9b55c8209e22b76c37ab280331da5b73ba2549a1c31d6a30d737c86f1b7
====================================================================================================
import { firestore as db } from '../config/firebase';
import { doc, setDoc, updateDoc, serverTimestamp } from 'firebase/firestore';

interface AssessmentResponse {
  assessmentId: string;
  initialMessage: string;
}

interface VARKResults {
  visual: number;
  auditory: number;
  readWrite: number;
  kinesthetic: number;
  primaryStyle: string;
}

interface UserResponse {
  message: string;
  nextQuestionIndex: number;
  currentQuestion: string;
  isComplete: boolean;
  results?: VARKResults;
}

export const startAssessment = async (userId: string): Promise<AssessmentResponse> => {
  const response = await fetch('/api/vark/start', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ userId }),
  });
  
  if (!response.ok) {
    throw new Error('Failed to start assessment');
  }
  
  return response.json();
};

export const sendUserResponse = async ({
  userId,
  assessmentId,
  message,
  questionIndex,
}: {
  userId: string;
  assessmentId: string;
  message: string;
  questionIndex: number;
}): Promise<UserResponse> => {
  const response = await fetch('/api/vark/respond', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      userId,
      assessmentId,
      message,
      questionIndex,
    }),
  });
  
  if (!response.ok) {
    throw new Error('Failed to process response');
  }
  
  return response.json();
};

export const saveAssessmentResults = async (
  userId: string, 
  results: VARKResults
): Promise<void> => {
  try {
    const userRef = doc(db, 'users', userId);
    const resultsRef = doc(db, 'varkResults', userId);
    
    // Update user document with primary learning style
    await updateDoc(userRef, {
      primaryLearningStyle: results.primaryStyle,
      updatedAt: serverTimestamp()
    });
    
    // Save detailed results
    await setDoc(resultsRef, {
      ...results,
      userId,
      createdAt: serverTimestamp(),
      updatedAt: serverTimestamp()
    });
  } catch (error) {
    console.error('Error saving results:', error);
    throw error;
  }
};

====================================================================================================
FILE: src/services/websocketService.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/services/websocketService.ts
SIZE: 6749 bytes
SHA256: ba38b4ebfedc78664165ab54b9770c48bd08fd23506391e659c2654d8d4fe459
====================================================================================================
// File: /src/services/websocketService.ts
// Description: WebSocket service for handling real-time task updates
import { TaskStatus, TaskResult } from '../types/task';

export interface WebSocketMessage {
  type: string;
  task_id?: string;
  status?: TaskStatus;
  result?: TaskResult;
  error?: string;
}

interface WebSocketEventMap {
  connect: void;
  disconnect: void;
  error: Error;
  task_update: TaskStatus;
  task_result: TaskResult;
  subscription_ack: { task_id: string };
}

type WebSocketEventListener<K extends keyof WebSocketEventMap> = 
  (data: WebSocketEventMap[K]) => void;

type EventListeners = {
  [K in keyof WebSocketEventMap]: Set<WebSocketEventListener<K>>;
};

class WebSocketService {
  private ws: WebSocket | null = null;
  private reconnectAttempts = 0;
  private maxReconnectAttempts = 5;
  private reconnectTimeout: number | null = null;
  // Change the listeners type to use a more flexible Record type
  private listeners: Record<keyof WebSocketEventMap, Set<any>> = {
    connect: new Set(),
    disconnect: new Set(),
    error: new Set(),
    task_update: new Set(),
    task_result: new Set(),
    subscription_ack: new Set()
  };
  private pendingMessages: string[] = [];
  private isConnecting = false;

  constructor(private readonly baseUrl: string) {
    // Force ws:// for local development
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
      this.baseUrl = 'ws://localhost:5173';
    }
  }

  private async getAuthToken(): Promise<string | null> {
    try {
      // This should be implemented based on your authentication method
      return await localStorage.getItem('auth_token');
    } catch (error) {
      console.error('Error getting auth token:', error);
      return null;
    }
  }

  async connect(): Promise<void> {
    if (this.ws?.readyState === WebSocket.OPEN || this.isConnecting) {
      return;
    }

    this.isConnecting = true;

    try {
      const token = await this.getAuthToken();
      if (!token) {
        throw new Error('No authentication token available');
      }

      this.ws = new WebSocket(`${this.baseUrl}/ws/tasks/${token}`);
      
      this.ws.onopen = () => {
        this.isConnecting = false;
        this.reconnectAttempts = 0;
        this.emit('connect', undefined);
        
        // Send any pending messages
        while (this.pendingMessages.length > 0) {
          const message = this.pendingMessages.shift();
          if (message) this.send(message);
        }
      };

      this.ws.onmessage = (event) => {
        try {
          const message: WebSocketMessage = JSON.parse(event.data);
          
          switch (message.type) {
            case 'task_update':
              if (message.status) {
                this.emit('task_update', message.status);
              }
              break;
            
            case 'task_result':
              if (message.result) {
                this.emit('task_result', message.result);
              }
              break;
            
            case 'subscription_ack':
              if (message.task_id) {
                this.emit('subscription_ack', { task_id: message.task_id });
              }
              break;
            
            case 'error':
              if (message.error) {
                this.emit('error', new Error(message.error));
              }
              break;
          }
        } catch (error) {
          console.error('Error parsing WebSocket message:', error);
        }
      };

      this.ws.onclose = () => {
        this.isConnecting = false;
        this.emit('disconnect', undefined);
        this.attemptReconnect();
      };

      this.ws.onerror = (error) => {
        this.isConnecting = false;
        this.emit('error', new Error('WebSocket error occurred'));
      };
    } catch (error) {
      this.isConnecting = false;
      throw error;
    }
  }

  private getBackoffDelay(): number {
    // Calculate exponential backoff with random jitter
    const minDelay = 1000; // 1 second minimum
    const maxDelay = 30000; // 30 seconds maximum
    const baseDelay = Math.min(
      minDelay * Math.pow(2, this.reconnectAttempts),
      maxDelay
    );
    
    // Add random jitter (30%)
    const jitter = baseDelay * 0.3 * (Math.random() * 2 - 1);
    return Math.max(minDelay, Math.min(baseDelay + jitter, maxDelay));
  }

  private attemptReconnect(): void {
    if (this.reconnectAttempts >= this.maxReconnectAttempts) {
      this.emit('error', new Error('Failed to reconnect after maximum attempts'));
      return;
    }

    if (this.reconnectTimeout !== null) {
      clearTimeout(this.reconnectTimeout);
    }

    const delay = this.getBackoffDelay();
    
    this.reconnectTimeout = window.setTimeout(() => {
      this.reconnectAttempts++;
      this.connect().catch(error => {
        console.error('Reconnection failed:', error);
      });
    }, delay);
  }

  subscribe<K extends keyof WebSocketEventMap>(
    event: K,
    listener: WebSocketEventListener<K>
  ): () => void {
    this.listeners[event].add(listener);
    
    return () => {
      this.listeners[event].delete(listener);
    };
  }

  private emit<K extends keyof WebSocketEventMap>(
    event: K,
    data: WebSocketEventMap[K]
  ): void {
    this.listeners[event].forEach((listener: WebSocketEventListener<K>) => {
      try {
        listener(data);
      } catch (error) {
        console.error(`Error in ${event} listener:`, error);
      }
    });
  }

  subscribeToTask(taskId: string): void {
    const message = JSON.stringify({
      type: 'subscribe_task',
      task_id: taskId
    });

    if (this.ws?.readyState === WebSocket.OPEN) {
      this.send(message);
    } else {
      this.pendingMessages.push(message);
      this.connect().catch(error => {
        console.error('Error connecting to WebSocket:', error);
      });
    }
  }

  private send(message: string): void {
    if (this.ws?.readyState === WebSocket.OPEN) {
      this.ws.send(message);
    } else {
      this.pendingMessages.push(message);
    }
  }

  disconnect(): void {
    if (this.reconnectTimeout !== null) {
      clearTimeout(this.reconnectTimeout);
      this.reconnectTimeout = null;
    }

    if (this.ws) {
      this.ws.close();
      this.ws = null;
    }
  }

  hasActiveSubscriptions(): boolean {
    // Check if there are any active listeners for task-related events
    return (
      this.listeners.task_update.size > 0 ||
      this.listeners.task_result.size > 0 ||
      this.listeners.subscription_ack.size > 0
    );
  }
}

export const websocketService = new WebSocketService(
  process.env.REACT_APP_WS_BASE_URL || 'ws://localhost:5173'
);

export default websocketService;

====================================================================================================
FILE: src/store/index.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/store/index.ts
SIZE: 316 bytes
SHA256: b9aae05a895b3d5ea8a5d1b04cb748a4349767348123777ac0b81ad29344392d
====================================================================================================
import { configureStore } from '@reduxjs/toolkit';
import profileReducer from './slices/profileSlice';

const store = configureStore({
  reducer: {
    profile: profileReducer,
  },
});

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;
export default store;

====================================================================================================
FILE: src/store/slices/profileSlice.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/store/slices/profileSlice.ts
SIZE: 1075 bytes
SHA256: 4c02516a20c7e77531051da92df53fcc7e2187392dfb1d205e8492f073bc15d9
====================================================================================================

import { createSlice, PayloadAction } from '@reduxjs/toolkit';
import { Parent, Student } from '../../types/profiles';

interface ProfileState {
  parent: Parent | null;
  loading: boolean;
  error: string | null;
}

const initialState: ProfileState = {
  parent: null,
  loading: false,
  error: null,
};

const profileSlice = createSlice({
  name: 'profile',
  initialState,
  reducers: {
    setParentProfile: (state, action: PayloadAction<Parent>) => {
      state.parent = action.payload;
    },
    addStudent: (state, action: PayloadAction<Student>) => {
      if (state.parent) {
        state.parent.students.push(action.payload);
      }
    },
    updateStudent: (state, action: PayloadAction<Student>) => {
      if (state.parent) {
        const index = state.parent.students.findIndex(s => s.id === action.payload.id);
        if (index !== -1) {
          state.parent.students[index] = action.payload;
        }
      }
    },
  },
});

export const { setParentProfile, addStudent, updateStudent } = profileSlice.actions;
export default profileSlice.reducer;

====================================================================================================
FILE: src/styles/components/common.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/styles/components/common.ts
SIZE: 2154 bytes
SHA256: 467095a098d97351af8fd45f198f4d1024752712e88edbd01c95543d1ec8f33a
====================================================================================================
import styled from 'styled-components';
import { motion as m } from 'framer-motion';
import { DefaultTheme } from 'styled-components';

interface ThemeProps {
  theme: DefaultTheme;
}

interface ButtonProps extends ThemeProps {
  $variant?: 'primary' | 'secondary';
}

export const Container = styled(m.div)`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({ theme }: ThemeProps) => theme.spacing.md};
`;

export const Section = styled.section`
  padding: ${({ theme }: ThemeProps) => theme.spacing.xl} 0;
`;

export const Card = styled(m.div)`
  background: ${({ theme }: ThemeProps) => theme.palette.background.paper};
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  padding: ${({ theme }: ThemeProps) => theme.spacing.lg};
`;

export const Button = styled(m.button)<{ $variant?: 'primary' | 'secondary' }>`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: ${({ theme }: ThemeProps) => `${theme.spacing.sm} ${theme.spacing.lg}`};
  border-radius: 4px;
  font-weight: 600;
  background: ${({ theme, $variant }: ButtonProps) => 
    $variant === 'secondary' 
      ? theme.palette.secondary.main 
      : theme.palette.primary.main};
  color: white;
  transition: background 0.2s ease;

  &:hover {
    background: ${({ theme, $variant }: ButtonProps) => 
      $variant === 'secondary' 
        ? theme.palette.secondary.dark 
        : theme.palette.primary.dark};
  }
`;

export const IconWrapper = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  color: ${({ theme }) => theme.palette.primary.main};
`;

export const GridContainer = styled.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: ${({ theme }) => theme.spacing.lg};
`;

const StylesGrid = styled(m.div)`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  margin: 2rem 0;
`;

const StyleCard = styled(m.div)`
  padding: 2rem;
  text-align: center;
  background: ${({ theme }) => theme.palette.background.paper};
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
`;

====================================================================================================
FILE: src/styles/global.css
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/styles/global.css
SIZE: 1786 bytes
SHA256: 100a82652ec9c2b23cf3e3583bb88dc882ed5396a4d0e8b810d667747d4d94f8
====================================================================================================
:root {
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1.25rem;
  --spacing-lg: 2rem;
  --spacing-xl: 3rem;

  --radius-xs: 8px;
  --radius-sm: 12px;
  --radius-md: 16px;
  --radius-lg: 24px;
}

.container {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 1.5rem;
  width: 100%;
}

.section {
  padding: var(--spacing-xl) 0;
}

.section-title {
  font-size: clamp(1.8rem, 2.5vw, 2.5rem);
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.section-subtitle {
  color: var(--text-secondary);
  max-width: 720px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.75);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  box-shadow: 0 20px 40px rgba(15, 23, 42, 0.12);
  backdrop-filter: blur(12px);
}

:root[data-theme='dark'] .glass-card {
  background: rgba(18, 26, 47, 0.8);
  box-shadow: 0 20px 40px rgba(15, 23, 42, 0.3);
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border-radius: 999px;
  text-decoration: none;
  font-weight: 600;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border: none;
  cursor: pointer;
}

.btn-primary {
  background: linear-gradient(135deg, #4654F6, #7A86FF);
  color: #ffffff;
  box-shadow: 0 16px 30px rgba(70, 84, 246, 0.3);
}

.btn-secondary {
  background: rgba(225, 179, 84, 0.12);
  border: 1px solid rgba(225, 179, 84, 0.4);
  color: var(--text-primary);
}

.btn-ghost {
  background: transparent;
  border: 1px solid var(--border-color);
  color: var(--text-primary);
}

.btn:hover {
  transform: translateY(-2px);
}

.badge {
  padding: 0.25rem 0.75rem;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 600;
  background: rgba(225, 179, 84, 0.2);
  color: var(--text-primary);
}

====================================================================================================
FILE: src/styles/global.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/styles/global.ts
SIZE: 1031 bytes
SHA256: 4dc1794c1085ef2dba3e551f28fec672704c9ad8c73002e27f2cdb72df6dcb23
====================================================================================================
import { createGlobalStyle } from 'styled-components';

const GlobalStyle = createGlobalStyle`
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    font-size: 16px;
    scroll-behavior: smooth;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background-color: ${({ theme }) => theme.palette.background.default};
    color: ${({ theme }) => theme.palette.text.primary};
    line-height: 1.5;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  button {
    border: none;
    background: none;
    cursor: pointer;
    font: inherit;
  }

  ul, ol {
    list-style: none;
  }

  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
  }

  @media (max-width: ${({ theme }) => theme.breakpoints.tablet}) {
    html {
      font-size: 14px;
    }
  }
`;

export default GlobalStyle;

====================================================================================================
FILE: src/styles/theme.js
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/styles/theme.js
SIZE: 0 bytes
SHA256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
====================================================================================================


====================================================================================================
FILE: src/supabaseClient.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/supabaseClient.ts
SIZE: 1235 bytes
SHA256: b6b836019a311ef745933c5cd7e0b01a5f8217020bab46fce2886447e23efa28
====================================================================================================
import { createClient } from '@supabase/supabase-js';
import type { SupabaseClient } from '@supabase/supabase-js';

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

if (!supabaseKey) {
  throw new Error('Missing Supabase anon key. Please check your environment variables.');
}

export const supabase: SupabaseClient = createClient(supabaseUrl, supabaseKey, {
  auth: {
    persistSession: true,
    autoRefreshToken: true,
    detectSessionInUrl: true,
    storageKey: 'supabase.auth.token',
    storage: {
      getItem: (key) => {
        if (isSecureContext) {
          return sessionStorage.getItem(key);
        }
        throw new Error('Secure context required for authentication storage');
      },
      setItem: (key, value) => {
        if (isSecureContext) {
          sessionStorage.setItem(key, value);
        } else {
          throw new Error('Secure context required for authentication storage');
        }
      },
      removeItem: (key) => {
        if (isSecureContext) {
          sessionStorage.removeItem(key);
        } else {
          throw new Error('Secure context required for authentication storage');
        }
      },
    }
  }
});

====================================================================================================
FILE: src/test/mocks/WebSocketMock.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/test/mocks/WebSocketMock.ts
SIZE: 1958 bytes
SHA256: a41d115c910699a1a1cfa13e7819638e51d1cccfddbcbc90f4442e68cb8cb5b5
====================================================================================================
// File: /src/test/mocks/WebSocketMock.ts
// Description: Mock WebSocket implementation for testing
// Author: GitHub Copilot
// Created: 2024

export class WebSocketMock implements Partial<WebSocket> {
  // WebSocket states
  static readonly CONNECTING = 0;
  static readonly OPEN = 1;
  static readonly CLOSING = 2;
  static readonly CLOSED = 3;

  // Required WebSocket properties
  public url: string;
  public binaryType: BinaryType = 'blob';
  private _readyState: number = WebSocketMock.CONNECTING;

  // Event handlers
  public onopen: ((event: Event) => void) | null = null;
  public onclose: ((event: CloseEvent) => void) | null = null;
  public onmessage: ((event: MessageEvent) => void) | null = null;
  public onerror: ((event: Event) => void) | null = null;

  constructor(url: string) {
    this.url = url;
  }

  // Mock methods
  public close(code?: number, reason?: string): void {
    this._readyState = WebSocketMock.CLOSED;
    if (this.onclose) {
      this.onclose(new CloseEvent('close', { code, reason }));
    }
  }

  public send(data: string): void {
    // Mock implementation
  }

  // Getter for readyState to make it appear read-only
  get readyState(): number {
    return this._readyState;
  }

  // Test helper methods
  public mockOpen(): void {
    this._readyState = WebSocketMock.OPEN;
    if (this.onopen) {
      this.onopen(new Event('open'));
    }
  }

  public mockClose(code: number = 1000, reason: string = ''): void {
    this._readyState = WebSocketMock.CLOSED;
    if (this.onclose) {
      this.onclose(new CloseEvent('close', { code, reason }));
    }
  }

  public mockError(): void {
    if (this.onerror) {
      this.onerror(new Event('error'));
    }
  }

  public mockMessage(data: any): void {
    if (this.onmessage) {
      this.onmessage(new MessageEvent('message', { data: JSON.stringify(data) }));
    }
  }

  public mockSetReadyState(state: number): void {
    this._readyState = state;
  }
}

====================================================================================================
FILE: src/test/mockThemes.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/test/mockThemes.ts
SIZE: 1735 bytes
SHA256: ec92946c8e6bfdf1e9fcdde0e9153deb81cefccde867a3f72c514548da25fb31
====================================================================================================
import { createTheme } from '@mui/material/styles';
import type { DefaultTheme } from 'styled-components';
import type { Theme } from '@mui/material/styles';

const muiTheme = createTheme({
  palette: {
    primary: {
      main: '#1976d2',
      dark: '#115293',
      light: '#4791db'
    },
    error: {
      main: '#d32f2f',
      light: '#ef5350'
    },
    background: {
      paper: '#ffffff',
      default: '#f5f5f5'
    },
    text: {
      primary: '#000000',
      secondary: '#666666'
    }
  },
  breakpoints: {
    values: {
      xs: 0,
      sm: 600,
      md: 900,
      lg: 1200,
      xl: 1536
    }
  }
});

export const mockMuiTheme = muiTheme;

const spacing = Object.assign(
  ((factor: number) => `${0.25 * factor}rem`) as Theme['spacing'],
  {
    xs: '0.25rem',
    sm: '0.5rem',
    md: '1rem',
    lg: '2rem',
    xl: '3rem',
  }
);

export const mockStyledTheme: DefaultTheme = {
  ...muiTheme,
  breakpoints: {
    ...muiTheme.breakpoints,
    mobile: '320px',
    tablet: '768px',
    desktop: '1024px',
    large: '1440px'
  },
  spacing,
  colors: {
    border: '#e0e0e0',
    text: '#000000',
    muted: '#666666',
    accent: '#E1B354',
    background: {
      hover: '#f5f5f5',
      subtle: '#eef2ff'
    },
    error: {
      main: '#d32f2f',
      light: '#ffebee'
    }
  },
  borderRadius: {
    xs: '8px',
    sm: '12px',
    md: '16px',
    lg: '24px',
    pill: '999px'
  },
  shadows: {
    sm: '0 10px 30px rgba(15, 23, 42, 0.08)',
    md: '0 24px 60px rgba(15, 23, 42, 0.12)',
    glow: '0 0 40px rgba(70, 84, 246, 0.25)'
  },
  gradients: {
    hero: 'linear-gradient(135deg, #F5F7FF, #FFFFFF)',
    card: 'linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,255,0.9))'
  }
};

====================================================================================================
FILE: src/test/setup.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/test/setup.ts
SIZE: 700 bytes
SHA256: ea61f0fc18a98d68db407bfd1fc77e24e7ec52dca67552b7307cae071bd35872
====================================================================================================
// File: /src/test/setup.ts
// Description: Jest setup file for testing environment configuration.

import '@testing-library/jest-dom';
import { cleanup } from '@testing-library/react';
import React from 'react';

// Run cleanup after each test
afterEach(() => {
  cleanup();
  jest.clearAllMocks();
});

// Mock react-icons
jest.mock('react-icons/fc', () => ({
  FcGoogle: function MockGoogleIcon() {
    return React.createElement('span', { 'data-testid': 'google-icon' }, 'Google Icon');
  }
}));

// Mock Firebase Auth
jest.mock('firebase/auth');

// Mock Firebase Config
jest.mock('../config/firebase', () => ({
  auth: jest.fn(),
  googleProvider: {
    setCustomParameters: jest.fn()
  }
}));

====================================================================================================
FILE: src/test/setupTests.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/test/setupTests.ts
SIZE: 1749 bytes
SHA256: 9c0c72f0891ca6fe80807b9a3cf4a46031c957ee9bad67869798fba005a6e155
====================================================================================================
// File: /src/test/setupTests.ts
// Description: Jest setup configuration for testing WebSocket functionality

import '@testing-library/jest-dom';

// Mock WebSocket
class MockWebSocket {
  static instances: MockWebSocket[] = [];
  
  onopen: (() => void) | null = null;
  onclose: (() => void) | null = null;
  onmessage: ((event: { data: string }) => void) | null = null;
  onerror: ((event: { error: Error }) => void) | null = null;
  readyState: number = WebSocket.CONNECTING;
  url: string;

  constructor(url: string) {
    this.url = url;
    MockWebSocket.instances.push(this);
    
    // Simulate connection
    setTimeout(() => {
      this.readyState = WebSocket.OPEN;
      this.onopen?.();
    }, 0);
  }

  close() {
    this.readyState = WebSocket.CLOSED;
    this.onclose?.();
  }

  send(data: string) {
    // Mock send implementation
  }

  // Test helper methods
  static mockMessage(data: any) {
    MockWebSocket.instances.forEach(instance => {
      instance.onmessage?.({ data: JSON.stringify(data) });
    });
  }

  static mockError(error: Error) {
    MockWebSocket.instances.forEach(instance => {
      instance.onerror?.({ error });
    });
  }

  static mockClose() {
    MockWebSocket.instances.forEach(instance => {
      instance.close();
    });
  }

  static reset() {
    MockWebSocket.instances = [];
  }
}

// Mock window.WebSocket
(global as any).WebSocket = MockWebSocket;

// Reset WebSocket mocks between tests
beforeEach(() => {
  MockWebSocket.reset();
});

// Mock localStorage
const localStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  clear: jest.fn(),
  removeItem: jest.fn(),
  key: jest.fn(),
  length: 0
};

Object.defineProperty(window, 'localStorage', { value: localStorageMock });

====================================================================================================
FILE: src/test/testUtils.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/test/testUtils.tsx
SIZE: 1995 bytes
SHA256: 6b61cdf0120a9250e3e0730503526eac7eb31e43a11bcec6cd8db64ba1dfaa16
====================================================================================================
import React from "react";
import { render, RenderOptions, RenderResult } from "@testing-library/react";
import { ThemeProvider as MUIThemeProvider } from '@mui/material/styles';
import { ThemeProvider as StyledThemeProvider } from 'styled-components';
import { createMemoryRouter, RouterProvider } from 'react-router-dom';
import { AuthContext, type AuthContextProps } from "../contexts/AuthContext";
import '@testing-library/jest-dom';
import { mockMuiTheme, mockStyledTheme } from "./mockThemes";

// Enable React Router v7 future flags
const future = {
  v7_startTransition: true,
  v7_relativeSplatPath: true
};

export const mockLoginWithGoogle = jest.fn();

interface RenderWithProvidersOptions extends Omit<RenderOptions, 'wrapper'> {
  withRouter?: boolean;
  mockAuthValue?: Partial<AuthContextProps>;
}

export const renderWithProviders = (
  ui: React.ReactNode,
  { withRouter = true, mockAuthValue = {}, ...options }: RenderWithProvidersOptions = {}
): RenderResult => {
  const defaultAuthValue: AuthContextProps = {
    currentUser: null,
    user: null,
    isAuthReady: true,
    loading: false,
    isLoading: false,
    error: null,
    login: mockLoginWithGoogle,
    loginWithGoogle: mockLoginWithGoogle,
    signup: jest.fn(),
    logout: jest.fn(),
    clearError: jest.fn(),
    ...mockAuthValue
  };

  const Providers = ({ children }: { children: React.ReactNode }) => (
    <MUIThemeProvider theme={mockMuiTheme}>
      <StyledThemeProvider theme={mockStyledTheme}>
        <AuthContext.Provider value={defaultAuthValue}>
          {children}
        </AuthContext.Provider>
      </StyledThemeProvider>
    </MUIThemeProvider>
  );

  if (withRouter) {
    const router = createMemoryRouter(
      [{ path: "*", element: <Providers>{ui}</Providers> }],
      { 
        initialEntries: ['/'],
        future
      }
    );
    return render(<RouterProvider router={router} future={future} />, options);
  }

  return render(<Providers>{ui}</Providers>, options);
};

====================================================================================================
FILE: src/theme/index.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/theme/index.tsx
SIZE: 1823 bytes
SHA256: 01d8190adfd548d91e97bb95e9322e948a18102b90da69ae3679d1d48ba86e1b
====================================================================================================
// File: /src/theme/index.ts
// Description: Custom theme including breakpoint helpers

export type Breakpoint = "xs" | "sm" | "md" | "lg" | "xl";

interface CustomBreakpoints {
  mobile: string;
  tablet: string;
  desktop: string;
  large: string;
  keys: (number | Breakpoint)[];
  up: (key: number | Breakpoint) => string;
  down: (key: number | Breakpoint) => string;
  between: (start: number | Breakpoint, end: number | Breakpoint) => string;
  only: (key: number | Breakpoint) => string;
}

export const breakpoints: CustomBreakpoints = {
  mobile: "0px",
  tablet: "768px",
  desktop: "1024px",
  large: "1440px",
  keys: ["xs", "sm", "md", "lg", "xl"],
  up: (key: number | Breakpoint) => {
    // implement using a strategy that works for both numbers and defined breakpoints
    // For simplicity, if key is number then convert to string with px otherwise use a mapping.
    if (typeof key === "number") {
      return `${key}px`;
    }
    const values: Record<Breakpoint, number> = { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 };
    return `${values[key]}px`;
  },
  down: (key: number | Breakpoint) => {
    if (typeof key === "number") {
      return `${key}px`;
    }
    const values: Record<Breakpoint, number> = { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 };
    return `${values[key]}px`;
  },
  between: (start: number | Breakpoint, end: number | Breakpoint) => {
    const getValue = (v: number | Breakpoint): number =>
      typeof v === "number" ? v : ({ xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 }[v]);
    return `${getValue(start)}px and ${getValue(end)}px`;
  },
  only: (key: number | Breakpoint) => {
    if (typeof key === "number") return `${key}px`;
    const values: Record<Breakpoint, number> = { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 };
    return `${values[key]}px`;
  }
};

====================================================================================================
FILE: src/theme/theme.js
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/theme/theme.js
SIZE: 198 bytes
SHA256: 7a804e0b4265d4ffe9fbb035bd687d921f0017115f8800f5a7c12b22d50111ee
====================================================================================================
import { getMuiTheme, getStyledTheme } from './theme.ts';

export { getMuiTheme, getStyledTheme };

export const muiTheme = getMuiTheme('light');
export const styledTheme = getStyledTheme('light');

====================================================================================================
FILE: src/theme/theme.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/theme/theme.ts
SIZE: 4246 bytes
SHA256: 64b25720e0f0197e8d260033d1467b51ca58dd9f3a05fa436b95170037e49825
====================================================================================================
// File: /src/theme/theme.ts
// Description: Unified theme configuration for MUI and styled-components
// Author: GitHub Copilot
// Updated: 2024-02-12

import { createTheme } from '@mui/material/styles';
import type { DefaultTheme } from 'styled-components';

export type ThemeMode = 'light' | 'dark';

const basePalette = {
  primary: {
    main: '#4654F6',
    dark: '#2F3AC4',
    light: '#7A86FF'
  },
  secondary: {
    main: '#E1B354',
    dark: '#B98C33',
    light: '#F2D28A'
  },
  success: {
    main: '#22C55E',
    dark: '#16A34A',
    light: '#BBF7D0'
  },
  warning: {
    main: '#F59E0B',
    dark: '#D97706',
    light: '#FDE68A'
  },
  error: {
    main: '#EF4444',
    dark: '#DC2626',
    light: '#FECACA'
  },
  info: {
    main: '#38BDF8',
    dark: '#0EA5E9',
    light: '#BAE6FD'
  }
};

const getPalette = (mode: ThemeMode) => ({
  mode,
  ...basePalette,
  background: mode === 'dark'
    ? {
        default: '#0B1020',
        paper: '#121A2F'
      }
    : {
        default: '#F5F7FF',
        paper: '#FFFFFF'
      },
  text: mode === 'dark'
    ? {
        primary: '#F8FAFF',
        secondary: '#B8C0E0'
      }
    : {
        primary: '#101326',
        secondary: '#4B5563'
      },
  divider: mode === 'dark' ? 'rgba(255,255,255,0.12)' : 'rgba(15,23,42,0.12)'
});

export const getMuiTheme = (mode: ThemeMode) =>
  createTheme({
    palette: getPalette(mode),
    typography: {
      fontFamily: 'Manrope, Inter, system-ui, sans-serif',
      h1: {
        fontSize: 'clamp(2.5rem, 3vw, 3.5rem)',
        fontWeight: 700
      },
      h2: {
        fontSize: 'clamp(2rem, 2.4vw, 2.75rem)',
        fontWeight: 700
      },
      h3: {
        fontSize: 'clamp(1.5rem, 2vw, 2rem)',
        fontWeight: 600
      },
      h4: {
        fontSize: '1.5rem',
        fontWeight: 600
      },
      h5: {
        fontSize: '1.25rem',
        fontWeight: 600
      },
      h6: {
        fontSize: '1.1rem',
        fontWeight: 600
      },
      body1: {
        fontSize: '1rem',
        lineHeight: 1.7
      },
      body2: {
        fontSize: '0.95rem',
        lineHeight: 1.6
      }
    },
    breakpoints: {
      values: {
        xs: 320,
        sm: 768,
        md: 1024,
        lg: 1200,
        xl: 1536
      }
    },
    spacing: 4
  });

const createSpacing = () => {
  const spacingFn = (value: number): string => `${0.25 * value}rem`;
  return Object.assign(spacingFn, {
    xs: '0.25rem',
    sm: '0.5rem',
    md: '1rem',
    lg: '2rem',
    xl: '3rem'
  });
};

export const getStyledTheme = (mode: ThemeMode): DefaultTheme => {
  const muiTheme = getMuiTheme(mode);

  return {
    ...muiTheme,
    breakpoints: {
      ...muiTheme.breakpoints,
      mobile: '320px',
      tablet: '768px',
      desktop: '1024px',
      large: '1440px'
    },
    spacing: createSpacing(),
    colors: {
      border: mode === 'dark' ? 'rgba(148,163,184,0.2)' : 'rgba(15,23,42,0.12)',
      text: muiTheme.palette.text.primary,
      muted: muiTheme.palette.text.secondary,
      background: {
        hover: mode === 'dark' ? 'rgba(148,163,184,0.12)' : 'rgba(15,23,42,0.04)',
        subtle: mode === 'dark' ? '#0F172A' : '#EEF2FF'
      },
      accent: basePalette.secondary.main,
      error: {
        main: muiTheme.palette.error.main,
        light: muiTheme.palette.error.light
      }
    },
    borderRadius: {
      xs: '8px',
      sm: '12px',
      md: '16px',
      lg: '24px',
      pill: '999px'
    },
    shadows: {
      sm: '0 10px 30px rgba(15, 23, 42, 0.08)',
      md: '0 24px 60px rgba(15, 23, 42, 0.12)',
      glow: mode === 'dark'
        ? '0 0 40px rgba(122, 134, 255, 0.35)'
        : '0 0 40px rgba(70, 84, 246, 0.25)'
    },
    gradients: {
      hero: mode === 'dark'
        ? 'radial-gradient(circle at top, rgba(122, 134, 255, 0.25), transparent 55%), linear-gradient(135deg, #0B1020 0%, #121A2F 60%, #1B2240 100%)'
        : 'radial-gradient(circle at top, rgba(70, 84, 246, 0.18), transparent 55%), linear-gradient(135deg, #F5F7FF 0%, #FFFFFF 60%, #EEF2FF 100%)',
      card: mode === 'dark'
        ? 'linear-gradient(135deg, rgba(18,26,47,0.9), rgba(24,33,62,0.9))'
        : 'linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,255,0.9))'
    }
  };
};

====================================================================================================
FILE: src/theme/ThemeModeContext.tsx
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/theme/ThemeModeContext.tsx
SIZE: 2286 bytes
SHA256: e232df732816f3ae43fae14575a6901ef9cdc3fdae6d6545feb95e907c7e4408
====================================================================================================
import React, { createContext, useContext, useEffect, useMemo, useState } from 'react';
import { ThemeProvider as MUIThemeProvider } from '@mui/material/styles';
import { ThemeProvider as StyledThemeProvider } from 'styled-components';
import { getMuiTheme, getStyledTheme, ThemeMode } from './theme';

interface ThemeModeContextValue {
  mode: ThemeMode;
  setMode: (mode: ThemeMode) => void;
  toggleMode: () => void;
}

const ThemeModeContext = createContext<ThemeModeContextValue | undefined>(undefined);

const STORAGE_KEY = 'ga-theme';

export const ThemeModeProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [mode, setMode] = useState<ThemeMode>('light');

  useEffect(() => {
    if (typeof window === 'undefined') {
      return;
    }
    try {
      const stored = window.localStorage.getItem(STORAGE_KEY) as ThemeMode | null;
      if (stored === 'light' || stored === 'dark') {
        setMode(stored);
        return;
      }
    } catch (error) {
      console.warn('Theme storage unavailable:', error);
    }
    const prefersDark = window.matchMedia?.('(prefers-color-scheme: dark)').matches;
    setMode(prefersDark ? 'dark' : 'light');
  }, []);

  useEffect(() => {
    if (typeof document === 'undefined') {
      return;
    }
    document.documentElement.dataset.theme = mode;
    try {
      window.localStorage.setItem(STORAGE_KEY, mode);
    } catch (error) {
      console.warn('Theme storage unavailable:', error);
    }
  }, [mode]);

  const value = useMemo(
    () => ({
      mode,
      setMode,
      toggleMode: () => setMode(prev => (prev === 'light' ? 'dark' : 'light'))
    }),
    [mode]
  );

  const muiTheme = useMemo(() => getMuiTheme(mode), [mode]);
  const styledTheme = useMemo(() => getStyledTheme(mode), [mode]);

  return (
    <ThemeModeContext.Provider value={value}>
      <MUIThemeProvider theme={muiTheme}>
        <StyledThemeProvider theme={styledTheme}>
          {children}
        </StyledThemeProvider>
      </MUIThemeProvider>
    </ThemeModeContext.Provider>
  );
};

export const useThemeMode = (): ThemeModeContextValue => {
  const context = useContext(ThemeModeContext);
  if (!context) {
    throw new Error('useThemeMode must be used within ThemeModeProvider');
  }
  return context;
};

====================================================================================================
FILE: src/types/auth.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/auth.ts
SIZE: 1673 bytes
SHA256: 179b6ef3d3af518909dcb6d5e95d0e63460dca1e46177cf3686acf3b1b695b22
====================================================================================================
import { User, UserCredential } from 'firebase/auth';

export interface AuthError {
  code?: string;
  message: string;
}

export interface AuthContextType {
  currentUser: User | null;
  user: User | null;
  loading: boolean;
  isLoading: boolean;
  isAuthReady: boolean;
  error: string | null;
  login: (email: string, password: string) => Promise<UserCredential>;
  loginWithGoogle: () => Promise<User | null>;
  signup: (email: string, password: string) => Promise<UserCredential>;
  logout: () => Promise<void>;
  clearError: () => void;
}

export interface Student {
  id: string;
  name: string;
  grade: string;
  parentId: string;
  hasTakenAssessment: boolean;
  createdAt: string;
  updatedAt: string;
  learningStyle?: string;
  assessmentResults?: object;
}

export interface Parent {
  id: string;
  uid: string;
  email: string;
  displayName: string;
  phone?: string;
  students: string[];
  createdAt: string;
  updatedAt: string;
}

export interface AuthRouteProps {
  children: React.ReactNode;
}

export interface PrivateRouteProps {
  children: React.ReactNode;
}

declare global {
  interface WindowEventMap {
    'firebase-auth-worker-status': CustomEvent<{
      success: boolean;
      isSecure: boolean;
      supportsServiceWorker: boolean;
      error?: string;
    }>;
    'firebase-auth-error': CustomEvent<{
      error: string;
      fallbackToRedirect?: boolean;
      status?: number;
    }>;
    'firebase-auth-popup-ready': CustomEvent<{
      secure: boolean;
    }>;
    'firebase-auth-success': CustomEvent<{
      status: number;
    }>;
    'firebase-auth-security': CustomEvent<{
      secure: boolean;
    }>;
  }
}

export {};

====================================================================================================
FILE: src/types/css.d.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/css.d.ts
SIZE: 193 bytes
SHA256: 8d5127d8c5a9f08db89696312f79bdb416d10f7d153438cf80e04c159bf07859
====================================================================================================
declare module '*.module.css' {
  const classes: { [key: string]: string };
  export default classes;
}

declare module '*.css' {
  const css: { [key: string]: string };
  export default css;
}

====================================================================================================
FILE: src/types/dashboard.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/dashboard.ts
SIZE: 557 bytes
SHA256: 5e8c719a5911fc4c2deddefe3c9d5e345974753e11adc2d2ed2b7472ebf74716
====================================================================================================

export interface StudentProgress {
  completionRate: number;
  timeSpent: number;
  accuracy: number;
  subjectProgress: {
    [subject: string]: {
      completed: number;
      total: number;
    };
  };
}

export interface LearningStyle {
  visual: number;
  auditory: number;
  reading: number;
  kinesthetic: number;
  recommendations: string[];
}

export interface DashboardState {
  activeTab: 'overview' | 'progress' | 'learning-styles' | 'curriculum';
  studentData: {
    progress: StudentProgress;
    learningStyle: LearningStyle;
  } | null;
}

====================================================================================================
FILE: src/types/firebase.d.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/firebase.d.ts
SIZE: 515 bytes
SHA256: c6ad6a3e598a88d1c51d2111794b225ed4ef2b55222df2b27cf6a2c55834bf84
====================================================================================================
// File: /src/types/firebase.d.ts
// Description: Type declarations for Firebase modules
// Author: GitHub Copilot
// Created: 2024-02-12

declare module 'firebase/app' {
  export * from '@firebase/app';
}

declare module 'firebase/auth' {
  export * from '@firebase/auth';
}

declare module 'firebase/firestore' {
  export * from '@firebase/firestore';
}

declare module 'firebase/analytics' {
  export * from '@firebase/analytics';
}

declare module 'firebase/messaging' {
  export * from '@firebase/messaging';
}

====================================================================================================
FILE: src/types/profiles.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/profiles.ts
SIZE: 1147 bytes
SHA256: b3ece794a40d84d6afd0cf9acdd8d7e4c6cb25589d4504a9110e4660f5275796
====================================================================================================
// Base Types
export interface BaseProfile {
    uid: string;
    email: string;
    displayName: string;
    createdAt: string;
    updatedAt: string;
}

// Parent Profile Types
export interface Parent extends BaseProfile {
    phone?: string;
    students: string[];
}

// Student Profile Types
export interface Student {
    id: string;
    parentId: string;
    name: string;
    grade: string;
    learningStyle?: LearningStyle;
    hasTakenAssessment: boolean;
    assessmentStatus?: string;
    createdAt: string;
    updatedAt: string;
    recommendedActivities?: string[];
    progress?: StudentProgress[];
    assessmentResults?: AssessmentResult[];
}

// Progress Types
export interface StudentProgress {
    courseId: string;
    completed: number;
    total: number;
    lastAccessed: string;
}

// Assessment Types
export interface AssessmentResult {
    date: string;
    score: number;
    subject: string;
    details: Record<string, unknown>;
}

// Learning Style Types
export interface LearningStyle {
    type: 'visual' | 'auditory' | 'kinesthetic' | 'reading/writing';
    strengths: string[];
    recommendations: string[];
}

====================================================================================================
FILE: src/types/service-worker.d.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/service-worker.d.ts
SIZE: 0 bytes
SHA256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
====================================================================================================


====================================================================================================
FILE: src/types/student.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/student.ts
SIZE: 346 bytes
SHA256: a0c82b2fb59dd88ea5179f697e539f086c66a9f62cdce4f1449724984a23c100
====================================================================================================
export interface Student {
  id: string;
  name: string;
  grade?: string;
  age?: number;
  learningStyle?: string;
  hasTakenAssessment: boolean;
  progress?: Array<{
    id: string;
    type: string;
    name: string;
    date: string;
  }>;
  recommendedActivities?: string[];
  createdAt?: string;
  updatedAt?: string;
  parentId: string;
}

====================================================================================================
FILE: src/types/styled.d.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/styled.d.ts
SIZE: 946 bytes
SHA256: 878c63cac67d4baed76c0e3ea2e985a75083f0ed7da83b47694e6202a1a48b2a
====================================================================================================
import 'styled-components';
import { Theme } from '@mui/material/styles';

declare module 'styled-components' {
  export interface DefaultTheme extends Theme {
    breakpoints: Theme['breakpoints'] & {
      mobile: string;
      tablet: string;
      desktop: string;
      large: string;
    };
    spacing: Theme['spacing'] & {
      xs: string;
      sm: string;
      md: string;
      lg: string;
      xl: string;
    };
    colors: {
      border: string;
      text: string;
      muted: string;
      accent: string;
      background: {
        hover: string;
        subtle: string;
      };
      error: {
        main: string;
        light: string;
      };
    };
    borderRadius: {
      xs: string;
      sm: string;
      md: string;
      lg: string;
      pill: string;
    };
    shadows: {
      sm: string;
      md: string;
      glow: string;
    };
    gradients: {
      hero: string;
      card: string;
    };
  }
}

====================================================================================================
FILE: src/types/task.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/task.ts
SIZE: 623 bytes
SHA256: edd40bdf08ace20234dd67d50ab9a1f2127ec9309faec79c897730a2c34b78b0
====================================================================================================
// File: /src/types/task.ts
// Description: Type definitions for task-related data structures
// Author: GitHub Copilot
// Created: 2024

export interface TaskStatus {
  status: 'pending' | 'in_progress' | 'completed' | 'failed';
  task_id: string;
  last_updated?: string;
  details?: string;
}

export interface TaskResult {
  content: any;
  metadata?: {
    agent_id?: string;
    agent_name?: string;
    agent_role?: string;
    [key: string]: any;
  };
}

export interface TaskRequest {
  task_type: string;
  subject: string;
  grade_level: string;
  learning_style: string;
  custom_params?: Record<string, any>;
}

====================================================================================================
FILE: src/types/types.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/types.ts
SIZE: 932 bytes
SHA256: 38710408f0cca809e0ada7c84dcc5283bd25fc8cf4c914b01d92ba8da38ec496
====================================================================================================
// File: /types/types.ts
// Description: Core type definitions for user profiles, assessments, and course progress
// Author: Geaux Academy Team
// Created: 2024
export interface ParentProfile {
  uid: string;
  email: string;
  displayName: string;
  students: StudentProfile[];
}

export interface StudentProfile {
  id: string;
  parentId: string;
  firstName: string;
  lastName: string;
  age: number;
  grade: string;
  learningStyle?: LearningStyle;
  assessmentResults?: AssessmentResult[];
  progress?: CourseProgress[];
}

export interface LearningStyle {
  type: 'visual' | 'auditory' | 'kinesthetic' | 'reading/writing';
  strengths: string[];
  recommendations: string[];
}

export interface AssessmentResult {
  date: string;
  score: number;
  subject: string;
  details: Record<string, unknown>;
}

export interface CourseProgress {
  courseId: string;
  completed: number;
  total: number;
  lastAccessed: string;
}

====================================================================================================
FILE: src/types/userTypes.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/types/userTypes.ts
SIZE: 382 bytes
SHA256: f0440eb7d9bfdddc08a74ebe857ad36eb71944227471c4a324d893f06920398d
====================================================================================================

export interface BaseProfile {
  uid: string;
  email: string;
  displayName: string;
  createdAt: Date;
  updatedAt: Date;
}

export interface ParentProfile extends BaseProfile {
  role: 'parent';
  phone?: string;
  students: StudentProfile[];
}

export interface StudentProfile extends BaseProfile {
  role: 'student';
  parentId: string;
  grade: string;
  dateOfBirth: Date;
}

====================================================================================================
FILE: src/utils/animations.js
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/utils/animations.js
SIZE: 546 bytes
SHA256: 6f03110923db6942da7426ff95d8c688dfccd048c1764fd77bb68a1ce3314291
====================================================================================================
export const pageTransitions = {
  hidden: { opacity: 0, y: 30 },
  visible: { 
    opacity: 1,
    y: 0,
    transition: { duration: 0.3, staggerChildren: 0.2 }
  },
};

export const containerVariants = {
  initial: { 
    opacity: 0, 
    y: 20 
  },
  animate: { 
    opacity: 1, 
    y: 0,
    transition: { 
      duration: 0.6,
      staggerChildren: 0.1 
    }
  },
  exit: { 
    opacity: 0, 
    y: -20 
  }
};

export const itemVariants = {
  initial: { opacity: 0, y: 20 },
  animate: { opacity: 1, y: 0 },
  hover: { scale: 1.05 }
};

====================================================================================================
FILE: src/utils/supabase.ts
ABS:  /home/evopimp/Geaux-Dev/GA-MVP/src/utils/supabase.ts
SIZE: 253 bytes
SHA256: da92490e291965390fa9375eeead5bcea36421a24b6d33498e212c461fc4edba
====================================================================================================
import { createClient } from '@supabase/supabase-js';

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseKey = import.meta.env.VITE_SUPABASE_ANON_KEY;
const supabase = createClient(supabaseUrl, supabaseKey);

export default supabase;

====================================================================================================
Included files: 179
Skipped files:  0

